{
  "contracts": {
    "gesture_fsm": {
      "interface": "IGestureFSM",
      "methods": [
        "register_gesture(pattern: GesturePattern, callback: Callable)",
        "process_frame(frame: Frame) -> GestureEvent[]",
        "get_state() -> FSMState",
        "reset_state() -> None"
      ],
      "events": [
        "gesture_detected",
        "gesture_started",
        "gesture_completed",
        "gesture_cancelled"
      ]
    },
    "calibration_api": {
      "interface": "ICalibration",
      "methods": [
        "calibrate_device(device_config: DeviceConfig) -> CalibrationResult",
        "save_calibration(device_id: str, data: CalibrationData) -> bool",
        "load_calibration(device_id: str) -> CalibrationData | None",
        "validate_calibration(data: CalibrationData) -> ValidationResult"
      ]
    },
    "agent_tools": {
      "interface": "IAgentTool",
      "signatures": [
        "execute(action: ActionSpec, context: ExecutionContext) -> ToolResult",
        "validate_input(input: Any) -> ValidationResult",
        "get_capabilities() -> CapabilitySet",
        "cleanup() -> None"
      ]
    },
    "device_adapter": {
      "interface": "IDeviceAdapter",
      "methods": [
        "initialize(config: DeviceConfig) -> bool",
        "get_sensor_data() -> SensorData",
        "send_output(data: OutputData) -> bool",
        "get_capabilities() -> DeviceCapabilities"
      ]
    }
  },
  "schemas": {
    "gesture_pattern": {
      "type": "object",
      "properties": {
        "id": {"type": "string"},
        "name": {"type": "string"},
        "sequence": {"type": "array", "items": {"$ref": "#/definitions/gesture_keypoint"}},
        "tolerance": {"type": "number", "minimum": 0, "maximum": 1},
        "min_confidence": {"type": "number", "minimum": 0, "maximum": 1}
      },
      "required": ["id", "name", "sequence"]
    },
    "device_config": {
      "type": "object",
      "properties": {
        "device_id": {"type": "string"},
        "device_type": {"enum": ["desktop", "mobile", "embedded", "wearable"]},
        "sensors": {"type": "array", "items": {"type": "string"}},
        "capabilities": {"$ref": "#/definitions/device_capabilities"},
        "calibration_data": {"$ref": "#/definitions/calibration_data"}
      },
      "required": ["device_id", "device_type", "sensors"]
    },
    "agent_action": {
      "type": "object",
      "properties": {
        "tool": {"type": "string"},
        "operation": {"type": "string"},
        "parameters": {"type": "object"},
        "context": {"$ref": "#/definitions/execution_context"}
      },
      "required": ["tool", "operation"]
    }
  }
}
