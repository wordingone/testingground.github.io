"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="2119fc9e-c1ba-5c2b-9f17-1c7d6af89f99")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[6642],{485756:(e,t,n)=>{n.d(t,{e:()=>r});let r="https://go/figmascope-docs"},157325:(e,t,n)=>{n.d(t,{rf:()=>i,tV:()=>s,zG:()=>a});var r=n(848318),l=n(744577);function a(){return r.createElement(s,null,r.createElement("p",null,"Reading file..."))}function i({error:e}){let t="Oops! Something went wrong";return"string"==typeof e?t=e:e instanceof Error&&(t=e.message,console.error(e)),r.createElement(s,null,r.createElement("p",{style:l.sx.colorTextOndanger.colorBgDanger.p16.font20.maxW400.$},t))}function s({children:e}){return r.createElement("div",{style:l.sx.fillPositionedContainer.flex.itemsCenter.justifyCenter.flexColumn.lh1_5Lines.font16.$},e)}},216642:(e,t,n)=>{n.d(t,{J:()=>e5});var r=n(848318),l=n(593189),a=n(382902),i=n(989232),s=n(10855),c=n(857607),o=n(72462),d=n(744577),u=n(367378),m=n(920689),p=n(300322),f=n(304756),g=n(209595),h=n(56680),E=n(143903),y=(e=>(e[e.Fetched=0]="Fetched",e[e.Fetching=1]="Fetching",e[e.NeverFetched=2]="NeverFetched",e))(y||{});let b=(0,a.eU)(e=>{let t=e(g.OC);return"fullscreen"===t.view?`/api/file/scenegraph_validations/${t.fileKey}`:(0,h.E)(t)&&t.urlParams?.type==="server_file"?`/api/admin/scenegraph_validations/${t.urlParams.key}`:null}),v=(0,a.eU)(e=>null!=e(b)),x=(()=>{let e=(0,a.eU)((0,p.Ok)());return(0,a.eU)(t=>t(e),async(t,n)=>{let r;if(t(e).status===o.r.LOADING)return;let l=t(b);if(l){n(e,(0,p.ux)());try{r=await C(l)}catch(t){n(e,(0,p.uW)(t));return}n(e,(0,p.NY)(r))}})})();async function C(e){let t=await (0,f.GD)(e),n=new E._;for(let e of t.data.meta.data.results.violations)if("always-fail-for-testing"!==e.name)for(let t of e.instances)n.add(t.guid,t.message);return n}var w=n(4633),S=n(285944),k=n(157325),N=n(889276),I=n(360180),A=n(430385),D=n(186606),T=n(349048),F=n(73823),P=n.n(F),j=n(297638),$=n(925085),_=n(110210);function O(e,t,n){return[...e.getObject(n)?.mapDescendants(e=>e.id)??[],...t?.getObject(n)?.mapDescendants(e=>e.id)??[]]}let U=(0,a.FZ)((0,a.eU)({}),(e,t,n)=>{let r=n(m.Cc),l=n(m.lX);switch(t.type){case"toggleExpanded":return(0,_.X9)(e,t.objectId,t.toggleSubtree?O(r,l,t.objectId):[]);case"expandAncestors":return(0,_.nE)(e,function(e,t,n){return[...e.getObject(n)?.mapAncestors(e=>e.id)??[],...t?.getObject(n)?.mapAncestors(e=>e.id)??[]]}(r,l,t.objectId),!0);case"expandDescendants":return(0,_.nE)(e,[t.objectId,...O(r,l,t.objectId)],!0);case"collapseDescendants":return(0,_.IO)(e,[t.objectId,...O(r,l,t.objectId)])}});var X=n(559389),B=n(871043),L=n(236792);let R=(0,a.eU)({status:"initial"}),z=(0,a.eU)(0),H=(0,a.eU)(!1),Y=(0,a.eU)(e=>{if(e(H)){let t=e(z);return`Indexing search results (this may take a moment)... [${t}/???]`}return null}),M=(0,S.Sv)("searchMode",S.Y6.Search),V=(0,a.eU)(e=>{let t=e(R),n=e(m.Cc),r=e(w.Sd);return"initial"===t.status?r.map(e=>n.getObject(e)).filter(B.Vq).map(e=>({object:e,matches:[]})).reverse():"results"in t&&t.results.length>0?t.results:null}),W=(0,a.eU)(e=>{let t=e(R);if("searching"===t.status&&0===t.results.length){let t=["Searching..."],n=e(Y);return n&&t.push(n),t}if("success"===t.status&&0===t.results.length){let t=["No results found."],n=e(m.Cc);return n instanceof L.G2&&t.push("Some content may be unavailable because of incremental loading"),"hide"===n.sensitiveTextPolicy&&t.push("Searching text fields is limited beacuse text redaction has been applied."),t}return"error"===t.status?["Error searching:",String(t.error)]:null}),G=(0,a.eU)(e=>{if(e(M)!==S.Y6.Filter)return null;let t=e(R);return"results"in t?t.results.map(e=>e.object):null}),J=(0,a.eU)(e=>{if(e(M)!==S.Y6.Filter)return null;let t=e(W);return t?t.join(" "):null}),K=(0,S.Sv)("sortOrder",S.hX.Position),q=(0,a.eU)(e=>{let t=[S.hX.Position,S.hX.Name,S.hX.NodeId];return e(m.Cc).rootObjects[0]?.displayProperties.memoryFraction!=null&&t.push(S.hX.Memory),t.sort(),t}),Z=(0,a.eU)(e=>{switch(e(K)){case S.hX.Position:return ee;case S.hX.Name:return Q;case S.hX.Memory:return en;case S.hX.NodeId:return et}});function Q(e,t){return e.displayProperties.name.localeCompare(t.displayProperties.name)}function ee(e,t){let[n,r]=er(e,t);if(n&&r){let e=n.parentIndex?.position,t=r.parentIndex?.position;if(null==e&&null==t)return 0;if(null==t)return 1;if(null==e)return -1;if(e<t)return -1;else if(e>t)return 1}return Q(e,t)}function et(e,t){let[n,r]=er(e,t);if(n&&r){let{sessionID:e,localID:t}=n.guid??{localID:-1,sessionID:-1},{sessionID:l,localID:a}=r.guid??{localID:-1,sessionID:-1};return e-l||t-a}return ee(e,t)}function en(e,t){return(t.displayProperties.memoryFraction??0)-(e.displayProperties.memoryFraction??0)||ee(e,t)}function er(e,t){return"nodeChange"in e&&"nodeChange"in t?[e.nodeChange,t.nodeChange]:[null,null]}var el=n(260288),ea=n(83087),ei=n(967139),es=n(156974),ec=n(967688),eo=n(72785),ed=n(779778);let eu=es.ms,em=es.c$,ep=es.wv;function ef({contextMenuData:{objectId:e,position:t},onClose:n}){let[l,i]=r.useState(0),s=t.left,c=t.top+l>window.innerHeight?t.top-l:t.top,{canSelectInApp:o,selectInApp:p}=r.useContext(w.H$),f=r.useRef(null);(0,ei.ww)(f,n);let g=(0,a.md)(m.Cc).getObject(e),h=g instanceof ed.R?g:null,E=g instanceof eo.E?g:null,[y,b]=(0,a.fp)(u.Oz),v=(0,a.Xr)(U);if(null==g)return null;let x=e=>()=>{e(),n()},C=g.children.length>0,S=(()=>{if(o?.(g))return x(()=>p(g))})(),k=e=>x(()=>D.glU.triggerAction(e,{guid:g.id})),N=y?.object.id===g.id;return r.createElement(eu,{style:{...d.sx.fixed.$,left:s,top:c},dropdownRef:e=>{e&&i(e.clientHeight)}},r.createElement("div",{ref:f},S&&r.createElement(em,{onClick:S},"Jump to node"),C&&r.createElement(em,{onClick:x(()=>v({type:"expandDescendants",objectId:e}))},"Expand descendants"),C&&r.createElement(em,{onClick:x(()=>v({type:"collapseDescendants",objectId:e}))},"Collapse descendants"),(S||C)&&r.createElement(ep,null),N&&r.createElement(em,{onClick:x(()=>b({type:"clear"}))},"Stop diffing against this node"),(!N||y?.type!==u.Lp.Layer)&&r.createElement(em,{onClick:x(()=>b({type:"start",diffType:u.Lp.Layer,id:e}))},"Layer diff against this node"),(!N||y?.type!==u.Lp.Tree)&&r.createElement(em,{onClick:x(()=>b({type:"start",diffType:u.Lp.Tree,id:e}))},"Tree diff against this node"),h&&r.createElement(ep,null),h&&r.createElement(em,{onClick:x(()=>{let e=JSON.stringify(h.nodeChange,null,2);navigator.clipboard.writeText(e)})},"Copy NodeChange JSON"),E&&"DOCUMENT"!==E.type&&"CANVAS"!==E.type&&r.createElement(em,{onClick:k("debug-print-as-test-code")},(0,ec.tx)("fullscreen_actions.debug-print-as-test-code")),E&&"VECTOR"===E.type&&r.createElement(em,{onClick:k("debug-print-vector-network-as-test-code")},(0,ec.tx)("fullscreen_actions.debug-print-vector-network-as-test-code"))))}var eg=n(249673);let eh=r.memo(function({diffType:e,id:t,primaryId:n,secondaryId:l,leftBadges:a,indent:i,index:s,isExpanded:c,isLeaf:o,isSelected:d,isSelectedSecondary:u,memoryFraction:m,rightBadges:p,additionalBadges:f,name:g,style:h,select:E,toggle:y,showContextMenu:b}){let v=r.useCallback(e=>{e.preventDefault(),b({objectId:t,position:{left:e.clientX,top:e.clientY}})},[t,b]);return r.createElement(eg.Z,{changeType:e,indent:i,isExpanded:c,isLeaf:o,isSelected:d,isSelectedSecondary:u,keyboardNavigationPath:[s],onContextMenu:v,onMouseEnter:()=>{D.Ez5&&D.Ez5.editorState().figmaScopeHighlightedNode.set(t)},onMouseLeave:()=>{D.Ez5&&D.Ez5.editorState().figmaScopeHighlightedNode.set("")},select:()=>E(t),style:h,toggleExpanded:e=>y(t,e)},r.createElement(el.IV,{badges:a}),r.createElement(ea.nK,{id:n}),l&&r.createElement(ea.nK,{id:l,secondary:!0}),r.createElement("div",{title:g,className:j.s.ellipsis.noWrap.overflowHidden.$},g),r.createElement($.M,null),r.createElement(el.IV,{badges:p}),f&&r.createElement(el.IV,{badges:f}),null!=m&&r.createElement("span",{className:j.s.colorTextSecondary.$,title:"Node memory usage"},(100*m).toFixed(3),"%"))});function eE({style:e,data:{displayedObjects:t,selectedId:n,selectedIds:l,...a},index:i}){let s=t[i],c=(0,T.zN)(e);return r.createElement(eh,{...s,...a,isSelected:n===s.id,isSelectedSecondary:!!s&&l.includes(s.id),style:c,index:i})}let ey=[];function eb({appSelection:e}){let t=(0,a.md)(ev),[n,l]=(0,a.fp)(w.AJ),i=(0,T.k9)(()=>e?.guids??ey,[e?.guids]),[s,c]=r.useState(null),o=r.useRef(null);r.useEffect(()=>{let e=t.findIndex(e=>e.id===n);e>=0&&o.current?.scrollToItem(e,"smart")},[t,n]);let d=(0,a.Xr)(U);r.useEffect(()=>{d({type:"expandAncestors",objectId:n})},[d,n]);let u=r.useCallback((e,t)=>{d({type:"toggleExpanded",objectId:e,toggleSubtree:t})},[d]),m=(0,a.md)(J);return 0===t.length?r.createElement("div",null,m??"Empty Scene"):r.createElement(r.Fragment,null,r.createElement(N.A,{disableWidth:!0},({height:e})=>r.createElement(I.Y1,{itemSize:18,itemCount:t.length,height:e,ref:o,itemData:{displayedObjects:t,selectedId:n,selectedIds:i,select:l,toggle:u,showContextMenu:c},width:"100%"},eE)),s&&r.createElement(ef,{contextMenuData:s,onClose:()=>{c(null)}}))}let ev=(0,a.eU)(e=>e(ex)??e(eC)),ex=(0,a.eU)(e=>{let t=e(G);if(!t)return null;let n=e(m.Cc);return t.map(e=>({...e.displayProperties,diffType:void 0,additionalBadges:n.getAdditionalBadges?.(e.id)??[],id:e.id,indent:0,isExpanded:!1,isLeaf:!0}))}),eC=(0,a.eU)(e=>{let t=e(m.Cc),n=t.rootObjects,r=e(u.sg),l=e(U),a=e(Z),i=(()=>{switch(r.type){case u.Lp.Tree:return[r.object];case u.Lp.Full:return r.resource.rootObjects;default:return[]}})(),s={resource:t,sortFn:a,expandedIds:l};return P()(n,e=>{if(!e)return[];if(0===i.length)return ew(e,0,s);let t=ek(e,i);return t?eS(e,t,0,s):function e(t,n,r,l){let a=t.id,i=t.children,s=0===i.length,c=!!l.expandedIds[a],o=!1,d=P()(i,t=>{let a=(()=>{let a=ek(t,n);if(a)return eS(t,a,r+1,l);let i=n.filter(e=>e.someAncestor(e=>e.id===t.id,{includeSelf:!0}));return i.length>0?e(t,i,r+1,l):ew(t,r+1,l)})();return o=o||a[0]?.diffType!=null,a}),u={...t.displayProperties,diffType:o?"CHILD_MODIFIED":void 0,additionalBadges:l.resource.getAdditionalBadges?.(a)??[],id:a,indent:r,isExpanded:c,isLeaf:s};return c?[u,...d]:[u]}(e,i,0,s)})});function ew(e,t,n){let r=e.id,l=e.children,a=0===l.length,i=!!n.expandedIds[r],s={...e.displayProperties,diffType:void 0,additionalBadges:n.resource.getAdditionalBadges?.(r)??[],id:r,indent:t,isExpanded:i,isLeaf:a};return i?[s,...P()(eN(l,n.sortFn),e=>ew(e,t+1,n))]:[s]}function eS(e,t,n,r){let l=e??t;if(!l)throw Error("Diffing two nothings");if(e&&t&&e.id!==t.id)throw Error("Diffing nodes with mismatched keys");let a=l.id,i=eN(e?.children??[],r.sortFn),s=eN(t?.children??[],r.sortFn),c=(0,A.TR)(i,s,e=>e.id),o=!1,d=P()(c,({left:e,right:t})=>{let l=eS(e,t,n+1,r);return o=o||l[0]?.diffType!=null,l}),m=(0,u.wc)(e,t,o),p=e?.displayProperties.name,f=t?.displayProperties.name,g=null!=p&&null!=f&&p!==f?`${p} <=> ${f}`:l.displayProperties.name,h=!!r.expandedIds[a],E={...l.displayProperties,diffType:m,additionalBadges:r.resource.getAdditionalBadges?.(a)??[],id:a,indent:n,isExpanded:h,isLeaf:0===c.length,name:g};return h?[E,...d]:[E]}function ek(e,t){return t.find(t=>t.id===e.id)}function eN(e,t){return e.slice().sort(t)}var eI=n(536384),eA=n.n(eI),eD=n(199627),eT=n(561258);function eF({searchRef:e}){let t=(0,a.Xr)(w.AJ),n=(0,a.md)(V),l=(0,a.md)(W),[i,s]=r.useState(!1),c=(0,a.md)(M)!==S.Y6.Filter&&i,o=r.useRef(null);(0,ei.ww)(o,()=>s(!1));let d=r.useCallback(e=>{s(!1),t(e.object.id)},[s,t]);return r.createElement(eT.dP,{className:j.s.flex1.$,ref:o,allowVim:!0},r.createElement(eP,{searchRef:e,setShowSearchResults:s}),c&&(n?r.createElement(e$,{searchResults:n,selectResult:d}):l?r.createElement(e_,{text:l}):null))}function eP({searchRef:e,setShowSearchResults:t}){let n=(0,a.md)(M),l=function(){let e=(0,a.md)(m.Cc),t=(0,a.Xr)(R),n=(0,a.Xr)(z),l=(0,a.Xr)(H),i=r.useRef(0),s=r.useMemo(()=>(0,X.s)(r=>{let a=++i.current;l(!0);let s=new TaskController({priority:"user-visible"});scheduler.postTask(()=>l(!0),{signal:s.signal,delay:300}).catch(()=>{});let c=e.getObject(r);c&&t({status:"searching",results:[{object:c,matches:[{value:r,property:"id",isExact:!0}]}]}),e.getSearch(n).then(e=>e.searchWithText(r)).then(e=>{s.abort(),a===i.current&&t({status:"success",results:e})}).catch(e=>{console.error(e),s.abort(),a===i.current&&t({status:"error",error:e})})},200),[e,n,t,l]);return r.useCallback(e=>0===e.length?t({status:"initial"}):s(e),[s,t])}(),{setKeyboardNavigationElement:i}=(0,eT.M3)({path:[0,0],id:"input"});return r.createElement("input",{ref:t=>{i(t),e.current=t},type:"text",placeholder:n,className:"search_bar--searchBar--qnpUm",onChange:e=>l(e.target.value),onFocus:()=>t(!0)})}function ej({children:e}){return r.createElement("div",{className:j.s.absolute.zIndexModal.colorBg.b1.colorBorder.mt2.overflowAuto.$,style:{maxHeight:450,minWidth:500,boxShadow:"0px 2px 14px var(--color-shadow, rgba(0, 0, 0, 0.15))"}},e)}function e$({searchResults:e,selectResult:t}){return r.createElement(ej,null,e.map((e,n)=>r.createElement(eO,{key:e.object.id,result:e,index:n,onClick:()=>t(e)})))}function e_({text:e}){return r.createElement(ej,null,(Array.isArray(e)?e:[e]).map((e,t)=>r.createElement("div",{key:t,className:j.s.colorBg.colorTextSecondary.px8.py4.$},e)))}function eO({result:e,index:t,onClick:n}){let{object:l,matches:a}=e,{displayProperties:i}=l,{setKeyboardNavigationElement:s,keyboardNavigationItem:c,isFauxFocused:o}=(0,eT.M3)({path:[1,t],id:l.id});return r.useEffect(()=>{c&&0===t&&c.fauxFocus()},[c,t]),r.createElement("button",{ref:s,className:eA()(j.s.block.wFull.px4.py8.colorText.flex.itemsCenter.alignLeft.$,"search_bar--searchResult--0iOvc",o&&"search_bar--fauxFocus--BYHwu"),onClick:n},r.createElement($.Y,{spacing:4},r.createElement(el.IV,{badges:i.leftBadges}),r.createElement(ea.nK,{id:l.displayProperties.primaryId}),r.createElement(eD.R,{className:j.s.overflowHidden.$,text:i.name}),r.createElement($.M,null),a.filter(({property:e})=>!["id","guid","name","type","phase"].includes(e)).map(({property:e,value:t},n)=>r.createElement($.Y,{key:n,spacing:4,width:"hug-contents"},r.createElement("div",null,e,":"),r.createElement("div",null,t)))))}var eU=n(720522);function eX({children:e}){return r.createElement("div",{className:j.s.colorBorder.px8.py4.bb1.bSolid.$},r.createElement($.Y,null,e))}function eB(e){let t={className:"toolbar_components--iconButton--1-XNe",children:r.createElement(eU.B,{svg:e.svg}),title:e.label,"aria-label":e.label};return"href"in e?r.createElement("a",{...t,href:e.href,target:"blank"}):r.createElement("button",{...t,onClick:e.onClick,disabled:e.disabled})}var eL=n(129503),eR=n(718668);function ez({searchRef:e}){let[t,n]=(0,a.fp)(w.jI),[l,s]=(0,a.fp)(w.JN),c=!!r.useContext(w.H$).selectInApp,[o,d]=(0,a.fp)(M),[u,m]=(0,a.fp)(w.bA),[p,f]=(0,a.fp)(K),g=(0,a.md)(q);return r.createElement(eX,null,r.createElement(eF,{searchRef:e}),r.createElement("select",{name:"filter-or-search",title:"Determines whether the text box searches or filters",onChange:e=>{d(e.target.value)},defaultValue:o},r.createElement("option",{value:S.Y6.Search},"Search"),r.createElement("option",{value:S.Y6.Filter},"Filter")),r.createElement("select",{name:"sort",title:"Sets the left panel sort order",onChange:e=>{let t=e.target.value;i.definedAnalyticsHandler.trackDefinedEvent("figmascope.sort_order_change",{order:function(e){switch(e){case S.hX.Position:return"position";case S.hX.Name:return"name";case S.hX.Memory:return"memory";case S.hX.NodeId:return"node_id"}}(t)}),f(t)},defaultValue:p},g.map(e=>r.createElement("option",{key:e,value:e},"Sort by ",e))),c&&r.createElement(r.Fragment,null,r.createElement("input",{name:"follow-selection",type:"checkbox",checked:u,onChange:e=>m(e.target.checked)}),r.createElement("label",{htmlFor:"follow-selection"},"Follow")),r.createElement(eB,{label:"Select Previous",onClick:()=>{n(),i.definedAnalyticsHandler.trackDefinedEvent("figmascope.select_prev_next",{direction:"prev",source:"button"})},disabled:!t,svg:eL.A}),r.createElement(eB,{label:"Select Next",onClick:()=>{s(),i.definedAnalyticsHandler.trackDefinedEvent("figmascope.select_prev_next",{direction:"next",source:"button"})},disabled:!l,svg:eR.A}))}var eH=n(779868),eY=n(820067),eM=n(264478),eV=n(485756),eW=n(380980),eG=n(458609),eJ=n(619883),eK=n(821527);function eq({selectedObject:e,diffObject:t,onClose:n}){let l=(0,a.md)(v),[i,s]=(0,a.fp)(u.Oz);return r.createElement(eX,null,e?i&&t?r.createElement(e0,{selectedObject:e,diffObject:t,diffState:i,setDiffState:s}):r.createElement(eQ,{object:e}):t?r.createElement(eQ,{object:t}):r.createElement($.M,null),l&&r.createElement(e1,null),r.createElement(eB,{label:"Help",href:eV.e,svg:eW.A}),n&&r.createElement(eB,{label:"Close FigmaScope",onClick:n,svg:eK.default}))}let eZ=j.s.flex1.ml10.my4.$;function eQ({object:e}){return r.createElement("div",{className:eZ},r.createElement("span",{className:j.s.fontSemiBold.$},e.displayProperties.longName))}function e0({selectedObject:e,diffObject:t,diffState:n,setDiffState:l}){let i=(0,a.Xr)(w.AJ);return r.createElement("div",{className:j.s.flex1.ml10.my4.$},r.createElement("div",null,r.createElement("span",{className:j.s.colorTextSecondary.$},"Diffing "),r.createElement("span",{className:j.s.fontSemiBold.$},e.displayProperties.longName),r.createElement("span",{className:j.s.colorTextSecondary.$}," against "),r.createElement("span",{className:j.s.fontSemiBold.$},t.displayProperties.longName)),n&&r.createElement("div",{className:j.s.colorTextSecondary.mt8.$},r.createElement($.Y,{spacing:8,width:"hug-contents",height:"hug-contents",verticalAlignItems:"start"},r.createElement("span",null,"Snapshot of"," ",r.createElement(eM.CY,{onClick:()=>i(n.object.id),className:j.s.colorTextFigjam.fontSemiBold.$,trusted:!0},n.object.displayProperties.name),n.type===u.Lp.Tree&&" and full subtree"," was taken at"," ",n.time.toLocaleTimeString("en-US")),r.createElement(eM.CY,{onClick:()=>l({type:"refresh"}),className:j.s.colorTextDesign.$,trusted:!0},"Refresh"),r.createElement(eM.CY,{onClick:()=>l({type:"clear"}),className:j.s.colorTextDanger.$,trusted:!0},"Finish"))))}function e1(){let[e,t]=(0,a.fp)(x),n=e.status===o.r.LOADING;return r.useEffect(()=>{t()},[t]),r.createElement(eB,{label:n?"Fetching scene graph validation failures":"Refetch scenegraph validation failures",onClick:t,svg:n?eG.A:eJ.A})}var e8=n(87463);function e2({children:e}){return r.createElement("div",{className:j.s.hFull.$},r.createElement($.Y,{direction:"vertical",width:"fill-parent",height:"fill-parent",padding:0,spacing:0},r.createElement(e6,null),e))}function e6(){let{name:e,metadata:t}=(0,a.md)(m.Cc);return r.createElement($.Y,{direction:"horizontal",width:"fill-parent",height:32,padding:8,spacing:32,backgroundColor:"toolbar"},e&&r.createElement(e8.E,{fontWeight:"bold",color:"toolbar"},e),t&&Object.entries(t).map(([e,t])=>t&&r.createElement("span",{key:e},r.createElement(e8.E,{color:"toolbar-secondary"},e,": "),r.createElement(e8.E,{color:"toolbar",fontFamily:"monospace",fontWeight:"bold"},t))))}var e3=n(440046);let e5=r.memo(function({embedded:e=!1,emptyStateContent:t,onClose:n,appSelection:l,setAppSelection:i}){let s=(0,a.md)(m.lu);switch(s.status){case o.r.INIT:return t??r.createElement(k.zG,null);case o.r.LOADING:return r.createElement(k.zG,null);case o.r.FAILURE:return r.createElement(k.rf,{error:s.error});case o.r.SUCCESS:}if(0===s.value.primaryResource.rootObjects.length)return r.createElement(k.rf,{error:"No root objects found. This is likely a bug - please report in #figmascope."});let c=r.createElement(e7,{appSelection:l,setAppSelection:i,onClose:n});return e?c:r.createElement(e2,null,c)});function e7({onClose:e,appSelection:t,setAppSelection:n}){let p=r.useRef(null),f=r.useRef(null),{windowInnerWidth:g}=(0,s.l)(),[h,E]=(0,a.fp)(e4),[y,b]=(0,a.fp)(e9),[v,C]=(0,l.i)({onDrag(e){let t=e.clientX/g;E(`${(100*t).toFixed(2)}%`)}}),[S,k]=(0,l.i)({onDrag(e){let t=f.current;if(!t)return;let n=(e.clientX-t.getBoundingClientRect().left)/t.clientWidth;b(`${(100*n).toFixed(2)}%`)}}),N=(0,a.Xr)(w.jI),I=(0,a.Xr)(w.JN),A=r.useCallback(e=>{let t=p.current;document.activeElement!==t&&(e.keyCode===c.Uz.FORWARD_SLASH&&t?(t.focus(),e.preventDefault()):e.keyCode===c.Uz.BRACKET_LEFT?(i.definedAnalyticsHandler.trackDefinedEvent("figmascope.select_prev_next",{direction:"prev",source:"keyboard"}),N()):e.keyCode===c.Uz.BRACKET_RIGHT&&(i.definedAnalyticsHandler.trackDefinedEvent("figmascope.select_prev_next",{direction:"next",source:"keyboard"}),I()))},[N,I]),D=(0,a.md)(m.Cc);window.figmaScope=D,window.figmaScopeScene=D,function(e){let[t,n]=(0,a.fp)(x);t.status===o.r.SUCCESS&&e?.setSceneGraphValidationInfo?.(t.value),(0,r.useEffect)(()=>{n()},[n])}(D);let T=(0,a.md)(w.AJ),F=(0,a.md)(w.gg),P=(0,a.md)(u.tH);return r.createElement(w.q,{appSelection:t,setAppSelection:n},r.createElement("div",{className:e3.zr,style:d.sx.if(v||S,{cursor:"ew-resize"}).$,onKeyDown:A},r.createElement("div",{className:e3.Pd,style:{width:h}},r.createElement(ez,{searchRef:p}),r.createElement(eH.o,{className:e3._H},r.createElement("div",{...C({style:{position:"absolute",top:0,bottom:0,right:"-3px",width:"5px",gridArea:"center",cursor:"ew-resize",zIndex:9}})}),r.createElement(eb,{appSelection:t}))),r.createElement("div",{className:e3.io},r.createElement(eq,{selectedObject:F,diffObject:P,onClose:e}),(F||P)&&r.createElement("div",{className:e3._t,ref:f},r.createElement(eH.o,{className:e3.S3,style:{width:y}},r.createElement("div",{...k({style:{position:"absolute",top:0,bottom:0,right:"-3px",width:"5px",gridArea:"center",cursor:"ew-resize",zIndex:9}})}),r.createElement(eY.P,{panel:"middle",items:F?.rawProperties,diffItems:P?.rawProperties,extraItems:void 0,key:T})),r.createElement(eH.o,{className:e3.xK},r.createElement(eY.P,{panel:"right",items:F?.computedProperties,diffItems:P?.computedProperties,extraItems:D.getAdditionalProperties?.(T),key:T}))))))}let e4=(0,S.Sv)("leftPanelWidth","35%"),e9=(0,S.Sv)("rightPanelWidth","50%")}}]);

//# debugId=2119fc9e-c1ba-5c2b-9f17-1c7d6af89f99

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/0a74f7abee01c6da1595be188297e3c57424b48d/6642-25dd91c2e6728de2.min.js.map