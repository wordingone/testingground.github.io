"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="01df812a-299c-50b3-bba3-3bf49c6583b6")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[8254],{851625:(e,t,i)=>{if(i.d(t,{VB:()=>d,hT:()=>s,s2:()=>l,sW:()=>m}),443==i.j)var a=i(871043);var r=i(967688),n=i(902947),o=i(594950);function l(e,t){let i=e.reduce((e,t)=>(e[t.id]={...t,eligibleUsers:new Set},e),{}),a=new Set(Object.keys(i)),r={};t.forEach(e=>{let t=e.user,a=t.id;r[a]||(r[a]={id:a,email:t.email,handle:t.handle,img_url:t.img_url,recommendedSeatTypeByTeamId:{},teamIds:[]}),r[a].recommendedSeatTypeByTeamId[e.team_id]=e.recommended_seat_type?.key??o.Gu.VIEW,r[a].teamIds.push(e.team_id),i[e.team_id]&&i[e.team_id].eligibleUsers.add(a)});let n=s({eligibleTeamsByTeamId:i,selectedTeamIds:a,eligibleUsersByUserId:r,selectedUserSeatTypes:{}});return{eligibleTeamsByTeamId:i,selectedTeamIds:a,eligibleUsersByUserId:r,selectedUserSeatTypes:n}}function s({eligibleTeamsByTeamId:e,selectedTeamIds:t,eligibleUsersByUserId:i,selectedUserSeatTypes:a}){let r={},o={};return t.forEach(t=>{e[t].eligibleUsers.forEach(e=>{if(!r[e]){if(a[e])r[e]=a[e];else{let a=i[e];o[e]||(o[e]=[]),o[e].push(a.recommendedSeatTypeByTeamId[t])}}})}),{...r,...Object.keys(o).reduce((e,t)=>(e[t]=(0,n.Up)(o[t]),e),{})}}function d(e){let t={};return Object.entries(e).forEach(([e,i])=>{(0,a.Vq)(i)&&i!==o.Gu.VIEW&&(t[e]=i)}),t}function m({eligibleUsersByUserId:e,eligibleTeamsByTeamId:t,selectedTeamIds:i}){let a=[];return Object.values(e).filter(e=>e.teamIds.some(e=>i.includes(e))).forEach(e=>{let n=e.teamIds,o=i.filter(e=>n.includes(e)).map(e=>t[e]),l=1===o.length?o[0].name:(0,r.t)("checkout.multiple_teams_label");a.push({id:e.id,handle:e.handle,email:e.email,img_url:e.img_url,teams:l})}),a}},918254:(e,t,i)=>{i.d(t,{S_:()=>x,cw:()=>U,g_:()=>N,gk:()=>O});var a=i(938982),r=i(989232),n=i(637640),o=i(615233),l=i(586588),s=i(998568),d=i(987591),m=i(304756),_=i(314979),c=i(967688),p=i(210853),u=i(902947),g=i(851625),f=i(151223),E=i(453370),h=i(31898),y=i(353231),T=i(705693),b=i(253332),v=i(906941),S=i(259964),I=i(872240),A=i(175957),w=i(725183),P=i(422444),C=i(679617),R=i(198850),k=i(442214);let N=(0,f.nF)((e,{teamId:t,teamName:i,previousView:a})=>{e.dispatch(E.$T({view:"promoReview",teamId:t,teamName:i,previousView:a}))}),x=(0,f.nF)((e,t)=>{let{promoCode:i,teamId:a,teamName:r,onSuccess:n,onError:o}=t;m.Ay.post("/api/teams/redeem_promo",{promo_code:i,team_id:a}).then(()=>{n(),e.dispatch(_.s.flash((0,c.t)("flash.redeem_promo.success",{teamName:r})))}).catch(t=>{o(),e.dispatch(_.s.error((0,c.t)("flash.redeem_promo.failure")))})}),U=(0,f.nF)((e,t)=>{let{teamId:i,surveyResult:a}=t,r=e.getState(),n=r.user?.id;m.Ay.post(`/api/teams/${i}/pro_trial`).then(()=>{n?e.dispatch(P._l({workspace:{userId:n,orgId:null,teamId:i},view:{view:"allProjects"}})):e.dispatch(E.$T({view:"team",teamId:i})),e.dispatch(_.s.flash((0,c.t)("payments.pro_trial.start_pro_trial_success"))),v.R_.trackInitiationSubmit(a,!0)}).catch(t=>{n?e.dispatch(P._l({workspace:{userId:n,orgId:null,teamId:i},view:{view:"recentsAndSharing"}})):e.dispatch(E.$T({view:"recentsAndSharing"})),e.dispatch(_.s.error((0,c.t)("payments.pro_trial.start_pro_trial_error"))),v.R_.trackInitiationSubmit(a,!1)})}),O=(0,f.nF)((e,{teamName:t,invites:i,teamId:f,selectedCurrency:v,hasSelectedStudentTeam:N,displayedCostBreakdown:x,teamFlowType:U,onSuccess:O,isCampfireCart:D,displayedPriceKeys:W})=>{let B;let F=e.getState(),L=F.user?.id,G=(e,t)=>({annual_quantity:(0,b.fD)(e,t),monthly_quantity:(0,b.Rq)(e,t)}),z=(0,b.ne)(F.payment.billingPeriod);if(!z){e.dispatch(_.s.error((0,c.t)("payments.invalid_billing_interval_error")));return}let M=null,$=null;if(D){let t=F.payment.cartSelections?.selectedUserSeatTypes,i=Object.values(f?F.teamUserByTeamId[f]:{}).map(e=>e.user_id??"");if(t&&(0,u.HG)(t,i))$=(0,g.VB)(t)??null,M=F.payment.cartSelections?.countBySeatType??null;else{e.dispatch(_.s.error((0,c.t)("payments.errors.error_processing_upgrade_request"))),(0,s.$D)(a.e.MONETIZATION_UPGRADES,Error("Unable to retrieve valid selectedUserSeatTypes while submitting Pro upgrade request"),{extra:{teamId:f,userIds:i,selectedUserSeatTypes:t}});return}}else M={design:F.payment.numDesignEditors,figjam:F.payment.numWhiteboardEditors};let j={...G(F.payment.billingPeriod,F.payment.numDesignEditors),annual_whiteboard_quantity:G(F.payment.billingPeriod,F.payment.numWhiteboardEditors).annual_quantity,monthly_whiteboard_quantity:G(F.payment.billingPeriod,F.payment.numWhiteboardEditors).monthly_quantity,editor_status_changes:F.payment.editorStatusChanges,subscription_monthly_quantity_figjam:G(F.payment.billingPeriod,F.payment.numWhiteboardEditors).monthly_quantity,subscription_annual_quantity_figjam:G(F.payment.billingPeriod,F.payment.numWhiteboardEditors).annual_quantity,vat_gst_id:F.payment.vatGstId||null,regional_vat_gst_id:F.payment.regionalVatGstId||null,legal_name:F.payment.legalName||null,display_name:F.payment.displayName||null,selected_user_seat_types:$,count_by_billable_product:M,billing_interval:z,displayed_cost_breakdown:x,displayed_price_keys:W};if(null===f){let e=F.payment.promo,a=!!F.user&&(0,d.cn)(F.user);if(null!=e)B={...j,team_name:t,invite_emails:i,promo_code:e.code};else if(a&&N)B={...j,team_name:t,invite_emails:i,student_team:!0};else{let e=(0,o.DC)();B={...j,team_name:t,invite_emails:i,subscribe_to_pro:!0,address:e?.address,payment_method_id:e?.payment_method_id,selected_currency:v}}}else B={...j,selected_currency:v};let q=f?`/api/subscriptions-2018-11-08/team/${f}`:"/api/teams/create",V=F.selectedView,X=F.payment.upgradingNewTeam;m.Ay.post(q,B).then(({data:t})=>{let a="team"in t.meta?t.meta.team:t.meta,o=()=>{if(L){let t={userId:L,teamId:a.id,orgId:null};e.dispatch(P._l({workspace:t,view:{view:"allProjects",isProUpgrade:!0}}))}else e.dispatch(E.$T({view:"team",teamId:a.id})),e.dispatch(h.to({type:w.C,data:{teamId:a.id}}))};f||(0,T.P8)(a,e,{dontRedirect:!0,inviteEmails:i,teamFlowType:U}),e.dispatch(C.I2({submitPending:!1})),e.dispatch(C.Je({editorStatusChanges:{upgrade:{whiteboard:[],design:[],slides:[],sites:[],cooper:[],figmake:[]},downgrade:{whiteboard:[],design:[],slides:[],sites:[],cooper:[],figmake:[]}}})),a&&e.dispatch(R.yJ({team:a,userInitiated:!1})),a.student_team&&e.dispatch(C.Lo({billingPeriod:I.tY.UNSPECIFIED})),F.payment.promo&&((0,l._H)(),e.dispatch(C.Ay({promo:null})));let s=new URLSearchParams(n.Ay.location.search);if(X){if(s.get("onCompleteRedirectFileKey")){let t=decodeURIComponent(s.get("onCompleteRedirectFileKey")),i=decodeURIComponent(s.get("onCompleteRedirectNodeId")),r={view:"fullscreen",fileKey:t,...i?{nodeId:i}:{}};e.dispatch(E.$T({...r,teamToMoveFileToOnNavigate:a.id,editorType:S.nT.Design}))}else o()}else if(e.dispatch(k.Be({teamId:a.id})),s.get("onCompleteRedirectFileKey")){let t=decodeURIComponent(s.get("onCompleteRedirectFileKey")),i=decodeURIComponent(s.get("onCompleteRedirectNodeId")),r={view:"fullscreen",fileKey:t,...i?{nodeId:i}:{}};e.dispatch(E.$T({...r,teamToMoveFileToOnNavigate:a.id,editorType:S.nT.Design}))}else o();(0,r.trackEvent)("Pro Team Purchased (GTM)"),O&&O()}).catch(t=>{let i=(t,i={})=>{let a=new URLSearchParams(n.Ay.location.search),r=a.get("onCompleteRedirectFileKey"),o=a.get("onCompleteRedirectNodeId");e.dispatch(E.$T({...V,view:"teamUpgrade",teamFlowType:t?A.SC.UPGRADE_EXISTING_TEAM:A.SC.CREATE_AND_UPGRADE,teamId:t||i.freeTeamId||null,paymentStep:I.tn.PAYMENT_AND_ADDRESS,previousView:V.previousView,planType:A.Sc.TEAM,...r?{searchParams:{onCompleteRedirectFileKey:r,onCompleteRedirectNodeId:o}}:{}}))};e.dispatch(C.I2({submitPending:!1}));let o=t.data?.message||t.message;null!==f?(0,y._J)("Pro Checkout Error",f,F,{error_message:o,request_params:JSON.stringify(B)}):(0,r.trackEvent)("Pro Checkout Error"),(0,s.$D)(a.e.BILLING_EXPERIENCE,Error(`[Billing] Pro checkout API failed: ${o}`),{extra:{countByBillableProduct:M,selectedUserSeatTypes:$,billingInterval:z,displayedCostBreakdown:x,displayedPriceKeys:W,isCampfireCart:D}}),((t,a)=>{let r=(0,p.J)(t);r&&("PROMO_CODE"===t.data.reason?(e.dispatch(C.Ay({promo:null})),i(a,{}),e.dispatch(C.Qg({error:r}))):"CARD_ERROR"===t.data.reason?(e.dispatch(C.WG({token:null})),i(a,{}),e.dispatch(C.Qg({error:r}))):e.dispatch(_.s.error(r)))})(t,f)})})},412082:(e,t,i)=>{var a;i.d(t,{S:()=>a}),(a||(a={})).getTrackingProperties=function(e){return{productArea:"pro_tier_onboarding",teamId:e}}},906941:(e,t,i)=>{i.d(t,{$Q:()=>A,Mm:()=>T,NN:()=>y,PG:()=>C,R_:()=>a,TB:()=>w,bo:()=>P,h3:()=>I,iX:()=>b});var a,r=i(848318),n=i(989232),o=i(615233),l=i(720522),s=i(967688),d=i(87463),m=i(800802),_=i(180390),c=i(302396),p=i(731272),u=i(858457),g=i(971107),f=i(690182),E=i(1757),h=i(817229);let y="Pro Trial Initiation Modal",T="Pro Trial Downgrade Modal";var b=(e=>(e[e.SELECT_TEAM=0]="SELECT_TEAM",e[e.SELECT_TEAM_TYPE=1]="SELECT_TEAM_TYPE",e[e.SELECT_FEATURES=2]="SELECT_FEATURES",e))(b||{}),v=(e=>(e.FREELANCER="freelancer",e.AGENCY="agency",e.PRODUCT="product",e.OTHER="other",e))(v||{}),S=(e=>(e.UNLIMITED_FILES="unlimited_files",e.COMPONENT_LIBRARIES="component_libraries",e.ORGANIZING_FILES="organizing_files",e.VOTING_WORKSHOPS="voting_workshops",e.PLAYING_VIDEOS="playing_videos",e.SHARING_FILES="sharing_files",e.INVITING_VISITORS="inviting_visitors",e.AUDIO="audio",e))(S||{});let I=Object.keys(b).length/2,A={freelancer:(0,o.ck)("06cfa92c773695fb0be0202d467640e521950e67"),agency:(0,o.ck)("e98abc8479042db5e94f5c35bf764ad4326f892f"),product:(0,o.ck)("915ace9058a397e6e4ceadc221dd20a9d95898d7"),other:(0,o.ck)("4423aaa8499d483db2703e6cad1b4c90805e7f16")},w=[{teamType:"freelancer",imageAltText:()=>(0,s.t)("pro_trials_v3.pro_trial_initiation_modal.freelancer"),descriptionText:r.createElement(d.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.freelancer"))},{teamType:"agency",imageAltText:()=>(0,s.t)("pro_trials_v3.pro_trial_initiation_modal.agency"),descriptionText:r.createElement(d.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.agency"))},{teamType:"product",imageAltText:()=>(0,s.t)("pro_trials_v3.pro_trial_initiation_modal.product"),descriptionText:r.createElement(d.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.product"))},{teamType:"other",imageAltText:()=>(0,s.t)("pro_trials_v3.pro_trial_initiation_modal.other_team_type"),descriptionText:r.createElement(d.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.other_team_type"))}],P={unlimited_files:r.createElement(l.B,{svg:_.A}),component_libraries:r.createElement(l.B,{svg:f.A}),organizing_files:r.createElement(l.B,{svg:c.A}),voting_workshops:r.createElement(l.B,{svg:h.A}),playing_videos:r.createElement(l.B,{svg:E.A}),sharing_files:r.createElement(l.B,{svg:g.A}),inviting_visitors:r.createElement(l.B,{svg:p.A}),audio:r.createElement(l.B,{svg:u.A})},C=[{featureType:"unlimited_files",featureText:r.createElement(d.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.unlimited_files"))},{featureType:"component_libraries",featureText:r.createElement(d.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.component_libraries"))},{featureType:"organizing_files",featureText:r.createElement(d.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.organizing_files"))},{featureType:"voting_workshops",featureText:r.createElement(d.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.voting_workshopping"))},{featureType:"playing_videos",featureText:r.createElement(d.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.playing_videos"))},{featureType:"sharing_files",featureText:r.createElement(d.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.sharing_files"))},{featureType:"inviting_visitors",featureText:r.createElement(d.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.inviting_visitors"))},{featureType:"audio",featureText:r.createElement(d.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.using_audio"))}];(a||(a={})).trackInitiationSubmit=function(e,t){(0,n.trackEvent)("pro_trial_initiation_submit",{startedTrialSuccessfully:t,...e,...m.ng.getTrackingProperties(),features:e.features?e.features.join(", "):null})}},247157:(e,t,i)=>{i.d(t,{X:()=>s});var a=i(848318),r=i(720522),n=i(297638),o=i(87463);if(443==i.j)var l=i(191424);function s(e){return a.createElement("p",{className:n.s.flex.itemsCenter.gap8.mt8.$},a.createElement(r.B,{svg:l.A,className:n.s.colorIconDesign.$}),a.createElement(o.E,{fontSize:13},e.bulletLabel))}},725183:(e,t,i)=>{i.d(t,{C:()=>b});var a=i(848318),r=i(301168),n=i(967688),o=i(87463),l=i(31898),s=i(531919),d=i(957872),m=i(125761),_=i(412082),c=i(446951),p=i(566901),u=i(615233),g=i(297638),f=i(247157);let E="seen_pro_onboarding_welcome_modal";function h(){return a.createElement("div",{className:g.s.mt16.$},a.createElement(f.X,{bulletLabel:(0,n.t)("pro_onboarding.unlimited_files_for_all_your_ideas")}),a.createElement(f.X,{bulletLabel:(0,n.t)("pro_onboarding.unlimited_projects_to_organize_your_files")}),a.createElement(f.X,{bulletLabel:(0,n.t)("pro_onboarding.dev_mode_for_simpler_inspection_and_handoff")}))}function y({user:e}){return a.createElement(o.E,{fontSize:24,fontWeight:"bold"},(0,n.tx)("pro_onboarding.welcome_to_professional",{userName:e.name.split(" ")[0]}))}function T(){return a.createElement("img",{width:313,src:(0,u.ck)("4323e87513cec17f5decef84ebf66c12c0d2ea59"),alt:"An illustration welcoming you to Figma Professional"})}let b=(0,c.Ju)(function({teamId:e}){let t=(0,m.iZ)(),i=(0,r.d4)(t=>t.teams[e]),c=(0,r.wA)(),u=(0,r.d4)(e=>e.userTeamFlags);if(!t||u[e]?.[E])return null;let g=()=>{c(s.bE({all_team_flags:[{team_id:e,flags:{[E]:!0}}]})),c(l.Ce())},f=a.createElement(a.Fragment,null,(0,n.tx)("pro_onboarding.you_successfully_upgraded_team_name_to_a_professional_plan",{teamName:a.createElement(o.E,{fontWeight:"bold"},i.name)}),a.createElement(h,null));return a.createElement(p.xx,{title:a.createElement(y,{user:t}),description:f,media:a.createElement(T,null),primaryCta:{type:"button",label:a.createElement(o.E,{fontSize:13},(0,n.tx)("pro_onboarding.get_started")),ctaTrackingDescriptor:d.c.GET_STARTED,onClick:g},trackingContextName:"Pro Onboarding Team Upgrader Welcome Modal",trackingProperties:_.S.getTrackingProperties(e),onClose:g,closeButtonColor:"light"})},"ProOnboardingTeamUpgraderWelcomeModal")}}]);

//# debugId=01df812a-299c-50b3-bba3-3bf49c6583b6

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/51c094608881c2924591528eac3f9d77f264cb6e/8254-211287b71435265e.min.js.map