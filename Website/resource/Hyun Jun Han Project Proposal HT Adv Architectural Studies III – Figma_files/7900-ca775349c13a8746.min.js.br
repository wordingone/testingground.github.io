"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="52f1a478-155f-5fc9-a74b-dd696468c581")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[7900],{32389:(e,r,t)=>{t.d(r,{J:()=>s});var a=t(848318),n=t(301168),o=t(159229),c=t(967688);function s({index:e}){let r=(0,n.d4)(e=>!!e.payment.promo);return a.createElement("div",{className:"team_creation_breadcrumbs--stepBreadcrumbs--tP08U step_breadcrumb--stepBreadcrumbs--E4Woe"},a.createElement(o.On,{selected:1===e,number:1,text:(0,c.t)("team_creation.name_your_team")}),a.createElement(o.On,{selected:2===e,number:2,text:(0,c.t)("team_creation.add_team_members")}),!r&&a.createElement(o.On,{selected:3===e,number:3,text:(0,c.t)("team_creation.finish_setup")}))}},708896:(e,r,t)=>{t.d(r,{wn:()=>M,Ix:()=>P,dl:()=>G,lo:()=>x});var a=t(848318),n=t(938982),o=t(989232),c=t(621464),s=t(615233),i=t(998568),l=t(304756),d=t(967688),_=t(210853),m=t(872240);function E({defaultCountry:e,initialAddress:r}={}){let[t,n]=(0,a.useState)({...(0,m.EB)(e),...r??{}}),o=async()=>{try{await l.Ay.post("/api/validate_address",{address:t})}catch(e){return(0,_.J)(e)||e.message}return null};return{address:t,updateAddress:e=>{n(r=>({...r,...e}))},trimAddress:()=>{let e;for(e in t)t[e]=t[e].trim()},validateAddress:o}}var u=t(218732),p=t(834612),I=t(36942);let T={API_CONNECTION_ERROR:"api_connection_error",API_ERROR:"api_error",AUTHENTICATION_ERROR:"authentication_error",CARD_ERROR:"card_error",INVALID_REQUEST_ERROR:"invalid_request_error",RATE_LIMIT_ERROR:"rate_limit_error",VALIDATION_ERROR:"validation_error"},y=Object.values(T);function g(e){return!!e&&"object"==typeof e&&y.includes(e.type)}function f(e){return g(e)&&e.type===T.CARD_ERROR}function S(e){return g(e)&&e.type===T.VALIDATION_ERROR}function R(e){return g(e)&&"setup_intent_authentication_failure"===e.code}var h=(e=>(e.NETSUITE_ITEM_ID_ORG_DESIGN_DEPRECATED="2011",e.NETSUITE_ITEM_ID_ORG_FIGJAM_DEPRECATED="2635",e.NETSUITE_ITEM_ID_ENTERPRISE_DESIGN_DEPRECATED="2636",e.NETSUITE_ITEM_ID_ENTERPRISE_FIGJAM_DEPRECATED="2637",e.NETSUITE_ITEM_ID_ORG_DESIGN_JPY_DEPRECATED="3092",e.NETSUITE_ITEM_ID_ORG_FIGJAM_JPY_DEPRECATED="3082",e.NETSUITE_ITEM_ID_ENTERPRISE_DESIGN_JPY_DEPRECATED="3071",e.NETSUITE_ITEM_ID_ENTERPRISE_FIGJAM_JPY_DEPRECATED="3075",e.NETSUITE_ITEM_ID_ORG_DESIGN_EUR_DEPRECATED="3090",e.NETSUITE_ITEM_ID_ORG_FIGJAM_EUR_DEPRECATED="3084",e.NETSUITE_ITEM_ID_ENTERPRISE_DESIGN_EUR_DEPRECATED="3073",e.NETSUITE_ITEM_ID_ENTERPRISE_FIGJAM_EUR_DEPRECATED="3077",e.NETSUITE_ITEM_ID_ORG_DESIGN_GBP_DEPRECATED="3091",e.NETSUITE_ITEM_ID_ORG_FIGJAM_GBP_DEPRECATED="3083",e.NETSUITE_ITEM_ID_ENTERPRISE_DESIGN_GBP_DEPRECATED="3072",e.NETSUITE_ITEM_ID_ENTERPRISE_FIGJAM_GBP_DEPRECATED="3076",e.NETSUITE_ITEM_ID_ORG_DESIGN_CAD_DEPRECATED="3089",e.NETSUITE_ITEM_ID_ORG_FIGJAM_CAD_DEPRECATED="3085",e.NETSUITE_ITEM_ID_ENTERPRISE_DESIGN_CAD_DEPRECATED="3074",e.NETSUITE_ITEM_ID_ENTERPRISE_FIGJAM_CAD_DEPRECATED="3078",e.NETSUITE_ITEM_ID_ORG_DESIGN="190686",e.NETSUITE_ITEM_ID_ORG_FIGJAM="190681",e.NETSUITE_ITEM_ID_ENTERPRISE_DESIGN="190657",e.NETSUITE_ITEM_ID_ENTERPRISE_FIGJAM="190669",e.NETSUITE_ITEM_ID_ORG_DESIGN_JPY="190685",e.NETSUITE_ITEM_ID_ORG_FIGJAM_JPY="190680",e.NETSUITE_ITEM_ID_ENTERPRISE_DESIGN_JPY="190656",e.NETSUITE_ITEM_ID_ENTERPRISE_FIGJAM_JPY="190668",e.NETSUITE_ITEM_ID_ORG_DESIGN_EUR="190683",e.NETSUITE_ITEM_ID_ORG_FIGJAM_EUR="190678",e.NETSUITE_ITEM_ID_ENTERPRISE_DESIGN_EUR="190654",e.NETSUITE_ITEM_ID_ENTERPRISE_FIGJAM_EUR="190665",e.NETSUITE_ITEM_ID_ORG_DESIGN_GBP="190684",e.NETSUITE_ITEM_ID_ORG_FIGJAM_GBP="190679",e.NETSUITE_ITEM_ID_ENTERPRISE_DESIGN_GBP="190655",e.NETSUITE_ITEM_ID_ENTERPRISE_FIGJAM_GBP="190667",e.NETSUITE_ITEM_ID_ORG_DESIGN_CAD="190682",e.NETSUITE_ITEM_ID_ORG_FIGJAM_CAD="190677",e.NETSUITE_ITEM_ID_ENTERPRISE_DESIGN_CAD="190653",e.NETSUITE_ITEM_ID_ENTERPRISE_FIGJAM_CAD="190665",e))(h||{}),D=t(154333),N=t(583940),b=t(944239),C=t(506428),A=t(613896);function v(e,r,t){let a=t[e];return a&&!a.match(/rgba|color/)?a:("dark"===r?{colorBg:"#2c2c2c",colorBgSelected:"#4a5878",colorBorder:"#444",colorBorderBrand:"#105cad",colorBorderDanger:"#963323",colorBorderSelected:"#0c8ce9",colorIcon:"#fff",colorIconDanger:"#f24822",colorIconSecondary:"rgba(255, 255, 255, 0.7)",colorText:"#fff",colorTextBrand:"#7cc4f8",colorTextDanger:"#fca397",colorTextDisabled:"rgba(255, 255, 255, 0.4)",colorTextSecondary:"rgba(255, 255, 255, 0.7)"}:{colorBg:"#fff",colorBgSelected:"#e5f4ff",colorBorder:"#e6e6e6",colorBorderBrand:"#bde3ff",colorBorderDanger:"#ffc7c2",colorBorderSelected:"#0d99ff",colorIcon:"#191919",colorIconDanger:"#e03e1a",colorIconSecondary:"rgba(0, 0, 0, 0.5)",colorText:"rgba(0, 0, 0, 0.9)",colorTextBrand:"#007be5",colorTextDanger:"#dc3412",colorTextDisabled:"rgba(0, 0, 0, .3)",colorTextSecondary:"rgba(0, 0, 0, .5)"})[e]}let P="stripe-payment-element",x=(0,b.D)(e=>{let{address:r,updateAddress:t,trimAddress:c,validateAddress:l}=E({defaultCountry:e.defaultCountry,initialAddress:e.initialBillingAddress}),{address:T,updateAddress:y,trimAddress:h}=E({defaultCountry:e.defaultCountry,initialAddress:e.initialShippingAddress}),[b,x]=(0,a.useState)(null),[M,G]=(0,a.useState)(e.initialVatGstId??""),[B,U]=(0,a.useState)(null),[k,J]=(0,a.useState)(e.initialRegionalVatGstId??""),[F,$]=(0,a.useState)(e.initialCustomerLegalName??""),[L,V]=(0,a.useState)(e.initialNameOnPaymentMethod??""),Y=(0,a.useRef)(null),H=(0,s.Ay)().user_data,Q=function(){let e=(0,C.yM)(),r=(0,C.DP)();return{loader:"never",fonts:[{family:"Inter",src:`url(${(0,s.CZ)("webfont/1/Inter-Regular.woff2?v=3.10")})`,weight:"400"}],appearance:{labels:"floating",variables:{fontFamily:A.sq,fontSizeBase:"13px",borderRadius:"3px",gridRowSpacing:"0px",gridColumnSpacing:"14px",colorBackground:v("colorBg",r,e),colorText:v("colorText",r,e),colorTextPlaceholder:v("colorTextSecondary",r,e),colorDanger:v("colorTextDanger",r,e),colorIcon:v("colorIcon",r,e),colorIconCardError:v("colorIconDanger",r,e),colorIconCardCvcError:v("colorIconDanger",r,e),colorIconTab:v("colorIconSecondary",r,e),colorIconTabHover:v("colorIconSecondary",r,e),colorIconTabSelected:v("colorIconSecondary",r,e)},rules:{".Input":{padding:"0 16px",marginTop:"6px",marginBottom:"10px",lineHeight:"28px",boxShadow:"none",borderColor:v("colorBorder",r,e)},".Input:focus":{border:`1px solid ${v("colorBorderSelected",r,e)}`,boxShadow:`0 0 0 1px ${v("colorBorderSelected",r,e)}`},".Input--invalid, .Input--invalid:focus":{color:v("colorText",r,e),border:`1px solid ${v("colorBorderDanger",r,e)}`,boxShadow:`0 0 0 1px ${v("colorBorderDanger",r,e)}`},".Label":{transition:"none"},".Label--invalid":{color:v("colorTextDanger",r,e)},".Label--floating":{color:v("colorTextSecondary",r,e),opacity:1,margin:"5px 0 2px",fontSize:"9px"},".Label--resting":{color:v("colorTextSecondary",r,e)},".Tab":{padding:"12px",marginBottom:"10px",borderColor:v("colorBorder",r,e),color:v("colorTextDisabled",r,e),boxShadow:"none",transition:"none"},".Tab:hover":{backgroundColor:v("colorBgSelected",r,e),borderColor:v("colorBorderBrand",r,e),color:v("colorTextDisabled",r,e)},".Tab:focus, .Tab:active, .Tab--selected, .Tab--selected:hover,, .Tab--selected:focus, .Tab--selected:active":{backgroundColor:v("colorBgSelected",r,e),border:`1px solid ${v("colorBorderSelected",r,e)}`,boxShadow:`0 0 0 1px ${v("colorBorderSelected",r,e)}`,color:v("colorTextBrand",r,e)},".TabLabel":{paddingTop:"4px",lineHeight:1.5,letterSpacing:"0.055px",fontWeight:500}}}}}(),q=function(e){return{layout:{type:"tabs",defaultCollapsed:!1},fields:{billingDetails:{address:"never"}},terms:{auBecsDebit:"never",bancontact:"never",card:"never",ideal:"never",sepaDebit:"never",sofort:"never",usBankAccount:"never"},wallets:{applePay:"never",googlePay:"never"},defaultValues:{billingDetails:{name:e?.name,email:e?.email}}}}(H),[z,K]=(0,a.useState)(void 0);async function X(){let r=await O(e.setupIntentParams);return U(r.clientSecret),(0,o.trackEvent)("setup_intent_creation_attempted",Z(),{forwardToDatadog:!0}),r}async function j(){if(Y.current)return Y.current;try{let[r,t]=await Promise.all([(0,I.eV)(),X()]),a=r.elements({clientSecret:t.clientSecret,currency:e.currency,...Q});return Y.current=a,t.paymentMethods&&e.setPaymentMethods&&e.setPaymentMethods(t.paymentMethods),a}catch(e){(0,o.trackEvent)("setup_intent_creation_failed",Z(),{forwardToDatadog:!0}),W({error:e,code:"uninitialized-stripe-elements-error",message:(0,d.t)("payments.errors.error_loading_payment_form")})}}function W({error:e,code:r,message:t,extra:a={}}){x({code:r,message:t}),"currency-validation-error"===r||f(e)||S(e)||R(e)||(0,i.$D)(n.e.BILLING_EXPERIENCE,Error(`[Billing] ${"string"==typeof e?e:e.code??"StripeError"}`),r=>{let t="object"==typeof e?{stripe_error_details:(0,i.V5)((0,I.pV)(e)),...a}:a;return r.setExtras(t),g(e)&&(r.setTag("stripe_error_type",e.type),f(e)&&r.setLevel("warning")),r})}function Z(){return{...e.customerInfo,paymentFlowSource:e.paymentFlowSource,currency:e.currency,isCampfireCart:!!e.isCampfireCart}}async function ee(){if(e.canSeeBillingAddressExp&&!L)return x({code:"name-on-payment-method-required",message:(0,d.t)("payments.errors.name_on_payment_method_required")}),!0;if(e.canSeeBillingAddressExp)try{await N.$.validateAddresses({billingAddress:r,shippingAddress:T,teamId:e.customerInfo.teamId,isCheckout:e.isCheckout})}catch(e){return x({code:"address-validation-error",message:(0,_.J)(e)||e.message}),!0}else{let e=await l();if(e)return x({code:"address-validation-error",message:e}),!0}if(M&&!await (0,D.V)(M,r.country,()=>{},e=>{x({code:"vat-gst-id-verification-error",message:e})})||k&&!await (0,D.V)(k,r.country,()=>{},e=>{x({code:"vat-gst-id-verification-error",message:e})},r.region))return!0;if(e.canSeeBillingAddressExp){if(e.currency)try{await N.$.validateCurrency({teamId:e.customerInfo.teamId,currency:e.currency,billingAddress:r,shippingAddress:T,isCheckout:e.isCheckout})}catch(t){return W({error:"Currency/Address Mismatch",code:"currency-validation-error",message:(0,d.t)("payments.errors.currency_mismatch_with_country_error",{selected_currency:e.currency.toUpperCase()}),extra:{country:r.country,currency:e.currency}}),!0}else if(e.shouldCheckIpCurrency)try{await N.$.validateCurrency({teamId:e.customerInfo.teamId,currency:(0,p.LN)(),billingAddress:r,shippingAddress:T,isCheckout:e.isCheckout})}catch(t){return W({error:`Currency & IP address mismatch error: ${JSON.stringify(e.customerInfo)}, country: ${r.country}, currency: ${(0,p.LN)()}`,code:"currency-validation-error",message:(0,d.t)("payments.errors.currency_ip_mismatch_error")}),!0}}else{if(e.currency&&!(0,p.bu)(e.currency,r.country))return W({error:"Currency/Address Mismatch",code:"currency-validation-error",message:(0,d.t)("payments.errors.currency_mismatch_error",{selected_currency:e.currency.toUpperCase()}),extra:{country:r.country,currency:e.currency}}),!0;if(e.shouldCheckIpCurrency&&(0,p.ub)()!==r.country)return W({error:`Currency & IP address mismatch error: ${JSON.stringify(e.customerInfo)}, country: ${r.country}, currency: ${(0,p.LN)()}`,code:"currency-validation-error",message:(0,d.t)("payments.errors.currency_ip_mismatch_error")}),!0}return!1}return(0,a.useEffect)(()=>{let r=Y.current;r&&r.update({currency:e.currency})},[e.currency]),{createPaymentElement:async(e={})=>{let r=await j();if(!r){W({error:"Failed to get stripe elements",code:"uninitialized-stripe-elements-error",message:(0,d.t)("payments.errors.error_loading_payment_form")});return}let t=r.getElement("payment")??r.create("payment",q);t.on("ready",r=>{(0,o.trackEvent)("Payment Form Loaded",{...Z(),paymentMethod:z??I.lB.CARD,availableCurrencies:(0,p.B9)()}),z||K(I.lB.CARD),e.ready?.(r)}),t.on("change",r=>{let t=r.value?.type;(0,o.trackEvent)("Choose Payment Method Type",{...Z(),paymentMethod:t}),K(t),e.change?.(r)}),t.mount(`#${P}`)},unmountPaymentElement:async()=>{let e=await j();e?.getElement("payment")?.unmount()},savePayment:async()=>{if(x(null),await ee())return;if(!Y.current){W({error:"Cannot save payment without Stripe elements",code:"confirm-setup-error",message:(0,d.t)("payments.errors.confirm_setup_error")});return}c(),h();let t=()=>document.querySelectorAll("[name*=privateStripeFrame]").length,a=t(),n=setInterval(()=>{let r=!1;if(a!==t()&&((0,o.trackEvent)("Stripe Authentication Modal"),clearInterval(n),r=!0),H){let t=(0,u.lX)({teamId:e.customerInfo.teamId,userId:H.id});if(t){let e={...t,is3DS:r};(0,u.dT)(H.id,e)}}},1e3);(0,o.trackEvent)("Add payment method",{...Z(),paymentMethod:z},{forwardToDatadog:!0});let s=e.canSeeBillingAddressExp&&!(0,m.$V)(T)?{shipping_line1:T.line1||null,shipping_line2:T.line2||null,shipping_country:e.canSeeBillingAddressExp&&T.country||null,shipping_city:T.city||null,shipping_state:T.region||null,shipping_postal_code:T.postal_code||null}:null,i=await (0,I.eV)(),{error:l}=await i.confirmSetup({elements:Y.current,confirmParams:{return_url:w({customerInfo:e.customerInfo,currency:e.currency,billingPeriod:e.billingPeriod,teamName:e.teamName,userId:H?.id,isCheckout:e.isCheckout}),payment_method_data:{billing_details:{name:L,address:{line1:r.line1,line2:r.line2,country:r.country,city:r.city,state:r.region,postal_code:r.postal_code}},metadata:{vat_gst_id:M,regional_vat_gst_id:k||null,...s,customer_legal_name:F||null}}}});if(clearInterval(n),l){let e=(0,d.t)("payments.errors.confirm_setup_error");W({error:l,code:"confirm-setup-error",message:f(l)||S(l)||R(l)?l.message??e:e})}},saveWithPaymentMethod:async({id:r,type:t})=>{let a;let n=(0,d.t)("payments.errors.saved_payment_error");if(!B){W({error:"Setup intent secret is not set",code:"confirm-setup-error",message:n});return}let c=await (0,I.eV)();if(t===I.lB.CARD)a=await c.confirmCardSetup(B,{payment_method:r});else if(t===I.lB.SEPA)a=await c.confirmSepaDebitSetup(B,{payment_method:r});else{W({error:"Invalid payment method type",code:"confirm-setup-error",message:n});return}let{setupIntent:s,error:i}=a,l=f(i)||S(i)||R(i)?i?.message??n:n;if(i){W({error:i,code:"confirm-setup-error",message:l});return}(0,o.trackEvent)("confirm_setup_with_saved_payment_method",{...Z(),savedPaymentMethodId:r},{forwardToDatadog:!0});let _=w({customerInfo:e.customerInfo,currency:e.currency,billingPeriod:e.billingPeriod,teamName:e.teamName,userId:H?.id,isCheckout:e.isCheckout,setupIntentId:s.id});window.location.href=_},billingAddress:r,updateBillingAddress:t,shippingAddress:T,updateShippingAddress:y,customerLegalName:F,setCustomerLegalName:$,nameOnPaymentMethod:L,setNameOnPaymentMethod:V,vatGstId:M,setVatGstId:G,regionalVatGstId:k,setRegionalVatGstId:J,paymentMethodType:z,error:b}});var M=(e=>(e.PRO_UPGRADE="pro_upgrade",e.PRO_CHANGE_PAYMENT="pro_change_payment",e.ORG_UPGRADE="org_upgrade",e.ORG_CHANGE_PAYMENT="org_change_payment",e.COMMUNITY_CHECKOUT="community_checkout",e))(M||{}),G=(e=>(e.ADDRESS_VALIDATION_ERROR="address-validation-error",e.CONFIRM_SETUP_ERROR="confirm-setup-error",e.CURRENCY_VALIDATION_ERROR="currency-validation-error",e.UNINITIALIZED_STRIPE_ELEMENTS_ERROR="uninitialized-stripe-elements-error",e.VAT_GST_ID_VERIFICATION_ERROR="vat-gst-id-verification-error",e.NAME_ON_PAYMENT_METHOD_REQUIRED="name-on-payment-method-required",e))(G||{});async function O({teamId:e,redirect_url:r,error_redirect_url:t,success_message:a,subtotal_estimate:n,currency:o}){let{data:{meta:{client_secret:c,payment_methods:s}}}=await l.Ay.post("/api/subscriptions-2018-11-08/setup_intent",{team_id:e,redirect_url:r,error_redirect_url:t,subtotal_estimate:n,currency:o,...a?{success_message:a}:{}});return{clientSecret:c,paymentMethods:s}}function w({customerInfo:{teamId:e,orgId:r},currency:t,billingPeriod:a,teamName:n,userId:o,isCheckout:s,setupIntentId:i}){let l,d;let _=new URLSearchParams;if(n&&_.append("team_name",n),a&&_.append("billing_period",`${a}`),t&&_.append("selected_currency",t),o&&_.append("fuid",o),s&&_.append("is_checkout",s.toString()),i&&_.append("setup_intent",i),e)l="team",d=e;else if(r)l="org",d=r;else{if(null==e&&void 0!==e)return`https://${window.location.host}/team/validate_payment_method?${_.toString()}`;c.k.error("No valid ID was passed")}return`https://${window.location.host}/${l}/${d}/set_payment_method?${_.toString()}`}},218732:(e,r,t)=>{t.d(r,{Al:()=>T,dT:()=>I,kt:()=>u,lX:()=>E,nt:()=>f,pI:()=>p});var a=t(848318),n=t(301168),o=t(354427),c=t(7376),s=t(865114),i=t(318147),l=t(944239),d=t(125761),_=t(253332);let m=e=>`SAVED_CART::${e}`;function E({teamId:e,userId:r}){if(!r)return null;let t=g(r);return t?.teamId===e?t:null}let u=443==t.j?["","",""]:null;function p({loadingPaidEditors:e,teamId:r,teamName:t,setTeamName:c,collaborators:l,setCollaborators:m}){let E=(0,d.iZ)(),p=(0,n.d4)(e=>(r?e.teamUserByTeamId[r]:{})||{}),T=(0,n.d4)(e=>e.payment.numDesignEditors),y=(0,n.d4)(e=>e.payment.numWhiteboardEditors),f=(0,n.d4)(e=>e.payment.editorStatusChanges),S=(0,n.d4)(e=>e.payment.cartSelections),R=(0,s.ZC)(e),h=(0,_.BR)(p,E),D=(0,_.O1)(T,(0,_.Ky)(h,f,i._Y.DESIGN)),N=(0,_.O1)(y,(0,_.Ky)(h,f,i._Y.WHITEBOARD)),b=(0,a.useCallback)(()=>{let e=g(E?.id);if(!e)return null;let{createdAt:r,updatedAt:t,...a}=e;return a},[E?.id]);(0,a.useEffect)(()=>{let a=b(),n=null!==r||t?t:a?.newTeamName,s=null===r&&!l||(0,o.c2)(l,u)?a?.newCollaborators??u:l,i={teamId:r,editorStatusChanges:f,numEmptyDesignSeats:D,numEmptyWhiteboardSeats:N,newTeamName:n,newCollaborators:s,is3DS:a?.is3DS,cartSelections:S};!e&&E&&((0,o.he)(a,i)||I(E.id,i),R&&(c&&n!==t&&c(n||""),m&&!(0,o.c2)(l,s)&&m(s||u)))},[e,R,E,r,f,D,N,b,t,c,l,m,S])}let I=(0,l.D)((e,r)=>{try{let t=new Date().toISOString(),a={...r,createdAt:t,updatedAt:t};c.TQ()?.setItem(m(e),y(a))}catch(e){console.error("Failed to save cart state to Local Storage")}});function T(e){if(e)try{c.TQ()?.removeItem(m(e))}catch(e){}}let y=e=>JSON.stringify(e),g=e=>{if(!e)return null;try{let r=c.TQ()?.getItem(m(e));if(r)return JSON.parse(r);return null}catch(e){return null}};function f(e,r){let t=r.map(e=>e.id),a=e=>e?.filter(e=>t.includes(e))??[];return{upgrade:{design:a(e.upgrade.design),slides:a(e.upgrade.slides),sites:a(e.upgrade.sites),whiteboard:a(e.upgrade.whiteboard),cooper:a(e.upgrade.cooper),figmake:a(e.upgrade.figmake)},downgrade:{design:a(e.downgrade.design),slides:a(e.downgrade.slides),sites:a(e.downgrade.sites),whiteboard:a(e.downgrade.whiteboard),cooper:a(e.downgrade.cooper),figmake:a(e.downgrade.figmake)}}}},840026:(e,r,t)=>{t.d(r,{F:()=>D});var a=t(848318),n=t(271020),o=t(544405),c=t(989232),s=t(63163),i=t(264478),l=t(136126),d=t(345964),_=t(720522),m=t(297638),E=t(967688),u=t(744577),p=t(708896),I=t(162021),T=t(36942),y=t(872240),g=t(73244),f=t(430526);let S="stripe_payment_and_address--error--z-IbH",R="stripe_payment_and_address--paymentDetailsCheckbox--34fJx";var h=t(433566);function D({createPaymentElement:e,unmountPaymentElement:r,billingAddress:t,updateBillingAddress:D,legalCompanyName:N,updateLegalCompanyName:b,nameOnPaymentMethod:C,updateNameOnPaymentMethod:A,shippingAddress:v,updateShippingAddress:P,error:x,paymentError:M,paymentMethodType:G,paymentElementEventHandlers:O,vatGstId:w,onVatGstIdChange:B,regionalVatGstId:U,onRegionalVatGstIdChange:k,paymentFlow:J,canSeeBillingAddressExp:F,isCampfireCart:$,hide:L}){let[V,Y]=(0,a.useState)(!1),[H,Q]=a.useState(!!v&&!(0,y.$V)(v)),[q,z]=a.useState(!!N),K=(J===p.wn.PRO_UPGRADE||J===p.wn.ORG_UPGRADE)&&F,X={paymentFlow:J,paymentMethodType:G,isCampfireCart:!!$};return(0,s.h)(()=>((async function(){await e({ready:e=>{Y(!0),O?.ready?.(e)},change:O?.change})})(),()=>{r()})),(0,a.useEffect)(()=>{x&&c.definedAnalyticsHandler.trackDefinedEvent("monetization_upgrades.checkout_payment_error",{...X,message:x.message})},[x]),(0,a.useEffect)(()=>{M&&c.definedAnalyticsHandler.trackDefinedEvent("monetization_upgrades.checkout_payment_error",{...X,message:M})},[M]),x?.code===p.dl.UNINITIALIZED_STRIPE_ELEMENTS_ERROR?a.createElement("div",{className:"stripe_payment_and_address--errorContainer--vjs9-"},a.createElement(_.B,{svg:h.A,className:"stripe_payment_and_address--errorIcon--vMQyn"}),a.createElement("p",{className:"stripe_payment_and_address--errorMessage--eZnrd"},x.message)):a.createElement("div",{style:u.sx.if(L,{height:"0px",overflow:"hidden",opacity:0}).$,className:"stripe_payment_and_address--container--1Xdbp"},M&&a.createElement("div",{className:S},a.createElement(l._,{color:l.S.ERROR,text:M})),x&&a.createElement("div",{className:S},a.createElement(l._,{color:l.S.ERROR,text:x.message})),a.createElement("div",{id:p.Ix}),V?a.createElement("div",{style:u.sx.add({marginTop:"7px"}).if(G&&T.d2.includes(G),{marginTop:"15px"}).$},F&&A&&a.createElement(i.Lf,{value:C||"",htmlName:"name_on_card",label:(0,E.t)("pro_cart.payment.name_on_payment_method_label"),placeholder:(0,E.t)("pro_cart.payment.name_on_payment_method"),onChange:e=>{A(e.target.value.trim())},autoCompleteName:"name on payment method",trackingFieldName:"Name On Payment Method",dataTestId:"name-on-payment-method"}),a.createElement(g.X,{address:t,updateAddress:D,canSeeBillingAddressExp:F,isBillingAddress:!0}),!!B&&a.createElement(f.A,{onChange:B,country:t.country,vatId:w,isCommunityCheckout:J===p.wn.COMMUNITY_CHECKOUT}),!!k&&a.createElement(f.A,{onChange:k,country:t.country,region:t.region,vatId:U,isCommunityCheckout:J===p.wn.COMMUNITY_CHECKOUT,variant:"regional"}),G===T.lB.SEPA&&a.createElement("p",{className:"stripe_payment_and_address--mandateText--hH8C3"},(0,E.tx)("pro_cart.payment.sepa_direct_debit_mandate")),K&&a.createElement("div",{className:R,style:u.sx.if(q,{marginBottom:"24px"}).$,"data-testid":"stripe-payment-legal-name-checkbox"},a.createElement(n.S,{label:a.createElement(o.J,null,a.createElement("span",{className:m.s.font13.$},(0,E.tx)("checkout.i_have_a_different_legal_name"))),checked:q,onChange:e=>{z(e),!e&&b&&b("")}})),q&&a.createElement(I.E,{canSeeBillingAddressExp:F,legalCompanyName:N,updateLegalCompanyName:b}),K&&a.createElement("div",{className:R,style:u.sx.if(H,{marginBottom:"24px"}).$,"data-testid":"stripe-payment-shipping-address-checkbox"},a.createElement(n.S,{label:a.createElement(o.J,null,a.createElement("span",{className:m.s.font13.$},(0,E.tx)("checkout.i_have_a_different_shipping_address"))),checked:H,onChange:e=>{Q(e),!e&&P&&P((0,y.EB)())}})),H&&a.createElement(I.E,{canSeeBillingAddressExp:F,shippingAddress:v,updateShippingAddress:P})):a.createElement("div",{className:"stripe_payment_and_address--spinnerContainer--hg5Vy"},a.createElement(d.kt,null)))}},956148:(e,r,t)=>{t.d(r,{X:()=>o});var a=t(848318),n=t(773511);let o=(0,t(863270).tf)(function(e){return a.createElement(n.E,{onClick:e.onClick},e.children)})},726348:(e,r,t)=>{t.d(r,{O:()=>n});var a=t(848318);function n(e){return a.createElement(a.Fragment,null,a.createElement("div",{className:"full_width_page--closeMenu--M8Pvm"},e.menu),a.createElement("div",{ref:e.pageRef,className:"full_width_page--fullWidthPage--aQfdt overflow--overflowYAuto--nfK38 overflow--momentumScroll--qtsu7",...e}))}},159229:(e,r,t)=>{t.d(r,{On:()=>o,Kh:()=>i,JR:()=>s});var a=t(848318),n=t(660376);class o extends a.PureComponent{render(){(0,n.KF)(Number.isInteger(this.props.number),"breadcrumb step must be an integer"),(0,n.KF)(this.props.number>=1&&this.props.number<=20,"breadcrumb step is out of expected range");let e="";return this.props.selected?(e+="step_breadcrumb--stepSelected--aaq-4 step_breadcrumb--step--h0dTR",this.props.lightText&&(e+=" step_breadcrumb--whiteText--TeOgy")):(e+="step_breadcrumb--step--h0dTR",this.props.lightText&&(e+=" step_breadcrumb--greyText--Xid8Q")),this.props.canClick&&(this.props.lightText?e+=" step_breadcrumb--stepClickableLight--e7tX-":e+=" step_breadcrumb--stepClickable--t001q step_breadcrumb--step--h0dTR step_breadcrumb--stepClickable-on-hover---oTm4"),a.createElement("div",{"data-testid":this.props.number+this.props.text,className:e,onClick:()=>this.props.canClick&&this.props.onClick&&this.props.onClick()},a.createElement("span",{className:"step_breadcrumb--stepNumber--0A5tz"},String.fromCharCode(9311+this.props.number)),this.props.text)}}o.displayName="StepBreadcrumb";class c extends a.PureComponent{render(){return a.createElement("div",{className:"step_breadcrumb--stepBreadcrumbSpacer--baFNr"})}}c.displayName="StepBreadcrumbSpacer";class s extends a.PureComponent{render(){return a.createElement("div",{className:`step_breadcrumb--stepTitle--kyggE text--fontPos22--4H4Fc text--_fontBase--QdLsd ${this.props.className||""}`},this.props.children)}}s.displayName="StepTitle";class i extends a.PureComponent{render(){return a.createElement("div",{className:"step_breadcrumb--stepInstructions--gjSRc text--fontPos14--OL9Hp text--_fontBase--QdLsd",...this.props})}}i.displayName="StepInstructions"}}]);

//# debugId=52f1a478-155f-5fc9-a74b-dd696468c581

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/c806c444796268d576cc87e80c35e04d40e9a08e/7900-ca775349c13a8746.min.js.map