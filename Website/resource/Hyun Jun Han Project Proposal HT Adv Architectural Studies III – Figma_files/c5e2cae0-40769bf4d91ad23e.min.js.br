"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="203b8cd3-6303-5641-83a0-035e35086f0a")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[2677],{180390:(e,t,a)=>{a.d(t,{A:()=>r});let r='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path fill="#000" fill-opacity=".8" fill-rule="evenodd" stroke="none" d="m17.122 11.64-.012-.003-6.666-1.9 4.91 4.91c.195-.095.414-.147.646-.147.828 0 1.5.672 1.5 1.5 0 .828-.672 1.5-1.5 1.5-.828 0-1.5-.672-1.5-1.5 0-.232.053-.45.146-.647L9.743 10.45l1.832 6.39.01.037.008.037C12.015 18.961 13.829 20.5 16 20.5c.494 0 .968-.08 1.411-.225l.585-.193.435.435 1.847 1.847 2.122-2.121-1.865-1.865-.43-.43.184-.58c.137-.43.211-.89.211-1.368 0-2.093-1.43-3.854-3.366-4.356l-.012-.003zm5.985 7.895.707.708-.707.707-2.122 2.121-.707.707-.707-.707-1.847-1.847c-.542.18-1.122.276-1.724.276-2.655 0-4.871-1.882-5.387-4.384L8.325 9.132 8 8l1.133.323 8.252 2.353C19.752 11.29 21.5 13.44 21.5 16c0 .582-.09 1.144-.258 1.67z"/></svg>'},294813:(e,t,a)=>{a.d(t,{A:()=>r});let r='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path fill="#000" fill-opacity="1" fill-rule="evenodd" stroke="none" d="M12 16.05V9h1v7.05c1.141.232 2 1.24 2 2.45 0 1.21-.859 2.218-2 2.45V23h-1v-2.05c-1.141-.232-2-1.24-2-2.45 0-1.21.859-2.218 2-2.45m2 2.45c0 .828-.672 1.5-1.5 1.5-.828 0-1.5-.672-1.5-1.5 0-.828.672-1.5 1.5-1.5.828 0 1.5.672 1.5 1.5m5 4.5h1v-7.05c1.141-.232 2-1.24 2-2.45 0-1.21-.859-2.218-2-2.45V9h-1v2.05c-1.141.232-2 1.24-2 2.45 0 1.21.859 2.218 2 2.45zm2-9.5c0-.828-.672-1.5-1.5-1.5-.828 0-1.5.672-1.5 1.5 0 .828.672 1.5 1.5 1.5.828 0 1.5-.672 1.5-1.5"/></svg>'},731272:(e,t,a)=>{a.d(t,{A:()=>r});let r='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path fill="#000" fill-opacity="1" fill-rule="evenodd" stroke="none" d="M13.5 9h1V7.5c0-.828.672-1.5 1.5-1.5.828 0 1.5.672 1.5 1.5V9H23v15H9V9zm5-1H24v17H8V8h5.5v-.5C13.5 6.12 14.62 5 16 5c1.38 0 2.5 1.12 2.5 2.5zM16 12.5c-1.105 0-2 .895-2 2 0 1.105.895 2 2 2 1.105 0 2-.895 2-2 0-1.105-.895-2-2-2m-3 2c0-1.657 1.343-3 3-3 1.657 0 3 1.343 3 3 0 1.212-.718 2.255-1.752 2.729 1.317.503 2.252 1.778 2.252 3.271v.5h-1v-.5c0-1.38-1.12-2.5-2.5-2.5-1.38 0-2.5 1.12-2.5 2.5v.5h-1v-.5c0-1.493.935-2.768 2.252-3.271C13.718 16.755 13 15.712 13 14.5"/></svg>'},858457:(e,t,a)=>{a.d(t,{A:()=>r});let r='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><path fill="#000" fill-opacity=".9" fill-rule="evenodd" stroke="none" d="M14 10.443c0-.35.349-.59.676-.468l2 .75c.195.073.324.26.324.468v3.614c0 .208-.13.395-.324.468l-2 .75c-.327.123-.676-.119-.676-.468zm4 3.057v1.307c0 .625-.388 1.185-.973 1.405l-2 .75c-.98.367-2.027-.358-2.027-1.405v-5.114c0-1.047 1.046-1.772 2.027-1.404l1.973.74V9c0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8v.778l1.973-.74C3.953 8.671 5 9.396 5 10.443v5.114c0 1.047-1.046 1.772-2.027 1.405l-2-.75c-.585-.22-.973-.78-.973-1.405V9c0-4.97 4.03-9 9-9 4.97 0 9 4.03 9 9zm-17 0v-2.307c0-.208.13-.395.324-.468l2-.75c.327-.123.676.119.676.468v5.114c0 .35-.349.59-.676.468l-2-.75c-.195-.073-.324-.26-.324-.468z"/></svg>'},690182:(e,t,a)=>{a.d(t,{A:()=>r});let r='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path fill="#000" fill-opacity=".8" fill-rule="evenodd" stroke="none" d="M15.373 22h1.258c.28-.32.616-.597.995-.819 1.479-.862 4.005-.909 5.386.109H24.5v-9.2c0 0-.797-2.25-4.42-2.25-1.875 0-2.902.602-3.456 1.184-.389.407-.545.804-.6.976h-.049c-.054-.172-.21-.57-.599-.976-.554-.582-1.581-1.184-3.456-1.184-3.623 0-4.42 2.25-4.42 2.25v9.19h1.488c1.382-1.019 3.91-.97 5.388-.105.38.223.717.502.997.825m1.127-9.711v8.457q.293-.236.622-.428c.927-.541 2.115-.796 3.241-.787 1.006.008 2.081.227 2.952.759h.185v-7.973l-.03-.05c-.086-.138-.236-.339-.474-.545-.461-.397-1.33-.882-2.916-.882-1.586 0-2.34.483-2.694.835-.189.186-.296.367-.354.49-.029.061-.045.108-.052.131l-.005.017.001-.006.002-.008v-.005l.001-.002v-.002l-.005-.001zm-1 0h-.475l-.005.001v.002l.001.002.001.005.002.008.001.006q.001.001-.005-.017c-.007-.023-.024-.07-.053-.131-.057-.123-.164-.303-.353-.49-.354-.352-1.108-.835-2.694-.835-1.585 0-2.455.485-2.916.882-.238.206-.388.407-.474.545l-.03.05v7.963h.185c.872-.533 1.948-.752 2.954-.759 1.128-.008 2.316.249 3.243.792q.326.191.618.426z"/></svg>'},1757:(e,t,a)=>{a.d(t,{A:()=>r});let r='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path fill="#000" fill-opacity="1" fill-rule="evenodd" stroke="none" d="m13 10.098.765.478 8 5 .678.424-.678.424-8 5-.765.478zm1 1.804v8.196L20.557 16z"/></svg>'},809027:(e,t,a)=>{a.d(t,{A:()=>r});let r='<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30"><path fill="#b3b3b3" fill-opacity="1" fill-rule="evenodd" stroke="none" d="M8 14h15v1H8z"/></svg>'},97605:(e,t,a)=>{a.d(t,{A:()=>r});let r='<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30"><path fill="#b3b3b3" fill-opacity="1" fill-rule="evenodd" stroke="none" d="M15 15v7h1v-7h7v-1h-7V7h-1v7H8v1z"/></svg>'},100203:(e,t,a)=>{a.d(t,{A:()=>r});let r='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="#000" fill-opacity="1" fill-rule="evenodd" stroke="none" d="M16.708 6.895c-1.39 0-2.518 1.127-2.518 2.518 0 1.391 1.127 2.52 2.518 2.52 1.391 0 2.52-1.129 2.52-2.52 0-1.39-1.129-2.518-2.52-2.518m-3.314 2.518c0-1.83 1.484-3.314 3.314-3.314 1.83 0 3.315 1.484 3.315 3.314 0 1.65-1.205 3.017-2.781 3.272 2.76.246 4.968 2.38 4.968 5.04v1.565H2.458v-1.565c0-2.66 2.207-4.794 4.968-5.04-1.577-.255-2.781-1.623-2.781-3.272 0-1.83 1.484-3.314 3.314-3.314 1.83 0 3.314 1.484 3.314 3.314 0 1.65-1.204 3.017-2.78 3.272 1.554.138 2.933.875 3.841 1.968.907-1.093 2.283-1.83 3.84-1.968-1.576-.255-2.78-1.623-2.78-3.272M3.253 17.725c0-2.325 2.073-4.268 4.706-4.268 2.633 0 4.706 1.943 4.706 4.268v.77H3.253zm10.207.77h7.954v-.77c0-2.325-2.072-4.268-4.706-4.268-1.63 0-3.055.75-3.897 1.876.414.71.65 1.523.65 2.392v.77zM5.44 9.412c0-1.39 1.128-2.518 2.52-2.518 1.39 0 2.518 1.127 2.518 2.518 0 1.391-1.128 2.52-2.519 2.52-1.391 0-2.519-1.129-2.519-2.52"/></svg>'},817229:(e,t,a)=>{a.d(t,{A:()=>r});let r='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><path fill="#000" fill-opacity="1" fill-rule="nonzero" stroke="none" d="M.2 9h17.6l.2.4v.6H0v-.6zm0 0h17.6l.2.4v.6H0v-.6zM0 17h18v1H0zm0 0h18v1H0zM7 6h4v1H7zm0 0h4v1H7zm0-6h4v1H7zm0 0h4v1H7zm5 3h2.8l3 6h-1.105L14.2 4H12zM6 3H3.2l-3 6h1.105L3.8 4H6zm-6 7h1v7H0zm0 0h1v7H0zm17 0h1v7h-1zm0 0h1v7h-1zM6 0h1v7H6zm0 0h1v7H6zm5 0h1v7h-1zm0 0h1v7h-1z"/></svg>'},859355:(e,t,a)=>{a.d(t,{$P:()=>p,Dz:()=>s,E8:()=>h,G8:()=>x,Jh:()=>o,Mm:()=>m,Ms:()=>y,Q$:()=>T,QB:()=>v,VA:()=>f,Vf:()=>_,W2:()=>d,_R:()=>u,b:()=>i,gt:()=>N,hx:()=>n,jG:()=>E,o:()=>l,oE:()=>g,y3:()=>S,yH:()=>c,yl:()=>r});let r="org_upgrade_single_team_modal--modal--ksTCZ",l="org_upgrade_single_team_modal--planModalHeader--NF9Rm",s="org_upgrade_single_team_modal--planModalHeaderText--ooJle",n="org_upgrade_single_team_modal--planModalTitle--i2U18 text--fontPos24--YppUD text--_fontBase--QdLsd",i="org_upgrade_single_team_modal--closeButton--xlW3E",o="org_upgrade_single_team_modal--planModalHeaderDivider--h1IPt",c="org_upgrade_single_team_modal--planGrid--vjBAw",m="org_upgrade_single_team_modal--planGrid__vertDivided--GAHYl",d="org_upgrade_single_team_modal--seeAllFeatures--86diJ",_="org_upgrade_single_team_modal--teamPlan--K5SN-",u="org_upgrade_single_team_modal--itemList--pQSea",p="org_upgrade_single_team_modal--planItem--BQHfH",g="org_upgrade_single_team_modal--checkIcon--vhgrx",h="org_upgrade_single_team_modal--planSelectButton--CKoDi",E="org_upgrade_single_team_modal--scrollContainer--sufjZ",f="org_upgrade_single_team_modal--subtitle--nt2Dh",v="org_upgrade_single_team_modal--planNameBase--R8WKM text--fontPos16--oMC-G text--_fontBase--QdLsd",y="org_upgrade_single_team_modal--planPriceView--L7aSJ",S="org_upgrade_single_team_modal--priceRow--jzozY text--fontPos11--2LvXf text--_fontBase--QdLsd",x="org_upgrade_single_team_modal--priceFigureWithFigjam--0E8M8 text--fontPos16--oMC-G text--_fontBase--QdLsd",T="org_upgrade_single_team_modal--figmaPriceWithDevMode--k-2WW",N="org_upgrade_single_team_modal--devModeText--EKgJM"},62130:(e,t,a)=>{a.d(t,{$g:()=>m,DI:()=>c,Eh:()=>n,GK:()=>l,J1:()=>o,KV:()=>s,b:()=>r,cr:()=>g,jG:()=>d,kz:()=>_,nW:()=>p,o8:()=>u,u1:()=>i,wv:()=>h});let r="universal_upgrade_sequence--closeButton--Us7fC",l="universal_upgrade_sequence--modalTitle--j-zLx text--fontPos18--rYXJb text--_fontBase--QdLsd",s="universal_upgrade_sequence--modalSubtitle--ucPxW text--fontPos14--OL9Hp text--_fontBase--QdLsd",n="universal_upgrade_sequence--createTeamInput--kWzFx basic_form--labeledInputGroup--aeD6L text--fontPos14--OL9Hp text--_fontBase--QdLsd",i="universal_upgrade_sequence--spinner--CvsHJ",o="universal_upgrade_sequence--tileUpgradeButton--GxMSU",c="universal_upgrade_sequence--nextButtonSmall--tUSIb universal_upgrade_sequence--nextButton--F2XJ4",m="universal_upgrade_sequence--createTeamSection--XhWMJ",d="universal_upgrade_sequence--scrollContainer--BQFbB",_="universal_upgrade_sequence--scrollContainerTopBorder--yuAD-",u="universal_upgrade_sequence--scrollContainerBottomBorder--CwNTV",p="universal_upgrade_sequence--teamTileContainer--kS2oM org_self_serve--teamLargeTileContainer--3M0cY",g="universal_upgrade_sequence--teamTile--WZEIz org_self_serve--teamTileLarge--HawGF text--fontPos14--OL9Hp text--_fontBase--QdLsd",h="universal_upgrade_sequence--lastTeamTile--zfV5W universal_upgrade_sequence--teamTile--WZEIz org_self_serve--teamTileLarge--HawGF text--fontPos14--OL9Hp text--_fontBase--QdLsd"},763339:(e,t,a)=>{a.d(t,{$y:()=>d,Bb:()=>N,ER:()=>w,Ed:()=>E,Et:()=>l,I1:()=>h,Jo:()=>u,K6:()=>C,M7:()=>r,N5:()=>p,Nd:()=>n,O2:()=>x,Qv:()=>g,Uu:()=>c,W:()=>i,Xq:()=>f,aK:()=>o,cc:()=>y,i9:()=>m,iv:()=>v,jg:()=>T,kH:()=>b,li:()=>s,nm:()=>S,uD:()=>_});let r="org_self_serve_figjam--stepContent--PmiVT",l="org_self_serve_figjam--stepContentTeamCreation--aecM6",s="org_self_serve_figjam--menuContainer--2R9vL",n="org_self_serve_figjam--cancelMenuItem--xWgkC",i="org_self_serve_figjam--pageTitle--FnN-D",o="org_self_serve_figjam--summaryDivider--Mcrvf",c="org_self_serve_figjam--flex--zpEBd",m="org_self_serve_figjam--svgText--d64Nk org_self_serve_figjam--flex--zpEBd",d="org_self_serve_figjam--helpIcon--i-O5F",_="org_self_serve_figjam--textLink--oq58H org_self_serve_figjam--billingSubText--0-Z4w",u="org_self_serve_figjam--confirmationBox---MCFL org_self_serve_figjam--stepRect--eHVrW org_self_serve_figjam--boxBorder--AaC8L",p="org_self_serve_figjam--flexBox--wb7nK",g="org_self_serve_figjam--confirmationPageText--OPG5S text--fontPos13--xW8hS text--_fontBase--QdLsd",h="org_self_serve_figjam--confirmationCharge--V8Lpo org_self_serve_figjam--confirmationPageText--OPG5S text--fontPos13--xW8hS text--_fontBase--QdLsd",E="org_self_serve_figjam--confirmationRow--0-0Jf",f="org_self_serve_figjam--confirmationHomeButton--bokpb text--fontNeg13--7Ebf5 text--_fontBase--QdLsd text--_negText--j9g-L",v="org_self_serve_figjam--confirmationAmountDue--LoEoe",y="org_self_serve_figjam--confirmationHeading--3108k",S="org_self_serve_figjam--confirmationLoadingText--uJKaf org_self_serve_figjam--msaLabelText--HQg1L",x="org_self_serve_figjam--greenCheck--wvkO-",T="org_self_serve_figjam--confirmationPage---8XoA",N="org_self_serve_figjam--createTeamContainer--o7rw4",b="org_self_serve_figjam--teamsContainer--oOa2W",C="org_self_serve_figjam--teamCheckboxContainer--Mznj-",w="org_self_serve_figjam--selectTeamsIcon--V-xyE"},603119:(e,t,a)=>{a.r(t),a.d(t,{EduReviewPage:()=>N});var r=a(848318),l=a(301168),s=a(72462),n=a(264478),i=a(956148),o=a(726348),c=a(645719),m=a(50429),d=a(159229),_=a(720522),u=a(297638),p=a(967688),g=a(160690),h=a(32389),E=a(453370),f=a(679617),v=a(931078),y=a(863270),S=a(834612),x=a(821527);let T=e=>{let t=(0,l.d4)(t=>{let a=v.Xw.loadingKeyForPayload({teamId:e});return t.loadingState[a]}),a=(0,l.d4)(t=>t.teamUserByTeamId[e]||{}),n=(0,l.wA)();r.useEffect(()=>{n(v.Xw({teamId:e}))},[n,e]);let i=t!==s.r.SUCCESS;return r.useEffect(()=>{if(!i){let e=Object.keys(a).length;n(f.Az({numWhiteboardEditors:e})),n(f.js({numDesignEditors:e}))}},[n,i,a]),i};function N({selectedView:e}){let{teamId:t}=e,a=T(t),s=(0,l.wA)(),v=()=>{s(f.Nj({teamId:t,onCloseOrComplete:e.onCloseOrComplete}))};return r.createElement(y.fu,{name:"Edu Review",properties:{teamId:t}},r.createElement("div",null,r.createElement(o.O,{menu:r.createElement(i.X,{onClick:()=>{s(E.$T({view:"team",teamId:t})),e.onCloseOrComplete?.()}},r.createElement(_.B,{svg:x.default,className:"edu_review--modalCloseX--PeJlf",dataTestId:"close-button"}))},r.createElement("span",{className:e.showBreadcrumbs?void 0:"edu_review--hidden--p1Flp"},r.createElement(h.J,{index:3})),r.createElement("div",{className:u.s.flex.flexColumn.itemsCenter.alignCenter.$},r.createElement(d.JR,null,(0,p.tx)("edu.almost_done_everything_look_good")),r.createElement(n.Kz,{multiple:4}),r.createElement(m.x,{isLoading:a},()=>r.createElement(c.o,null,r.createElement(g.d,{selectedView:e,onClickConfirm:v,currency:(0,S.LN)(),canSeeBillingAddressExp:!1})))))))}},121012:(e,t,a)=>{a.r(t),a.d(t,{OrgUpgradeMultiTeamModal:()=>es});var r=a(848318),l=a(301168),s=a(938982),n=a(812295),i=a(19180),o=a(615233),c=a(329228),m=a(682524),d=a(133318),_=a(146968),u=a(264478),p=a(755534),g=a(720522),h=a(297638),E=a(967688),f=a(744577),v=a(695920),y=a(453370),S=a(31898),x=a(957872),T=a(863270),N=a(188279),b=a(594950),C=a(501104),w=a(718275),A=a(834612),k=a(361053),I=a(912534),P=a(125952),M=a(523048),D=a(414607),R=a(660376),B=a(871043),O=a(124810),L=a(2446),$=a(178806),V=a(631177),U=a(765262),z=a(418534),j=a(72447),F=a(859172),G=a(318147),H=a(679996);function X({currency:e,hideModal:t,choosePlan:a,TeamIllustration:s,upsellSource:n}){let i=(0,l.wA)();return r.createElement("div",{className:h.s.flex.flexColumn.gap8.$,style:f.sx.add({padding:"48px 56px",maxWidth:"650px"}).$},r.createElement("p",{className:h.s.textHeadingLarge.$},(0,E.tx)("org_upgrade.multi_team.bring_your_teams_together")),r.createElement("p",{className:h.s.textHeadingMedium.$,style:f.sx.add({fontWeight:400}).$},(0,E.tx)("plan_comparison.campfire.org.description")),r.createElement($.e6,{className:"campfire_org_upgrade_multi_team_modal--closeButton--THg83",onClick:t},r.createElement(O.A,null)),r.createElement("div",{className:h.s.flex.gap16.$},r.createElement("div",{className:h.s.flex.flexColumn.gap16.flex1.mt16.$},r.createElement(W,{currency:e}),r.createElement("div",null,r.createElement($.Ih,{onClick:a},(0,E.tx)("plan_comparison.campfire.choose_plan")),r.createElement("div",{className:h.s.font11.lh16.alignCenter.mt4.$},(0,E.tx)("plan_comparison.campfire.or_contact_sales",{contactSalesLink:r.createElement("button",{className:h.s.colorTextBrand.cursorPointer.$,onClick:()=>i(S.to({type:V.lk,data:{source:U.B.ORG_SELF_SERVE_UPGRADE_MODAL}}))},(0,E.tx)("plan_comparison.campfire.contact_sales"))}))),r.createElement("div",{className:h.s.bt1.bSolid.colorBorder.$}),r.createElement(J,{upsellSource:n})),r.createElement("div",{className:h.s.flex.flex1.itemsCenter.justifyCenter.$},s)))}function W({currency:e}){let t={currency:e,tier:I.Ju.ORG,renewalTerm:I.IX.YEAR,unit:I.IX.MONTH},a=(0,N.jv)({billableProductKeys:C.N_,baseQuery:t}),[l]=(0,c.mI)(a);if(null===l.data)throw Error("Price data is null");let s=new A.vr(e);return r.createElement("div",{className:h.s.flex.flexColumn.$},C.N_.sort(F.AG).map(e=>(0,B.uy)(l.data[e])?null:r.createElement("div",{key:e,className:h.s.flex.justifyBetween.$},r.createElement("div",{className:h.s.flex.gap4.itemsCenter.$},(0,z.B)({type:e,size:"24",removeBackgroundColor:!0}),r.createElement("p",{className:h.s.textBodyLarge.$},function(e){switch(e){case b.ud.EXPERT:return(0,E.t)("nux.campfire.full_seat");case b.ud.DEVELOPER:return(0,E.t)("nux.campfire.dev_seat");case b.ud.COLLABORATOR:return(0,E.t)("nux.campfire.collab_seat");case b.ud.CONTENT:return(0,E.t)("nux.campfire.content_seat");default:(0,R.xb)(e)}}(e))),r.createElement("p",{className:h.s.textBodyMedium.$},(0,E.tx)("nux.price_per_month",{price:r.createElement("span",{className:h.s.textBodyLargeStrong.$},s.formatMoney(l.data[e].amount))})))))}function J(e){let t=e.upsellSource===H.b.CONNECTED_PROJECTS_MAXIMUM_CONNECTIONS,a=[t?(0,E.tx)("plan_comparison.campfire.org.feature.org_connected_projects",{orgConnectionsLimit:j.b[G.Ag.ORG]}):null,(0,E.tx)("plan_comparison.campfire.org.feature.unlimited_teams"),(0,E.tx)("plan_comparison.campfire.org.feature.branching"),(0,E.tx)("plan_comparison.campfire.org.feature.security"),(0,E.tx)("plan_comparison.campfire.org.feature.scim"),(0,E.tx)("plan_comparison.campfire.org.feature.customizations")].filter(Boolean);return r.createElement("div",null,a.map((e,a)=>{let l=t&&0===a?r.createElement("span",{className:h.s.textBodyLargeStrong.$},e):r.createElement("span",null,e);return r.createElement("div",{key:a,className:h.s.flex.$},r.createElement(L.g,{className:h.s.minW24.$,style:{"--color-icon":"var(--color-icon-secondary)"}}),r.createElement("p",{className:h.s.textBodyLarge.$},l))}))}let K="org_upgrade_multi_team_modal--planModalDivider--Rnmy0";var Y=a(859355),Z=a(7452),q=a(294813);let Q=(0,o.ck)("50ae1752a504eea59f2a3efac6b0f2d1ed74435a"),ee=(0,o.ck)("e2148969d5a469e76c053a23b6647d487e6d64ee"),et=(0,o.ck)("fc0fcfadcfe50c96f4dcf859aabe1952c822ae2a");function ea(e){return r.createElement("div",{className:"org_upgrade_multi_team_modal--planItem--P4LRr"},r.createElement(g.B,{svg:Z.A,className:"org_upgrade_multi_team_modal--checkIcon--KnZJe"}),r.createElement("p",null,e.text))}function er(e){let t=(0,l.wA)(),a=()=>{t(S.Ce())},s=(0,v.sx)(),o=r.useMemo(()=>[(0,E.t)("org_upgrade.multi_team.plan_items.shared_design_libraries"),(0,E.t)("org_upgrade.multi_team.plan_items.shared_fonts_and_styles"),(0,E.t)("org_upgrade.multi_team.plan_items.centralized_billing_and_admin_controls"),(0,E.t)("org_upgrade.multi_team.plan_items.single_sign_on_sso_integrations")],[]),_=()=>{a(),t(y.$T({view:"orgSelfServe",upsellSource:e.upsellSource}))},T=e=>r.createElement("div",{className:"org_upgrade_multi_team_modal--teamListEntry---bU9i",key:e.id},r.createElement(P.Ro,{size:10,hideFallbackInitial:!0,entity:e,shape:"SQUARE"}),r.createElement("div",{className:"org_upgrade_multi_team_modal--teamListEntryName--aJZdJ ellipsis--ellipsis--Tjyfa"},e.name)),w=r.useMemo(()=>{switch(Object.keys(e.teams).length){case 2:return 184;case 3:return 192;default:return 221}},[e.teams]),k=Y.G8,M=(0,A.wU)(),R=C.Oq.dict(e=>({currency:M.currency,billableProductKey:e,tier:I.Ju.ORG,renewalTerm:I.IX.YEAR,unit:I.IX.MONTH})),B=(0,N.SK)(R,N.Fq.UPSELL_MODALS),[O]=(0,c.mI)(B);if(null===O.data)throw Error("Price data is null");let L=O.data,$=r.createElement("div",{className:"org_upgrade_multi_team_modal--teamIllustrationLeftSection--MLN4f",style:f.sx.if(s,f.sx.add({width:"200px"})).$},r.createElement("div",{className:"org_upgrade_multi_team_modal--dynamicTeamListSection--KE5ZD"},r.createElement("div",{className:"org_upgrade_multi_team_modal--teamListHeader--Eyf-F"},r.createElement("img",{className:"org_upgrade_multi_team_modal--placeholderOrgLogo--vYLRQ",src:et,draggable:!1,alt:""}),r.createElement("div",{className:"org_upgrade_multi_team_modal--teamListOrgName--EKk6-"},(0,E.tx)("org_upgrade.multi_team.acme_inc")),r.createElement(g.B,{svg:q.A,className:"org_upgrade_multi_team_modal--multiTeamOrgUpgradeAdjustSvg--V4dem"})),r.createElement("div",{className:"org_upgrade_multi_team_modal--teamListDivider--A9NYP"}),(()=>{let t=e.unsortedTeamIds,a=[];for(var l=0;l<Math.min(4,t.length);l++){let r=e.teams[t[l]];a.push(T(r))}return r.createElement("div",{className:"org_upgrade_multi_team_modal--teamList--rzATA"},a)})(),r.createElement("div",{className:s?"org_upgrade_multi_team_modal--campfireTeamIllustrationRightSection--fHW0n":"org_upgrade_multi_team_modal--teamIllustrationRightSection--irt0w"},r.createElement("img",{className:"org_upgrade_multi_team_modal--filesIllustration--teK60",src:ee,draggable:!1,alt:""}),r.createElement("img",{src:Q,draggable:!1,alt:""})),s&&r.createElement("div",{className:h.s.flex.b1.bRadius3.itemsCenter.absolute.pr4.py4.ml36.$,style:f.sx.add({top:"100%",marginTop:"15px",maxWidth:"100px"}).$},r.createElement(n.s,{className:h.s.minW16.$}),r.createElement("p",{className:h.s.textBodySmallStrong.$},(0,E.tx)("org_upgrade.illustration.sign_in_with_sso")),r.createElement("div",{className:h.s.absolute.mt32.$,style:f.sx.add({right:"-8px"}).$},r.createElement(el,null)))));return r.createElement(D.Nb,{className:"org_upgrade_multi_team_modal--modal--fVO2l",hide:a,size:"fitContent",useModalViewScroll:!1},s?r.createElement(X,{currency:M.currency,hideModal:a,choosePlan:_,TeamIllustration:$,upsellSource:e.upsellSource}):r.createElement(p.P,{className:"org_upgrade_multi_team_modal--scrollContainer--ZL-IQ"},r.createElement("div",{className:"org_upgrade_multi_team_modal--planModalHeader--drD3M",style:{height:64,marginBottom:32}},r.createElement("div",{className:"org_upgrade_multi_team_modal--planModalTitle--YP3RJ text--fontPos24--YppUD text--_fontBase--QdLsd",style:{fontWeight:600}},(0,E.tx)("org_upgrade.multi_team.bring_your_teams_together_with_the_figma_organization_plan")),r.createElement(d.Jn,{className:"org_upgrade_multi_team_modal--closeButton--x3l-2",onClick:a,innerText:"close"})),r.createElement("div",{className:K}),r.createElement("div",{className:"org_upgrade_multi_team_modal--planDetails--Fu8GW"},r.createElement("div",{className:"org_upgrade_multi_team_modal--planDetailsLeft--mBwlh"},r.createElement("div",{className:"org_upgrade_multi_team_modal--billingCadence--WBrj-"},(0,E.tx)("org_upgrade.multi_team.annual_billing_only")),r.createElement("div",{className:Y.y3},r.createElement("p",{className:Y.Q$},(0,E.tx)("org_upgrade.multi_team.figma"),(0,i.k)().billing_dev_mode_customer_ui&&r.createElement("div",{className:Y.gt},r.createElement(m.G,null))),r.createElement("div",null,(0,E.tx)("org_upgrade.multi_team.billing_cost_per_month.seat_rename",{monthlyCostInDollars:r.createElement("span",{className:Y.G8},M.formatMoney(L[b.ud.DESIGN].amount))}))),(0,i.k)().billing_dev_mode_customer_ui&&r.createElement("div",{className:Y.y3},(0,E.tx)("org_upgrade.multi_team.dev_mode"),r.createElement("div",null,(0,E.tx)("org_upgrade.multi_team.billing_cost_per_month.seat_rename",{monthlyCostInDollars:r.createElement("span",{className:Y.G8},M.formatMoney(L[b.ud.DEV_MODE].amount))}))),r.createElement("div",{className:Y.y3},(0,E.tx)("org_upgrade.multi_team.fig_jam"),r.createElement("div",null,(0,E.tx)("org_upgrade.multi_team.billing_cost_per_month.seat_rename",{monthlyCostInDollars:r.createElement("span",{className:k},M.formatMoney(L[b.ud.FIGJAM].amount))}))),r.createElement("div",{className:"org_upgrade_multi_team_modal--planText--MQX-G"},r.createElement("div",{className:"org_upgrade_multi_team_modal--itemList--SC-iA"},o.map((e,t)=>r.createElement("div",{key:t},r.createElement(ea,{text:e}))),r.createElement("div",{className:"org_upgrade_multi_team_modal--seeAll--8WNIM"},r.createElement(u.Us,{href:"https://www.figma.com/pricing/#cid-57mfNh6t0Xo7z8Q95Ww9ZV",target:"_blank",trusted:!0},(0,E.tx)("org_upgrade.multi_team.see_all_features")))))),r.createElement("div",{className:"org_upgrade_multi_team_modal--teamIllustrationSection--xl3pT",style:{height:w}},$)),r.createElement("div",{className:K}),r.createElement(u.vd,{onClick:_,className:"org_upgrade_multi_team_modal--continueButton--Zo9V7",trackingProperties:{trackingDescriptor:x.c.UPGRADE_TO_ORGANIZATION,upsellSource:e.upsellSource}},(0,E.tx)("org_upgrade.multi_team.continue")),r.createElement("div",{className:"org_upgrade_multi_team_modal--spaceFiller--f9bwU"})))}function el(){return r.createElement("svg",{width:"15",height:"17",viewBox:"0 0 15 17",fill:"none"},r.createElement("mask",{id:"path-1-outside-1_15_11117",maskUnits:"userSpaceOnUse",x:"-0.5",y:"0.5",width:"16",height:"16",fill:"black"},r.createElement("rect",{fill:"white",x:"-0.5",y:"0.5",width:"16",height:"16"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.7753 2.25C4.7753 1.83579 5.11109 1.5 5.5253 1.5C5.93951 1.5 6.2753 1.83579 6.2753 2.25V7C6.2753 7.27614 6.49916 7.5 6.7753 7.5C7.05144 7.5 7.2753 7.27614 7.2753 7V6.25C7.2753 5.83579 7.61109 5.5 8.0253 5.5C8.43951 5.5 8.7753 5.83579 8.7753 6.25V7C8.7753 7.27614 8.99916 7.5 9.2753 7.5C9.55144 7.5 9.7753 7.27614 9.7753 7V6.75C9.7753 6.33579 10.1111 6 10.5253 6C10.9395 6 11.2753 6.33579 11.2753 6.75V6.99997C11.2753 7.27613 11.4992 7.5 11.7753 7.5H12.0254C12.1634 7.5 12.2754 7.38807 12.2754 7.25C12.2754 6.83579 12.6111 6.5 13.0254 6.5C13.4396 6.5 13.7754 6.83579 13.7754 7.25V9.75C13.7754 9.75099 13.7754 9.75197 13.7754 9.75296V11C13.7754 13.4853 11.7606 15.5 9.27535 15.5C7.72857 15.5 6.36406 14.7196 5.55409 13.531C4.83873 12.7173 3.72389 11.8364 2.76078 11.0754L2.76074 11.0754L2.76055 11.0753C2.45467 10.8336 2.16409 10.604 1.90649 10.3925C1.42761 9.99926 1.3593 9.26798 1.7686 8.80273C2.47277 8.00228 3.67449 9.08737 4.40263 9.86608C4.41077 9.87478 4.41894 9.88354 4.42715 9.89237C4.54973 10.0242 4.77535 9.93924 4.77535 9.75922L4.7753 9.75V2.25Z"})),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.7753 2.25C4.7753 1.83579 5.11109 1.5 5.5253 1.5C5.93951 1.5 6.2753 1.83579 6.2753 2.25V7C6.2753 7.27614 6.49916 7.5 6.7753 7.5C7.05144 7.5 7.2753 7.27614 7.2753 7V6.25C7.2753 5.83579 7.61109 5.5 8.0253 5.5C8.43951 5.5 8.7753 5.83579 8.7753 6.25V7C8.7753 7.27614 8.99916 7.5 9.2753 7.5C9.55144 7.5 9.7753 7.27614 9.7753 7V6.75C9.7753 6.33579 10.1111 6 10.5253 6C10.9395 6 11.2753 6.33579 11.2753 6.75V6.99997C11.2753 7.27613 11.4992 7.5 11.7753 7.5H12.0254C12.1634 7.5 12.2754 7.38807 12.2754 7.25C12.2754 6.83579 12.6111 6.5 13.0254 6.5C13.4396 6.5 13.7754 6.83579 13.7754 7.25V9.75C13.7754 9.75099 13.7754 9.75197 13.7754 9.75296V11C13.7754 13.4853 11.7606 15.5 9.27535 15.5C7.72857 15.5 6.36406 14.7196 5.55409 13.531C4.83873 12.7173 3.72389 11.8364 2.76078 11.0754L2.76074 11.0754L2.76055 11.0753C2.45467 10.8336 2.16409 10.604 1.90649 10.3925C1.42761 9.99926 1.3593 9.26798 1.7686 8.80273C2.47277 8.00228 3.67449 9.08737 4.40263 9.86608C4.41077 9.87478 4.41894 9.88354 4.42715 9.89237C4.54973 10.0242 4.77535 9.93924 4.77535 9.75922L4.7753 9.75V2.25Z",fill:"white"}),r.createElement("path",{d:"M13.7754 9.75296L12.7754 9.7491V9.75296H13.7754ZM5.55409 13.531L6.38045 12.9679L6.34578 12.917L6.30513 12.8708L5.55409 13.531ZM2.76078 11.0754L3.38075 10.2908L3.37466 10.286L3.36849 10.2813L2.76078 11.0754ZM2.76074 11.0754L2.13996 11.8594L2.14646 11.8645L2.15303 11.8696L2.76074 11.0754ZM2.76055 11.0753L3.38133 10.2913L3.38052 10.2906L2.76055 11.0753ZM1.90649 10.3925L1.27191 11.1653L1.27191 11.1653L1.90649 10.3925ZM1.7686 8.80273L1.01778 8.14221H1.01778L1.7686 8.80273ZM4.40263 9.86608L5.13306 9.18309L5.13306 9.18309L4.40263 9.86608ZM4.7753 9.75H3.77528L3.77532 9.75602L4.7753 9.75ZM4.42715 9.89237L3.69482 10.5733L4.42715 9.89237ZM5.5253 0.5C4.5588 0.5 3.7753 1.2835 3.7753 2.25H5.7753C5.7753 2.38807 5.66337 2.5 5.5253 2.5V0.5ZM7.2753 2.25C7.2753 1.2835 6.4918 0.5 5.5253 0.5V2.5C5.38723 2.5 5.2753 2.38807 5.2753 2.25H7.2753ZM7.2753 7V2.25H5.2753V7H7.2753ZM6.2753 6.25V7H8.2753V6.25H6.2753ZM8.0253 4.5C7.0588 4.5 6.2753 5.2835 6.2753 6.25H8.2753C8.2753 6.38807 8.16337 6.5 8.0253 6.5V4.5ZM9.7753 6.25C9.7753 5.2835 8.9918 4.5 8.0253 4.5V6.5C7.88723 6.5 7.7753 6.38807 7.7753 6.25H9.7753ZM9.7753 7V6.25H7.7753V7H9.7753ZM8.7753 6.75V7H10.7753V6.75H8.7753ZM10.5253 5C9.5588 5 8.7753 5.7835 8.7753 6.75H10.7753C10.7753 6.88807 10.6634 7 10.5253 7V5ZM12.2753 6.75C12.2753 5.7835 11.4918 5 10.5253 5V7C10.3872 7 10.2753 6.88807 10.2753 6.75H12.2753ZM12.2753 6.99997V6.75H10.2753V6.99997H12.2753ZM12.0254 6.5H11.7753V8.5H12.0254V6.5ZM13.2754 7.25C13.2754 7.38807 13.1634 7.5 13.0254 7.5V5.5C12.0589 5.5 11.2754 6.2835 11.2754 7.25H13.2754ZM13.0254 7.5C12.8873 7.5 12.7754 7.38807 12.7754 7.25H14.7754C14.7754 6.2835 13.9919 5.5 13.0254 5.5V7.5ZM12.7754 7.25V9.75H14.7754V7.25H12.7754ZM12.7754 9.75L12.7754 9.7491L14.7753 9.75683C14.7754 9.75455 14.7754 9.75228 14.7754 9.75H12.7754ZM14.7754 11V9.75296H12.7754V11H14.7754ZM9.27535 16.5C12.3129 16.5 14.7754 14.0376 14.7754 11H12.7754C12.7754 12.933 11.2084 14.5 9.27535 14.5V16.5ZM4.72773 14.0942C5.716 15.5444 7.38393 16.5 9.27535 16.5V14.5C8.07321 14.5 7.01213 13.8948 6.38045 12.9679L4.72773 14.0942ZM2.14081 11.8601C3.12768 12.6398 4.1605 13.4604 4.80305 14.1913L6.30513 12.8708C5.51696 11.9742 4.32011 11.033 3.38075 10.2908L2.14081 11.8601ZM2.15303 11.8696L2.15308 11.8696L3.36849 10.2813L3.36845 10.2812L2.15303 11.8696ZM2.13977 11.8592L2.13996 11.8594L3.38152 10.2914L3.38133 10.2913L2.13977 11.8592ZM1.27191 11.1653C1.53818 11.3839 1.83659 11.6197 2.14058 11.8599L3.38052 10.2906C3.07274 10.0474 2.79 9.82399 2.54106 9.61959L1.27191 11.1653ZM1.01778 8.14221C0.225175 9.04318 0.36732 10.4226 1.27191 11.1653L2.54106 9.61959C2.52173 9.60372 2.50406 9.57558 2.50055 9.53613C2.49713 9.49765 2.50911 9.47495 2.51941 9.46324L1.01778 8.14221ZM5.13306 9.18309C4.76 8.78412 4.18894 8.21906 3.5653 7.86975C3.25213 7.69434 2.84133 7.52445 2.38081 7.5217C1.87057 7.51865 1.38659 7.72299 1.01778 8.14221L2.51941 9.46324C2.52177 9.46056 2.50353 9.48113 2.46192 9.49972C2.42048 9.51823 2.385 9.52176 2.36888 9.52166C2.35449 9.52158 2.42166 9.52154 2.58795 9.61468C2.92326 9.80249 3.31712 10.1693 3.6722 10.5491L5.13306 9.18309ZM5.15947 9.21142C5.15063 9.20191 5.14183 9.19247 5.13306 9.18309L3.6722 10.5491C3.6797 10.5571 3.68724 10.5652 3.69482 10.5733L5.15947 9.21142ZM3.77532 9.75602L3.77537 9.76525L5.77534 9.7532L5.77528 9.74398L3.77532 9.75602ZM3.7753 2.25V9.75H5.7753V2.25H3.7753ZM3.69482 10.5733C4.40798 11.3403 5.77535 10.8889 5.77535 9.75922H3.77535C3.77535 8.98963 4.69149 8.70813 5.15947 9.21142L3.69482 10.5733ZM9.2753 8.5C10.1037 8.5 10.7753 7.82843 10.7753 7H8.7753C8.7753 6.72386 8.99916 6.5 9.2753 6.5V8.5ZM6.7753 8.5C7.60373 8.5 8.2753 7.82843 8.2753 7H6.2753C6.2753 6.72386 6.49916 6.5 6.7753 6.5V8.5ZM10.2753 6.99997C10.2753 7.82841 10.9469 8.5 11.7753 8.5V6.5C12.0515 6.5 12.2753 6.72384 12.2753 6.99997H10.2753ZM7.7753 7C7.7753 7.82843 8.44687 8.5 9.2753 8.5V6.5C9.55144 6.5 9.7753 6.72386 9.7753 7H7.7753ZM12.0254 8.5C12.7157 8.5 13.2754 7.94036 13.2754 7.25H11.2754C11.2754 6.83579 11.6111 6.5 12.0254 6.5V8.5ZM5.2753 7C5.2753 7.82843 5.94687 8.5 6.7753 8.5V6.5C7.05144 6.5 7.2753 6.72386 7.2753 7H5.2753Z",fill:"black",fillOpacity:"0.8",mask:"url(#path-1-outside-1_15_11117)"}))}let es=(0,l.Ng)(e=>{let{teams:t}=e;return{teams:t,unsortedTeamIds:(0,k._L)(e.user,e.roles,e.teams)}})((0,T.kp)(function(e){return r.createElement(_.tH,{boundaryKey:"OrgUpgradeMultiTeamModal",team:s.e.BILLING_EXPERIENCE,fallback:r.createElement(w.K,null)},r.createElement(r.Suspense,{fallback:r.createElement(M.N,{hiddenTitle:(0,E.tx)("org_upgrade.multi_team.bring_your_teams_together_with_the_figma_organization_plan"),estimatedWidth:500,estimatedHeight:500})},r.createElement(er,{...e})))},"Multi-Team Org Upgrade Modal"))},60030:(e,t,a)=>{a.r(t),a.d(t,{OrgUpgradeSingleTeamModal:()=>j,PlanWithFigjamPriceView:()=>U});var r=a(848318),l=a(301168),s=a(938982),n=a(19180),i=a(536384),o=a.n(i),c=a(329228),m=a(682524),d=a(133318),_=a(146968),u=a(264478),p=a(755534),g=a(720522),h=a(967688),E=a(695920),f=a(453370),v=a(31898),y=a(957872),S=a(863270),x=a(188279),T=a(594950),N=a(501104),b=a(718275),C=a(381673),w=a(318147),A=a(834612),k=a(138528),I=a(361053),P=a(912534),M=a(520779),D=a(523048),R=a(414607),B=a(274016),O=a(859355),L=a(871993);function $(e){return r.createElement(r.Fragment,null,r.createElement(g.B,{svg:e.isArrow?'<svg xmlns="http://www.w3.org/2000/svg" width="9" height="7" viewBox="0 0 9 7"><path fill="#000" fill-opacity=".8" fill-rule="nonzero" stroke="none" d="m3.586 7 .602-.602L1.71 3.93h6.414v-.86H1.711L4.187.594 3.587 0l-3.5 3.5 3.5 3.5z"/></svg>':L.A,className:O.oE}),r.createElement("p",null,e.text))}function V(e){return r.createElement("div",{className:O.Vf},r.createElement("div",{className:O._R},e.features.map((e,t)=>r.createElement("div",{key:t,className:O.$P},r.createElement($,{text:e.text,isArrow:e.isArrow}))),e.plan===w.Ag.ORG&&r.createElement("div",{className:O.W2},r.createElement(u.Us,{href:"https://www.figma.com/pricing/#cid-57mfNh6t0Xo7z8Q95Ww9ZV",target:"_blank",trusted:!0},(0,h.tx)("org_upgrade.single_team.see_all_features"))),e.plan===w.Ag.ORG&&r.createElement(u.vd,{onClick:e.onUpgrade,className:O.E8,trackingProperties:{trackingDescriptor:y.c.UPGRADE_TO_ORGANIZATION,upsellSource:e.upsellSource}},(0,h.tx)("org_upgrade.single_team.upgrade_to_an_organization"))))}function U(e){return r.createElement("div",{className:O.Ms,style:{padding:e.padding},"data-testid":e.dataTestId},r.createElement("h2",{className:O.QB},e.name),r.createElement("p",{className:O.VA},e.subtitle),r.createElement("div",{className:O.y3},r.createElement("p",{className:O.Q$},(0,h.tx)("plan_details.figma"),(0,n.k)().billing_dev_mode_customer_ui&&r.createElement("div",{className:O.gt},r.createElement(m.G,null))),r.createElement("div",null,r.createElement("p",{className:O.G8},e.prices[T.ud.DESIGN]))),(0,n.k)().billing_dev_mode_customer_ui&&e.prices[T.ud.DEV_MODE]&&r.createElement("div",{className:O.y3},r.createElement("p",null,(0,h.tx)("plan_details.dev_mode_only")),r.createElement("div",null,r.createElement("p",{className:O.G8},e.prices[T.ud.DEV_MODE]))),r.createElement("div",{className:O.y3},r.createElement("p",null,(0,h.tx)("plan_details.fig_jam")),r.createElement("div",null,r.createElement("p",{className:O.G8},e.prices[T.ud.FIGJAM]))))}function z(e){let t=(0,k.XP)({reportErrorsToTeam:s.e.BILLING_EXPERIENCE}),a={planParentId:t.key.parentId||"",planType:t.key.type},n=(0,x.vK)(a),[i]=(0,c.mI)(n),m=(0,x.vu)(i);if(null===m.data)throw Error("Contract prices currency was null");let _=m.data,u=N.Oq.exclude([T.ud.DEV_MODE]),g=u.dict(e=>({currency:_,billableProductKey:e,tier:P.Ju.PRO,renewalTerm:P.IX.YEAR,unit:P.IX.MONTH})),E=(0,x.ic)(g,a,x.Fq.UPSELL_MODALS_CONTRACT),y=(0,x.jv)({billableProductKeys:N.Oq,baseQuery:{currency:_,tier:P.Ju.ORG,renewalTerm:P.IX.YEAR,unit:P.IX.MONTH}}),[S,b]=(0,c.mI)(E,y),C=(0,x.vu)(S);if(null===C.data)throw Error("Contract price data was null");let I=(0,x.vu)(b);if(null===I.data)throw Error("Sticker price data was null");let M=C.data,D=I.data,B=(0,l.wA)(),L=()=>{B(v.Ce())},$=new A.vr(_);return r.createElement(R.Nb,{className:O.yl,hide:L,size:586,useModalViewScroll:!1},r.createElement(p.P,{className:O.jG},r.createElement("div",{className:O.o},r.createElement("div",{className:O.Dz},r.createElement("div",{className:O.hx},(0,h.tx)("org_upgrade.single_team.get_more_out_of_figma_as_you_grow"))),r.createElement(d.Jn,{className:O.b,onClick:L,innerText:"close"})),r.createElement("div",{className:o()(O.yH,O.Mm)},r.createElement(U,{dataTestId:"pro-prices",name:(0,h.t)("org_upgrade.single_team.professional_plan"),subtitle:(0,h.t)("org_upgrade.single_team.price_when_billed_annually"),prices:u.dict(e=>`${$.formatMoney(M[e].amount)}`),padding:"16px 31px 16px 36px"}),r.createElement(U,{dataTestId:"org-prices",name:(0,h.t)("org_upgrade.single_team.organization_plan"),subtitle:(0,h.t)("org_upgrade.single_team.annual_billing_only"),prices:N.Oq.dict(e=>`${$.formatMoney(D[e]?.amount??0)}`),padding:"16px 32px 16px 33px"})),r.createElement("div",{className:O.Jh}),r.createElement("div",{className:O.yH},r.createElement(V,{plan:w.Ag.PRO,features:[{text:(0,h.t)("org_upgrade.single_team.unlimited_design_files_and_projects_in_one_team")},{text:(0,h.t)("org_upgrade.single_team.design_library_within_one_team")},{text:(0,h.t)("org_upgrade.single_team.audio_conversations_in_files")}]}),r.createElement(V,{plan:w.Ag.ORG,features:[{text:(0,h.t)("org_upgrade.single_team.everything_in_professional_plus"),isArrow:!0},{text:(0,h.t)("org_upgrade.single_team.unlimited_teams_and_unlimited_projects")},{text:(0,h.t)("org_upgrade.single_team.cross_team_design_libraries_and_fonts")},{text:(0,h.t)("org_upgrade.single_team.control_file_sharing_inside_and_outside_of_your_organization")},{text:(0,h.t)("org_upgrade.single_team.single_sign_on_sso_integration")},{text:(0,h.t)("org_upgrade.single_team.private_plugins_and_plugin_management")},{text:(0,h.t)("org_upgrade.single_team.full_content_ownership")}],onUpgrade:()=>{L(),B(f.$T({view:"orgSelfServe",upsellSource:e.upsellSource}))},upsellSource:e.upsellSource}))))}let j=(0,S.kp)(function(e){let t=(0,E.sx)(),a=(0,I.ol)();return r.createElement(_.tH,{boundaryKey:"OrgUpgradeSingleTeamModal",team:s.e.BILLING_EXPERIENCE,fallback:r.createElement(b.K,null)},r.createElement(r.Suspense,{fallback:r.createElement(D.N,{hiddenTitle:(0,h.tx)("org_upgrade.single_team.get_more_out_of_figma_as_you_grow"),estimatedWidth:586,estimatedHeight:586})},t?r.createElement(B.bP,{team:a,resource:M.Bi.ORG,currentPlan:C.F.Plan.PRO,upsellPlan:C.F.Plan.ORG,editorType:w._Y.DESIGN,upsellSource:e.upsellSource}):r.createElement(z,{...e})))},"Single-Team Org Upgrade Modal")},476669:(e,t,a)=>{a.r(t),a.d(t,{UniversalUpgradeSequence:()=>j});var r=a(848318),l=a(301168),s=a(29188),n=a(63163),i=a(133318),o=a(264478),c=a(967688),m=a(48368),d=a(453370),_=a(422444),u=a(31898),p=a(679617),g=a(863270),h=a(672940),E=a(209595),f=a(834612),v=a(253332),y=a(872240),S=a(175957),x=a(414607),T=a(559389),N=a(227276),b=a(304756),C=a(298210),w=a(439382),A=a(345964),k=a(151223),I=a(768623),P=a(198850),M=a(740495),D=a(353231),R=a(125761),B=a(715880),O=a(63767),L=a(62130);let $=(0,k.nF)((e,{teamName:t,selectedView:a,currency:r,onSuccess:l,onError:s,onBillingCompleteRedirectInfo:n})=>{let i;b.Ay.post("/api/teams/create",{team_name:t}).then(({data:t})=>(i="team"in t.meta?t.meta.team:t.meta,e.dispatch(P.bE({team:i})),(0,D._J)("Team Created",i.id,e.getState()),O.G.getTeam({teamId:i.id}))).then(({data:t})=>{for(let a of t.meta)e.dispatch(I.bE({role:a}));l(),e.dispatch(p.WX({teamId:i.id,selectedView:a,newTeam:!0,currency:r,...n?{onBillingCompleteRedirectInfo:n}:{}}))}).catch(()=>{s()})});function V(e){let t=(0,l.wA)(),a=(0,R.TA)(),s=(0,l.d4)(B.P),n=(0,l.d4)(e=>e.roles.byTeamId),[i,m]=r.useState(!1),[d,_]=r.useState(!1),[p,g]=r.useState(""),h=(0,f.LN)(),E=(0,N.I7)("starter_team_loophole_experiment_m0"),v=(0,N.I7)("starter_team_loophole_experiment_m1"),y=()=>{t(u.Ce())},S=(0,T.s)(()=>{m(!0),p?t($({teamName:p,selectedView:e.selectedView,currency:h,onSuccess:y,onError:()=>{m(!1),_(!0)},onBillingCompleteRedirectInfo:e.onBillingCompleteRedirectInfo})):(m(!1),_(!0))});return a&&!(0,M.e5)({userId:a,teams:Object.values(s),rolesByTeamId:n,getM0Config:E.getConfig,getM1Config:v.getConfig})?r.createElement("div",{"data-testid":"createTeamToUpgradeView"},r.createElement("p",{className:L.KV},(0,c.tx)("universal_upgrade_sequence.subtitle")),d&&r.createElement(r.Fragment,null,r.createElement(C.I,{message:(0,c.t)("universal_upgrade_sequence.error"),marginTop:16}),r.createElement(o.Kz,{multiple:1})),r.createElement(o.Kz,{multiple:2}),r.createElement("div",{className:L.$g},r.createElement("div",{className:L.Eh},r.createElement(w.L,{dataTestId:"createTeamInput",placeholder:(0,c.t)("universal_upgrade_sequence.team_name.placeholder"),value:p||"",onChange:e=>{g(e.target.value)},required:!0,maxLength:255})),r.createElement(o.vd,{dataTestId:"nextButton",className:L.DI,disabled:!p||i,onClick:S},i?r.createElement(A.kt,{className:L.u1}):(0,c.tx)("universal_upgrade_sequence.next")))):null}var U=a(909633),z=a(860935);function j(e){let[t,a]=r.useState("selectTeam"),T=(0,l.wA)(),N=(0,E._6)(),b=(0,h.FC)(),C=(0,l.d4)(e=>e.payment.promo),w=(0,l.d4)(e=>e.payment.billingPeriod),A=()=>{T(u.Lo())},k=()=>{T(u.Ce()),e.onDone?.()},I=t=>{"teamUpgrade"===N.view?T(d.$T({...N,teamFlowType:S.SC.UPGRADE_EXISTING_TEAM,teamId:t.id,paymentStep:(0,m.kR)(N.paymentStep,S.SC.UPGRADE_EXISTING_TEAM,N.billingPeriod||null,C,N.planType||S.Sc.UNDETERMINED,C?y.tn.CONFIRM_PAY:y.tn.CHOOSE_PLAN),billingPeriod:e.billingPeriod||w,entryPoint:e.entryPoint})):T(p.WX({teamId:t.id,selectedView:N,newTeam:!1,currency:(0,f.LN)(),billingPeriod:e.billingPeriod,onBillingCompleteRedirectInfo:e.onBillingCompleteRedirectInfo,entryPoint:e.entryPoint,openInNewTab:e.openInNewTab})),k()},P=()=>{0===(0,v.PS)(b).length?(T(_.Dw({openInNewTab:!s.eD})),a("createTeam")):a("selectTeam")};return((0,n.h)(()=>{e.plan===U.I.PRO&&P()}),"selectTeam"===t)?(()=>{let t=(0,v.PS)(b);return r.createElement(g.fu,{name:"Upgrade Select Team Modal"},r.createElement(x.Nb,{hide:A,size:436},r.createElement("h1",{"data-testid":"modalTitle",className:L.GK},(0,c.tx)("universal_upgrade_sequence.title")),r.createElement(i.Jn,{dataTestId:"closeButton",className:L.b,onClick:A,innerText:(0,c.t)("universal_upgrade_sequence.close_modal")}),r.createElement(o.Kz,{multiple:2}),r.createElement(z.I,{eligibleTeams:t,selectTeam:I}),r.createElement(o.Kz,{multiple:2}),r.createElement(V,{selectedView:N,onBillingCompleteRedirectInfo:e.onBillingCompleteRedirectInfo})))})():r.createElement(r.Fragment,null)}},860935:(e,t,a)=>{a.d(t,{I:()=>_});var r=a(848318),l=a(264478),s=a(755534),n=a(967688),i=a(957872),o=a(863270),c=a(253332),m=a(125952),d=a(62130);function _({customUpgradeText:e,eligibleTeams:t,selectTeam:a,numDesignFilesPerTeam:_,showEditorCount:u=!0}){let[p,g]=(0,r.useState)(!1),[h,E]=(0,r.useState)(!1);r.useEffect(()=>{g(t.length>=5)},[t]);let f=`${d.jG}`;p&&(f+=` ${d.o8}`),h&&(f+=` ${d.kz}`);let v=t[t.length-1],y=_&&_.length===t.length;return r.createElement(s.P,{onScroll:(e,a)=>{let r=t.length>=5,l=r&&0!==e,s=r&&e+a.trackHeight!==a.scrollHeight;s!==p&&g(s),l!==h&&E(l)},className:f,scrollingDisabled:!1},r.createElement("div",{className:d.nW},t.map((t,s)=>r.createElement(o.jm,{key:t.id,className:t===v?d.wv:d.cr,onClick:()=>a(t),trackingProperties:{teamId:t.id,trackingDescriptor:i.c.UPGRADE},innerText:"Upgrade"},r.createElement("div",{className:"org_self_serve--teamInfo--7YTKY"},r.createElement(m.Ro,{className:"org_self_serve--teamIcon--DqZPm",entity:t,size:40,shape:"SQUARE"}),r.createElement("div",{className:"org_self_serve--teamText--Uh2zO"},r.createElement("p",{className:"org_self_serve--teamName--a1LGY text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},t.name),r.createElement("p",{className:"org_self_serve--teamEditors--2hBWh text--fontPos11--2LvXf text--_fontBase--QdLsd"},!y&&u&&(0,n.tx)("universal_upgrade.select_team.editor_count.seat_rename",{editors:t.editors}),y&&_&&(0,n.tx)("universal_upgrade.select_team.files_per_team_figma_files_used",{numFilesUsed:_[s],numFreeFilesAllowed:c.WW})))),r.createElement(l.nR,{className:d.J1,dataTestId:"select_team.upgrade"},e??(0,n.tx)("universal_upgrade.select_team.upgrade"))))))}},80988:(e,t,a)=>{a.r(t),a.d(t,{UpgradeContactSalesModal:()=>R});var r=a(848318),l=a(301168),s=a(559389),n=a(19180),i=a(238444),o=a(304756),c=a(133318),m=a(298210),d=a(264478),_=a(720522),u=a(967688),p=a(31898),g=a(740495),h=a(863270),E=a(520779),f=a(446951),v=a(706488),y=a(414607),S=a(734904);let x="upgrade_contact_sales_modal--closeButton--715WY";var T=a(364616),N=a(933949);let b=()=>[{name:(0,u.t)("universal_upgrade.1_10"),value:"1-10"},{name:(0,u.t)("universal_upgrade.11_50"),value:"11-50"},{name:(0,u.t)("universal_upgrade.51_250"),value:"51-250"},{name:(0,u.t)("universal_upgrade.251_1_k"),value:"251-1K"},{name:(0,u.t)("universal_upgrade.1_k_5_k"),value:"1K-5K"},{name:(0,u.t)("universal_upgrade.5_k_10_k"),value:"5K-10K"},{name:(0,u.t)("universal_upgrade.10_k_50_k"),value:"10K-50K"},{name:(0,u.t)("universal_upgrade.50_k_100_k"),value:"50K-100K"},{name:(0,u.t)("universal_upgrade.100_k"),value:"100K+"}],C=()=>r.createElement(r.Fragment,null,r.createElement("option",{value:"",disabled:!0},(0,u.t)("universal_upgrade.company_size")),b().map(e=>r.createElement("option",{value:e.value,"data-testid":`select-option-${e.value}`,key:e.value},e.name))),w=()=>[{name:(0,u.t)("contact_sales.topic.request_a_sales_demo_or_talk_to_sales"),value:"request_a_sales_demo_or_talk_to_sales"},{name:(0,u.t)("contact_sales.topic.billing_and_invoicing"),value:"billing_and_invoicing"},{name:(0,u.t)("contact_sales.topic.technical_and_product_support"),value:"technical_and_product_support"},{name:(0,u.t)("contact_sales.topic.educators_and_students"),value:"educators_and_students"}],A=()=>r.createElement(r.Fragment,null,r.createElement("option",{value:"",disabled:!0},(0,u.t)("contact_sales.which_topic_best_fits_your_needs")),w().map(e=>r.createElement("option",{value:e.value,"data-testid":`select-option-${e.value}`,key:e.value},e.name))),k=()=>[{name:(0,u.t)("contact_sales.product.design"),value:"design"},{name:(0,u.t)("contact_sales.product.figjam"),value:"figjam"},{name:(0,u.t)("contact_sales.product.dev_mode"),value:"dev_mode"},{name:(0,u.t)("contact_sales.product.all_products"),value:"all_products"}],I=()=>[{name:(0,u.t)("contact_sales.plan.starter"),value:"starter"},{name:(0,u.t)("contact_sales.plan.professional"),value:"professional"},{name:(0,u.t)("contact_sales.plan.organization"),value:"organization"},{name:(0,u.t)("contact_sales.plan.enterprise"),value:"enterprise"},{name:(0,u.t)("contact_sales.plan.figma_for_government"),value:"figma_for_government"},{name:(0,u.t)("contact_sales.plan.not_sure"),value:"not_sure"}],P=()=>r.createElement(r.Fragment,null,r.createElement("option",{value:"",disabled:!0},(0,u.t)("contact_sales.which_product_are_you_most_interested_in")),k().map(e=>r.createElement("option",{value:e.value,"data-testid":`select-option-${e.value}`,key:e.value},e.name))),M=()=>r.createElement(r.Fragment,null,r.createElement("option",{value:"",disabled:!0},(0,u.t)("contact_sales.what_figma_plan_are_you_inquiring_about")),I().map(e=>r.createElement("option",{value:e.value,"data-testid":`select-option-${e.value}`,key:e.value},e.name))),D=(0,f.Ju)(function({hideModal:e}){return r.createElement(h.fu,{name:"Upgrade Contact Sales Success Modal"},r.createElement(y.Nb,{hide:e,size:480},r.createElement("div",{className:"upgrade_contact_sales_modal--successModalWrapper--xA5Mp"},r.createElement("div",{className:"upgrade_contact_sales_modal--successModalTitle--Xgt1f upgrade_contact_sales_modal--modalTitle--7k87R text--fontPos13--xW8hS text--_fontBase--QdLsd"},r.createElement(_.B,{className:"upgrade_contact_sales_modal--successIcon---zT4I",svg:N.A}),(0,u.tx)("universal_upgrade.contact_sales.thank_you")),r.createElement(c.Jn,{className:x,onClick:e,innerText:"close"})),r.createElement("div",{className:"upgrade_contact_sales_modal--successModalText--f1aRe text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,u.tx)("universal_upgrade.contact_sales.sales_will_reach_out"))))},"ContactSalesSuccessModal");function R(e){let t=(0,l.wA)(),a=(0,l.d4)(e=>e.user),[f,N]=(0,r.useState)({email:a?.email??"",name:a?.handle??"",overridePlaceholderText:e.overridePlaceholderText,freeText:"",result:void 0,companyName:void 0,companySize:"",jobTitle:"",topic:"",plan:"",product:"",phone:"",formErrors:{}}),b=(0,n.k)().contact_sales_form_uses_plan,w=(0,g.Mx)(),k=()=>{t(p.Lo())},I=()=>{t((0,p.to)({type:D,data:{hideModal:()=>t(p.Ce())}}))},R=()=>({email:f.email,name:f.name,company_name:f.companyName,topic:f.topic,[b?"plan":"product"]:b?f.plan:f.product,phone:f.phone,message:f.freeText,source:e.source,form_name:"topic_v1"}),B=()=>({email:f.email,name:f.name,company_name:f.companyName,company_size:f.companySize,job_title:f.jobTitle,message:f.freeText,source:e.source,form_name:"topic_control"}),O=(0,s.s)(()=>{let t={},a=(0,u.t)("universal_upgrade.this_field_is_required");if(f.email?(0,i.xf)(f.email)||(t.email=(0,u.t)("universal_upgrade.please_provide_a_valid_email_address")):t.email=a,f.name||(t.name=a),f.companyName||(t.companyName=a),w?(f.topic||(t.topic=a),b?f.plan||(t.plan=a):f.product||(t.product=a)):e.source===E.Bi.VARIABLES_MODES?f.jobTitle||(t.jobTitle=a):f.companySize||(t.companySize=a),N(e=>({...e,formErrors:t,result:void 0})),0===Object.keys(t).length){let e=w?R():B();o.Ay.post("/api/form_post/org-lead-gen",e).then(()=>{N(e=>({...e,result:"success"})),I()}).catch(()=>N(e=>({...e,result:"error"})))}}),L=e=>f.formErrors[e]?"upgrade_contact_sales_modal--error--8vAcf basic_form--labeledInputGroup--aeD6L":void 0,$=e=>{let t=f.formErrors[e];return t?r.createElement("div",{"data-testid":"form-error",className:"upgrade_contact_sales_modal--errorMessage--FfxPx text--fontPos11--2LvXf text--_fontBase--QdLsd"},t):null},V=(e,t,a=!1)=>r.createElement(r.Fragment,null,r.createElement(d.Lf,{htmlName:t,label:e,value:f[t]||"",onChange:e=>{let a={[t]:e.target.value};N(e=>({...e,...a}))},disabled:a,className:L(t)}),$(t)),U=(e,t,a)=>{let l=L(t)||S.Os;return r.createElement(r.Fragment,null,r.createElement("div",{className:l},r.createElement("div",{className:"upgrade_contact_sales_modal--select--sFfZ- address_form--selectRowFull--8DtEB"},r.createElement(d.VE,{name:t,placeholder:e,defaultValue:"","data-testid":`${t}-select`,onChange:e=>{let a={[t]:e.target.value};N(e=>({...e,...a}))},required:!0},a),r.createElement(_.B,{className:S.nO,svg:T.A}))),$(t))};return r.createElement(h.fu,{name:"Upgrade Contact Sales Modal"},r.createElement(y.Nb,{className:"upgrade_contact_sales_modal--contactSalesModal--ExFaV",hide:k,size:480},r.createElement("div",{className:"upgrade_contact_sales_modal--titleWrapper--mKMG2"},r.createElement("h1",{className:"upgrade_contact_sales_modal--modalTitle--7k87R text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,u.tx)("universal_upgrade.contact_sales_title")),r.createElement(c.Jn,{className:x,onClick:k,innerText:"close"})),r.createElement("div",{className:"upgrade_contact_sales_modal--modalBody--FTi91"},"error"===f.result&&r.createElement(r.Fragment,null,r.createElement(m.I,{message:(0,u.t)("universal_upgrade.there_was_an_error_processing_your_information_please_try_again")}),r.createElement(d.Kz,{multiple:.5})),w?r.createElement("fieldset",null,V((0,u.t)("universal_upgrade.email_address"),"email"),V((0,u.t)("universal_upgrade.full_name"),"name"),V((0,u.t)("universal_upgrade.company_name"),"companyName"),U((0,u.t)("contact_sales.which_topic_best_fits_your_needs"),"topic",A()),b?U((0,u.t)("contact_sales.what_figma_plan_are_you_inquiring_about"),"plan",M()):U((0,u.t)("contact_sales.which_product_are_you_most_interested_in"),"product",P()),V((0,u.t)("contact_sales.phone_number_optional"),"phone")):r.createElement("fieldset",null,V((0,u.t)("universal_upgrade.email_address"),"email"),V((0,u.t)("universal_upgrade.full_name"),"name"),V((0,u.t)("universal_upgrade.company_name"),"companyName"),e.source===E.Bi.VARIABLES_MODES?V((0,u.t)("universal_upgrade.job_title"),"jobTitle"):U((0,u.t)("universal_upgrade.company_size"),"companySize",C())),r.createElement(d.Kz,{multiple:1}),r.createElement("p",null,(0,u.tx)("universal_upgrade.how_can_we_help_optional")),r.createElement(d.Kz,{multiple:1}),r.createElement(v.v,{className:"upgrade_contact_sales_modal--freeTextInput--fE033 text--fontPos13--xW8hS text--_fontBase--QdLsd",value:f.freeText,onChange:e=>N(t=>({...t,freeText:e.target.value})),placeholder:f.overridePlaceholderText??(0,u.t)("universal_upgrade.e_g_i_m_looking_to_set_up_a_demo_of_figma"),maxLength:500})),r.createElement("div",{className:"upgrade_contact_sales_modal--modalFooter--WNk7P"},r.createElement(d.tM,{onClick:k},(0,u.tx)("general.cancel")),r.createElement(d.vd,{onClick:O},(0,u.tx)("universal_upgrade.submit")))))}},573665:(e,t,a)=>{a.r(t),a.d(t,{OrgHeader:()=>eD,OrgSelfServeBillingRemodelPage:()=>eM,OrgSelfServeBillingRemodelPageInner:()=>eP});var r=a(848318),l=a(301168),s=a(660376),n=a(938982),i=a(989232),o=a(238444),c=a(637640),m=a(63163),d=a(329228),_=a(998568),u=a(304756),p=a(146968),g=a(136126),h=a(720522),E=a(297638),f=a(314979),v=a(850426),y=a(967688),S=a(210853),x=a(744577),T=a(631177),N=a(765262),b=a(267098),C=a(631329),w=a(159229),A=a(863270),k=a(912534),I=a(156495),P=a(872240),M=a(175957),D=a(763339);let R=(0,A.tf)(function(e){return r.createElement("div",{className:D.Nd,onClick:e.onClick},(0,y.tx)("org_self_serve.headers.cancel"))});function B(e){if(e.currentStep===I.X1.Confirmation)return null;let t=[],a=null;if(e.newTeamProps){let r={step:I.X1.ChoosePlan,name:(0,y.t)("org_self_serve.headers.choose_plan")},l={step:I.X1.CreateTeam,name:(0,y.t)("org_self_serve.headers.create_team")};switch(e.newTeamProps?.teamFlowType){case M.SC.CREATE:t.push({step:I.X1.PseudoCreateTeam,name:(0,y.t)("org_self_serve.headers.create_team")}),t.push({step:I.X1.AddCollaborators,name:(0,y.t)("org_self_serve.headers.add_team_members")}),t.push(r);break;case M.SC.CREATE_AND_UPGRADE:t.push(r),t.push(l),a=I.X1.CreateTeam;break;case M.SC.UPGRADE_EXISTING_TEAM:t.push(r)}}e.canSeeTeamAndSeatSelectionSteps&&(t.push({step:I.X1.TeamSelect,name:(0,y.t)("org_self_serve.headers.teams_to_upgrade")}),e.isCampfireCart&&t.push({step:I.X1.SeatSelect,name:(0,y.t)("checkout.choose_seats")}),a=a??I.X1.TeamSelect),e.isCampfireCart?a=a??I.X1.Payment:(t.push({step:I.X1.Details,name:(0,y.t)("org_self_serve.headers.organization_details")}),a=a??I.X1.Details),t.push({step:I.X1.Payment,name:(0,y.t)("org_self_serve.headers.payment")}),t.push({step:I.X1.Review,name:(0,y.t)("org_self_serve.headers.review")}),t[t.findIndex(e=>e.step===a)].step=I.X1.Initial;let l=0;for(let a=0;a<t.length;a++)if(t[a].step===e.currentStep){l=a;break}return r.createElement("div",{className:D.li},r.createElement(R,{onClick:e.onFileBrowserClick}),r.createElement("div",{className:D.Uu,"data-testid":"stepBreadcrumbs"},t.map((t,a)=>r.createElement(w.On,{key:a+1,selected:e.currentStep===t.step,number:a+1,text:t.name,onClick:()=>{i.definedAnalyticsHandler.trackDefinedEvent("monetization_upgrades.checkout_breadcrumb_navigation",{fromStep:e.currentStep,toStep:t.step,tier:k.Ju.ORG,isCampfireCart:!!e.isCampfireCart});let a=function(e){switch(e){case I.X1.ChoosePlan:return P.tn.PLAN_COMPARISON;case I.X1.AddCollaborators:return P.tn.ADD_COLLABORATORS;case I.X1.PseudoCreateTeam:return P.tn.CREATE_TEAM;default:return null}}(t.step);a&&e.onSelectTeamUpgradeStep?e.onSelectTeamUpgradeStep(a):e.setStep(t.step)},canClick:a<l,lightText:!0}))))}var O=a(653764),L=a(31573),$=a(331791),V=a(902947),U=a(425884),z=a(264478),j=a(439382),F=a(957872),G=a(81441),H=a(100203),X=(e=>(e.STARTER="starter",e.PRO="pro",e.ORG="org",e))(X||{});function W({type:e,teamName:t,setTeamName:a,onNext:l,upgradeExistingTeam:s,promo:n}){let i={starter:{title:(0,y.tx)("all_carts.create_team.create_a_new_team"),subtitle:(0,y.tx)("all_carts.create_team.after_creating_a_team"),placeholder:(0,y.t)("pro_cart.create_team.enter_a_name_for_your_working_group"),next:(0,y.tx)("all_carts.create_team.create_team"),trackingDescriptor:F.c.SEND_INVITES},pro:{title:(0,y.tx)("pro_cart.create_team.create_a_professional_team"),subtitle:(0,y.tx)("pro_cart.create_team.itll_have_unlimited_files_and_collaborative_features"),placeholder:(0,y.t)("pro_cart.create_team.enter_a_name_for_your_working_group"),next:n?(0,y.tx)("pro_cart.sidebar.next_review"):(0,y.tx)("pro_cart.create_team.next_set_editors.seat_rename"),trackingDescriptor:n?F.c.REVIEW:F.c.SET_EDITORS},org:{title:(0,y.tx)("org_self_serve.create_team_step.create_an_org_team"),subtitle:(0,y.tx)("org_self_serve.create_team_step.itll_have_unlimited_files_and_advanced_security"),placeholder:(0,y.t)("org_self_serve.create_team_step.enter_a_name_for_your_team"),next:(0,y.tx)("org_self_serve.create_team_step.next_select_team"),trackingDescriptor:F.c.SELECT_TEAM}}[e];return r.createElement(r.Fragment,null,r.createElement("div",{className:G.Fb},i.title),r.createElement(z.Kz,{multiple:.5}),r.createElement("div",{className:G.b0},i.subtitle),r.createElement("div",{className:G.F0},r.createElement(h.B,{svg:H.A,className:G.Pr}),r.createElement(j.L,{className:G.Zy,onChange:e=>a(e.target.value),value:t,placeholder:i.placeholder})),r.createElement(z.vd,{className:G.eA,onClick:l,trackingProperties:{trackingDescriptor:i.trackingDescriptor},disabled:!t.trim()},i.next),!!s&&r.createElement(z.Us,{className:G.x,onClick:s,trusted:!0,trackingProperties:{trackingDescriptor:F.c.UPGRADE_EXISTING_TEAM}},(0,y.tx)("pro_cart.create_team.upgrade_an_existing_team_instead")))}var J=a(191265),K=a(530320),Y=a(695920),Z=a(453370),q=a(31898),Q=a(679617),ee=a(533737),et=a(740495),ea=a(188279),er=a(708896),el=a(353231),es=a(501104),en=a(718275),ei=a(218732),eo=a(353806),ec=a(318147),em=a(834612),ed=a(403014),e_=a(89140),eu=a(36942),ep=a(94831),eg=a(991675),eh=a(683703),eE=a(154333),ef=a(68188),ev=a(851625),ey=a(408962),eS=a(2446),ex=a(912873),eT=a(249555);function eN({teams:e,selectedTeamIds:t,onToggle:a}){return r.createElement("div",{"data-testid":"org-select-teams-step"},r.createElement("div",{className:D.kH},e.map(e=>r.createElement(eb,{key:e.id,team:e,isSelected:t.has(e.id),onToggle:a}))))}function eb({team:e,isSelected:t,onToggle:a}){return r.createElement("div",{key:e.id,"data-testid":`select_team--${e.id}`},r.createElement(ey.F,{className:eT.Q,checked:t,onChange:()=>a(e.id),id:`select-team-${e.id}`}),r.createElement("label",{htmlFor:`select-team-${e.id}`,className:D.K6,style:x.sx.if(t,x.sx.colorBorderSelected.colorBgSelectedTertiary,x.sx.colorBg.add({borderColor:"var(--color-bg)"})).$},r.createElement(ex.nl,{team:e}),r.createElement("span",{className:E.s.maxWFull.$},r.createElement("span",{className:E.s.block.maxWFull.font14.fpl__textBodyLargeLineHeight.colorText.truncate.$},e.name),r.createElement("span",{className:E.s.block.font11.colorTextSecondary.ellipsis.$},(0,y.tx)("checkout.org_select_teams_member_count",{count:e.numMembers}))),t&&r.createElement("div",{className:D.ER},r.createElement(eS.g,null))))}function eC({orgDetails:e,onChangeFormInput:t}){return r.createElement(O.x,{title:(0,y.t)("checkout.organization_details")},r.createElement("div",{className:E.s.font13.$},r.createElement(z.Lf,{htmlName:"legal_org_name",label:(0,y.t)("org_self_serve.details_step.legal_company_name"),value:e.legalOrgName,onChange:t}),r.createElement(z.Lf,{htmlName:"org_name",label:(0,y.t)("org_self_serve.details_step.company_display_name"),placeholder:(0,y.t)("org_self_serve.details_step.company_display_name__different_from_company_name_sub_text"),value:e.orgName,onChange:t})))}var ew=a(647045);let eA=({selectedTeamIds:e,selectedUserSeatTypes:t,additionalSeatsCount:a,onChangeSeat:l,onChangeAdditionalSeats:s})=>{let n=(0,V.wh)(e,t,a),[i,o]=(0,r.useState)(n),c=(0,r.useCallback)(e=>{try{o(t=>(function(e,t){let a=(0,V.n5)(e,t);switch(a.type){case"success":return a.value;case"validation":throw Error("failed validation");case"error":throw Error("sent error")}})(t,e))}catch(e){}},[]);return{changeUserSeatType:(0,r.useCallback)((e,t)=>{c({type:"changeSeatType",userId:e,seatType:t}),l(e,t)},[l,c]),setAdditionalSeats:(0,r.useCallback)(e=>{c({type:"setAdditionalSeats",additionalSeatCounts:e}),s(e)},[s,c]),selectSeatsState:i}};function ek({users:e,selectedUserSeatTypes:t,selectedTeamIds:a,additionalSeatsCount:l,onChangeSeat:s,onChangeAdditionalSeats:n,currency:i}){let o=(0,V.GC)({currency:i,tier:k.Ju.ORG,renewalTerm:k.IX.YEAR,showCents:!1}),[c]=(0,d.mI)(o);if(null===c.data)throw Error("No seat types data");let m=c.data,{changeUserSeatType:_,selectSeatsState:u,setAdditionalSeats:p}=eA({selectedTeamIds:a,selectedUserSeatTypes:t,additionalSeatsCount:l,onChangeSeat:s,onChangeAdditionalSeats:n});return r.createElement("div",{"data-testid":"select-seats-step-org"},r.createElement(ew.T,{users:e,seatTypes:m,changeUserSeatType:_,selectSeatsState:u,setAdditionalSeats:p,tier:k.Ju.ORG}))}var eI=a(388041);class eP extends r.Component{constructor(e){super(e),this.canSeeTeamAndSeatSelectionSteps=()=>Object.keys(this.state.eligibleTeamsByTeamId).length>0||this.state.loading||!!this.props.newTeamProps,this.effectiveStep=()=>this.props.step===I.X1.Initial||this.props.step===I.X1.ChoosePlan?this.props.newTeamProps?.teamFlowType===M.SC.CREATE_AND_UPGRADE?I.X1.CreateTeam:this.canSeeTeamAndSeatSelectionSteps()?I.X1.TeamSelect:I.X1.Payment:this.props.step,this.setStep=e=>{this.props.dispatch(Z.$T({view:"orgSelfServe",step:e,orgMigrated:!1,newTeamProps:this.props.newTeamProps,upsellSource:this.props.upsellSource})),this.setState(e=>({payment:{...e.payment,card:null}}))},this.trackError=e=>{i.definedAnalyticsHandler.trackDefinedEvent("monetization_upgrades.checkout_payment_error",{message:e,paymentFlow:er.wn.ORG_UPGRADE,paymentMethodType:eu.lB.CARD,isCampfireCart:!0})},this.onSubmit=()=>{let e=this.effectiveStep();switch(e){case I.X1.CreateTeam:this.state.newTeamName?.trim()&&this.setStep(I.X1.TeamSelect);break;case I.X1.AddCollaborators:this.setStep(I.X1.Payment);break;case I.X1.PseudoCreateTeam:this.setStep(I.X1.TeamSelect);break;case I.X1.TeamSelect:let t=(0,ev.hT)({eligibleTeamsByTeamId:this.state.eligibleTeamsByTeamId,selectedTeamIds:this.state.selectedTeamIds,eligibleUsersByUserId:this.state.eligibleUsersByUserId,selectedUserSeatTypes:this.state.selectedUserSeatTypes});this.setState({selectedUserSeatTypes:t}),this.setStep(I.X1.SeatSelect);break;case I.X1.SeatSelect:this.setStep(I.X1.Payment);break;case I.X1.Payment:this.onSubmitPaymentAndAddress();break;case I.X1.Review:this.onSubmitPurchaseOrder();break;case I.X1.Confirmation:break;default:(0,s.wc)(e)}},this.getNextButtonText=()=>{let e=this.effectiveStep();switch(e){case I.X1.CreateTeam:case I.X1.PseudoCreateTeam:case I.X1.AddCollaborators:return(0,y.t)("org_self_serve.create_team_step.next_select_team");case I.X1.TeamSelect:return(0,y.t)("checkout.org_self_serve.next_select_seats");case I.X1.SeatSelect:return(0,y.t)("org_self_serve.payment_step.next_payment");case I.X1.Payment:return(0,y.t)("org_self_serve.review_step.next_review");case I.X1.Review:case I.X1.Confirmation:return"";default:(0,s.wc)(e)}},this.getIsNextButtonDisabled=()=>{let e=this.effectiveStep();switch(e){case I.X1.CreateTeam:case I.X1.PseudoCreateTeam:return!this.state.newTeamName;case I.X1.TeamSelect:return this.state.loading;case I.X1.Payment:return this.state.apiPending||!this.state.orgDetails.legalOrgName;case I.X1.Review:case I.X1.Confirmation:case I.X1.AddCollaborators:case I.X1.SeatSelect:return!1;default:(0,s.wc)(e)}},this.getIsNextButtonLoading=()=>this.state.loading||this.state.apiPending,this.onTeamToggle=e=>{let t=!this.state.selectedTeamIds.has(e);i.definedAnalyticsHandler.trackDefinedEvent("monetization_upgrades.checkout_change_team_selection",{teamId:e,selectedTeam:t}),t?this.setState(t=>({selectedTeamIds:t.selectedTeamIds.add(e)})):this.setState(t=>(t.selectedTeamIds.delete(e),{selectedTeamIds:t.selectedTeamIds}))},this.onCardReady=e=>{let t={...this.state.payment,card:e};this.setState({payment:t})},this.onAddressChange=e=>{let t={...this.state.payment,address:e};this.setState({payment:t})},this.onShippingAddressChange=e=>{this.setState({shippingAddress:e})},this.onNameOnPaymentMethodChange=e=>{this.setState({nameOnPaymentMethod:e.trim()})},this.onClearToken=()=>{let e={...this.state.payment,token:null};this.setState({payment:e})},this.onVatIdChange=e=>{this.setState({vatId:e})},this.onRegionalVatIdChange=e=>{this.setState({regionalVatId:e})},this.onVatValidationFail=e=>{this.trackError(e),this.setState({apiPending:!1,paymentError:e})},this.onChangeNewTeamName=e=>{this.setState({newTeamName:e.trim()})},this.onChangeOrgDetails=e=>{let t=e.target.name,a=e.target.value;if(!t){e.preventDefault(),console.error("HTMLInputElement is missing name attribute:",e.target);return}let r=this.state.orgDetails;switch(t){case"actor_name":r.actorName=a.trim();break;case"legal_org_name":r.legalOrgName=a.trim();break;case"org_name":r.orgName=a.trim()}this.setState({orgDetails:r})},this.contactSales=()=>{this.props.dispatch((0,q.to)({type:T.lk,data:{source:N.B.ORG_SELF_SERVE_UPGRADE_MODAL}}))},this.onFileBrowserClick=()=>{this.props.newTeamProps&&(0,ei.Al)(this.props.user.id),c.Ay.redirect("/files/recent")},this.updateAdditionalEmptySeats=e=>{this.setState({additionalSeatCounts:e})},this.renderPurchaseSummary=()=>{let e=this.effectiveStep()===I.X1.TeamSelect?null:(0,V.O$)(this.state.selectedUserSeatTypes,this.state.additionalSeatCounts);return r.createElement(U.z,{billingInterval:P.NW.YEAR,buttonText:this.getNextButtonText(),canEnforcePaidSeatMinimum:this.effectiveStep()===I.X1.SeatSelect,countByBillableProductKey:e,currency:this.state.currency,footer:r.createElement("div",{className:D.i9},r.createElement(h.B,{svg:eI.A,className:D.$y}),r.createElement("p",null,(0,y.tx)("org_self_serve.purchase_summary.have_questions",{contactSales:r.createElement("span",{className:D.uD,onClick:this.contactSales},(0,y.tx)("org_self_serve.purchase_summary.contact_our_sales_team"))}))),isButtonDisabled:this.getIsNextButtonDisabled(),isLoading:this.getIsNextButtonLoading(),onClickNext:this.onSubmit,onSwitchCurrency:e=>{this.props.dispatch(Q.MN({currency:e})),this.setState({currency:e})},tier:k.Ju.ORG,title:(0,y.t)("checkout.your_organization_plan"),trackingProperties:{selectedTeamIds:(0,V.gu)(Array.from(this.state.selectedTeamIds)),selectedUserSeatTypes:(0,V.Tj)(this.state.selectedUserSeatTypes),countBySeatType:(0,V.gS)(e)}})},this.state={loading:!0,eligibleTeamsByTeamId:{},selectedTeamIds:new Set,eligibleUsersByUserId:{},selectedUserSeatTypes:{},additionalSeatCounts:{collaborator:0,developer:0,expert:0},payment:{card:null,last4:null,address:(0,P.EB)((0,em.aE)())},apiPending:!1,stripeCustomerId:null,taxRate:0,orgDetails:{actorName:"",actorEmail:this.props.user.email,legalOrgName:"",orgName:""},paymentError:null,currency:this.props.currency,shippingAddress:(0,P.EB)((0,em.aE)()),nameOnPaymentMethod:"",vatId:null,regionalVatId:null,newTeamName:this.props.newTeamProps?.newTeamName||null,inviteEmails:this.props.newTeamProps?.inviteEmails||[]}}componentDidMount(){this.fetchTeamEligibleUpgrades()}fetchTeamEligibleUpgrades(){return eh.Eh.getEligibleUpgrades().catch(e=>{let t=e.data.message;return this.props.dispatch(Z.$T({view:"recentsAndSharing"})),this.props.dispatch(f.s.error(t||(0,y.t)("org_self_serve.confirmation_step.sorry_there_was_an_error_processing_your_request_refresh_and_try_again"))),this.setState({loading:!1}),Promise.reject()}).then(({data:e})=>{(0,V.R9)({eligibleTeamIds:e.meta.eligible_teams.map(e=>e.id),eligibleTeamUsers:e.meta.eligible_team_users,tier:k.Ju.ORG,step:this.effectiveStep()});let{eligibleTeamsByTeamId:t,selectedTeamIds:a,eligibleUsersByUserId:r,selectedUserSeatTypes:l}=(0,ev.s2)(e.meta.eligible_teams,e.meta.eligible_team_users);this.setState({loading:!1,eligibleTeamsByTeamId:t,selectedTeamIds:a,eligibleUsersByUserId:r,selectedUserSeatTypes:l})})}componentDidUpdate(e,t){(0,o.zN)(e.user.email)!==(0,o.zN)(this.props.user.email)&&c.Ay.redirect("/purchase-organization")}getSubtotal(){let e=(0,V.O$)(this.state.selectedUserSeatTypes,this.state.additionalSeatCounts)||es.N_.dict(e=>0);return(0,L.Vh)(e,(0,V.s$)(this.props.productPriceBySeatType))}getTaxTotal(){let e=(0,V.O$)(this.state.selectedUserSeatTypes,this.state.additionalSeatCounts)||es.N_.dict(e=>0);return(0,L.kV)(e,(0,V.s$)(this.props.productPriceBySeatType),this.state.taxRate)}getTotal(){let e=(0,V.O$)(this.state.selectedUserSeatTypes,this.state.additionalSeatCounts)||es.N_.dict(e=>0);return(0,L.N9)(e,(0,V.s$)(this.props.productPriceBySeatType),this.state.taxRate)}getDisplayedCostBreakdown(){return{subtotal:this.getSubtotal(),tax_total:this.getTaxTotal(),total:this.getTotal()}}async onSubmitPaymentAndAddress(){let e=this.state.payment.address,t=this.state.payment.card,a=this.state.vatId,r=this.state.regionalVatId;if(null===t){let e=(0,y.t)("org_self_serve.payment_step.sorry_please_wait");this.trackError(e),this.setState({paymentError:e});return}if(this.setState({apiPending:!0}),a&&!await (0,eE.V)(a,e.country,()=>{},this.onVatValidationFail))return;if(this.props.canSeeBillingAddressExp&&!this.state.nameOnPaymentMethod){let e=(0,y.t)("org_self_serve.payment_step.name_on_payment_method_is_required");this.trackError(e),this.setState({apiPending:!1,paymentError:e});return}if(r&&!await (0,eE.V)(r,e.country,()=>{},this.onVatValidationFail,e.region))return;let l=this.props.canSeeBillingAddressExp?{name:this.state.nameOnPaymentMethod,address_line1:e.line1,address_line2:e.line2,address_country:e.country,address_city:e.city,address_state:e.region,address_zip:e.postal_code}:void 0;(0,eu.Ey)(t,l).then(t=>{if(!t.error&&t.token)return(0,eu.To)(t.token.id,this.getSubtotal(),this.state.currency).then(t=>this.props.canSeeBillingAddressExp?u.Ay.post("/api/orgs/validate_payment",{payment_method:t.payment_method,billing_address:e,shipping_address:(0,P.$V)(this.state.shippingAddress)?null:this.state.shippingAddress,selected_currency:this.state.currency,vat_gst_id:this.state.vatId,regional_vat_gst_id:this.state.regionalVatId||null}):u.Ay.post("/api/orgs/validate_payment",{payment_method:t.payment_method,address:e,selected_currency:this.state.currency,vat_gst_id:this.state.vatId,regional_vat_gst_id:this.state.regionalVatId||null})).catch(e=>{let t=e.data?.message||e.message;return this.trackError(t),this.setState({apiPending:!1,paymentError:t}),Promise.reject()}).then(({data:e})=>{this.setState(a=>({payment:{...a.payment,last4:t.token?.card?.last4||null},stripeCustomerId:e.meta.stripe_customer_id,taxRate:e.meta.tax_percent,apiPending:!1}),()=>this.setStep(I.X1.Review))});{let e=t.error?.message||(0,y.t)("org_self_serve.payment_step.there_was_an_error_processing_your_payment_please_try_again");this.trackError(e),this.setState({apiPending:!1,paymentError:e})}})}onSubmitPurchaseOrder(){this.props.dispatch(ee.b({completed_org_cart_flow:!0}));let e=(0,V.O$)(this.state.selectedUserSeatTypes,this.state.additionalSeatCounts),t=this.getDisplayedCostBreakdown(),a=(0,V.vm)(this.props.productPriceBySeatType),r={legal_org_name:this.state.orgDetails.legalOrgName,org_name:this.state.orgDetails.orgName||this.state.orgDetails.legalOrgName,team_ids:Array.from(this.state.selectedTeamIds),requested_seats:e,selected_user_seat_types:(0,ev.VB)(this.state.selectedUserSeatTypes),stripe_customer_id:this.state.stripeCustomerId,selected_currency:this.state.currency,vat_gst_id:this.state.vatId||null,regional_vat_gst_id:this.state.regionalVatId||null,displayed_cost_breakdown:t,displayed_price_keys:a};this.state.newTeamName&&(r.new_team_options={team_name:this.state.newTeamName,add_to_org:!0}),this.setState({apiPending:!0}),u.Ay.post("/api/orgs",r).catch(r=>(this.props.dispatch(f.s.error((0,S.J)(r,r.data?.message||(0,y.t)("org_self_serve.review_step.sorry_there_was_an_error_please_try_again")))),(0,_.$D)(n.e.BILLING_EXPERIENCE,Error(`[Billing] Org checkout API failed: ${r.data?.message}`),{extra:{eligibleTeamsByTeamId:this.state.eligibleTeamsByTeamId,eligibleUsersByUserId:this.state.eligibleUsersByUserId,selectedUserSeatTypes:this.state.selectedUserSeatTypes,selectedTeamIds:Array.from(this.state.selectedTeamIds),userId:this.props.user.id,countBySeatType:e,displayedCostBreakdown:t,displayedPriceKeys:a}}),this.setState({apiPending:!1}),Promise.reject())).then(e=>{this.setState({apiPending:!1},()=>this.setStep(I.X1.Confirmation)),this.state.inviteEmails.length&&e.data.meta.new_team&&this.props.dispatch((0,e_.rq)({emails:this.state.inviteEmails,resourceType:ec.vt.TEAM,resourceIdOrKey:e.data.meta.new_team.id,level:ep.e6.EDITOR,teamId:e.data.meta.new_team.id})),this.state.newTeamName&&e.data.meta.new_team&&(0,ei.Al)(this.props.user.id),(0,i.trackEvent)("Self Serve Org Purchased (GTM)"),(0,el.uE)("Self Serve Org Purchased",{user:this.props.user},{org_name:r.org_name,upsellSource:this.props.upsellSource})})}render(){let e;let t=this.effectiveStep(),a=Object.values(this.state.eligibleTeamsByTeamId).map(e=>({id:e.id,name:e.name,img_url:e.img_url,numMembers:e.eligibleUsers.size}));if(t===I.X1.Review){let t=(0,V.O$)(this.state.selectedUserSeatTypes,this.state.additionalSeatCounts)||{};e=r.createElement($.j,{billingAddress:this.state.payment.address,billingInterval:P.NW.YEAR,countByBillableProductKey:t,currency:this.state.currency,displayName:this.state.orgDetails.orgName||this.state.orgDetails.legalOrgName,isRequestPending:this.state.apiPending,legalName:this.state.orgDetails.legalOrgName,navigateToEditDetails:()=>this.setStep(I.X1.Payment),onSubmit:this.onSubmit,onSubmitTrackingProperties:{selectedTeamIds:(0,V.gu)(Array.from(this.state.selectedTeamIds)),selectedUserSeatTypes:(0,V.Tj)(this.state.selectedUserSeatTypes),countBySeatType:(0,V.gS)((0,V.O$)(this.state.selectedUserSeatTypes,this.state.additionalSeatCounts)),domain:(0,o.zN)(this.props.user.email),taxPercent:this.state.taxRate,subtotal:this.getSubtotal(),taxTotal:this.getTaxTotal(),total:this.getTotal()},shippingAddress:this.state.shippingAddress,taxPercent:this.state.taxRate,tier:k.Ju.ORG,title:(0,y.t)("checkout.upgrade_to_an_organization_plan"),userEmail:this.state.orgDetails.actorEmail})}else e=t===I.X1.Confirmation?r.createElement(C._,{totalCents:this.getTotal(),orgMigrated:this.props.orgMigrated,onFileBrowserClick:this.onFileBrowserClick,orgPayment:this.state.payment,currency:this.state.currency}):r.createElement(r.Fragment,null,this.props.isOrgAdmin&&r.createElement(b.wW,{onContactSales:this.contactSales,onFileBrowserClick:this.onFileBrowserClick}),(0,o.qe)(this.props.user.email)&&r.createElement(b.VE,{onFileBrowserClick:this.onFileBrowserClick}),r.createElement("div",{style:x.sx.grid.add({gridTemplateColumns:"1fr 280px",gap:"48px"}).$},t===I.X1.CreateTeam&&r.createElement("div",{className:D.Bb},r.createElement(W,{type:X.ORG,teamName:this.state.newTeamName||"",setTeamName:this.onChangeNewTeamName,onNext:this.onSubmit})),t===I.X1.TeamSelect&&(this.state.loading?r.createElement(J.f,null):r.createElement(eN,{teams:a,selectedTeamIds:this.state.selectedTeamIds,onToggle:this.onTeamToggle})),t===I.X1.SeatSelect&&(this.state.loading?r.createElement(J.f,null):r.createElement(ek,{users:(0,ev.sW)({eligibleUsersByUserId:this.state.eligibleUsersByUserId,eligibleTeamsByTeamId:this.state.eligibleTeamsByTeamId,selectedTeamIds:Array.from(this.state.selectedTeamIds)}),selectedTeamIds:Array.from(this.state.selectedTeamIds),selectedUserSeatTypes:this.state.selectedUserSeatTypes,additionalSeatsCount:this.state.additionalSeatCounts,currency:this.state.currency,onChangeSeat:(e,t)=>{this.setState({selectedUserSeatTypes:{...this.state.selectedUserSeatTypes,[e]:t}})},onChangeAdditionalSeats:this.updateAdditionalEmptySeats})),t===I.X1.Payment&&r.createElement("form",{"data-testid":"org-payment-and-details-step"},r.createElement(eC,{orgDetails:this.state.orgDetails,onChangeFormInput:this.onChangeOrgDetails}),r.createElement("div",{className:E.s.pt24.$},r.createElement(O.x,{title:(0,y.t)("checkout.payment_details")},this.state.paymentError&&r.createElement("div",{className:E.s.mb20.$},r.createElement(g._,{color:g.S.ERROR,text:this.state.paymentError})),r.createElement(ef.n,{allowFullWidthForm:!0,billingAddress:this.state.payment.address,canSeeBillingAddressExp:this.props.canSeeBillingAddressExp,cardId:"team-upgrade-page-card",id:"team-upgrade-page-form",isCheckoutFlow:!0,isCommunityCheckout:!1,nameOnPaymentMethod:this.state.nameOnPaymentMethod,onBillingAddressChange:this.onAddressChange,onCardReady:this.onCardReady,onClearToken:this.onClearToken,onRegionalVatIdChange:this.onRegionalVatIdChange,onShippingAddressChange:this.onShippingAddressChange,onVatIdChange:this.onVatIdChange,regionalVatId:this.state.regionalVatId,setNameOnPaymentMethod:this.onNameOnPaymentMethodChange,shippingAddress:this.state.shippingAddress,vatId:this.state.vatId})))),t!==I.X1.CreateTeam&&this.renderPurchaseSummary()));return r.createElement(A.fu,{name:eg.e0.ORG_CHECKOUT_FLOW,properties:{step:t,currency:this.state.currency,upsellSource:this.props.upsellSource,entryPoint:this.props.entryPoint,eligibleTeamIds:(0,V.gu)(Object.keys(this.state.eligibleTeamsByTeamId)),prices:(0,V.Jh)(this.props.productPriceBySeatType)},enabled:!this.state.loading},t!==I.X1.Confirmation&&r.createElement("div",{className:E.s.sticky.top0.zIndexTopBar.selectNone.$},r.createElement(B,{currentStep:this.props.step,setStep:this.setStep,canSeeTeamAndSeatSelectionSteps:this.canSeeTeamAndSeatSelectionSteps(),onFileBrowserClick:this.onFileBrowserClick,newTeamProps:this.props.newTeamProps,onSelectTeamUpgradeStep:e=>{this.props.dispatch(Z.$T({teamId:null,...this.props.newTeamProps?.previousView,view:"teamUpgrade",paymentStep:e,teamFlowType:this.props.newTeamProps?.teamFlowType||M.SC.CREATE_AND_UPGRADE}))},isCampfireCart:!0})),r.createElement("div",{className:E.s.selectNone.$,style:x.sx.mxAuto.add({padding:"48px",maxWidth:"1400px"}).$},r.createElement(eD,{step:t}),e))}}function eM(e){let t=(0,l.wA)(),a=(0,l.d4)(e=>e.user),s=(0,l.d4)(e=>(0,ed.x9)(e.orgUsersByOrgId,e.user.id).some(e=>e.permission===ec._D.ADMIN)),i=(0,et.Mh)(),o=(0,l.d4)(e=>e.payment).currency||(0,em.LN)();(0,m.h)(()=>{let e=document.createElement("div");return e.style.position="fixed",e.style.inset="0",e.style.background="var(--color-bg-secondary)",e.style.zIndex="-1",document.body.appendChild(e),()=>{document.body.removeChild(e)}});let c=(0,ea.jv)({billableProductKeys:es.N_,baseQuery:{currency:o,tier:k.Ju.ORG,renewalTerm:k.IX.YEAR,unit:k.IX.YEAR}}),[_]=(0,d.mI)(c);if("loaded"!==_.status)return r.createElement(en.K,null);let u=_.data;return r.createElement(p.tH,{team:n.e.MONETIZATION_UPGRADES,boundaryKey:"OrgSelfServeBillingRemodelPage",fallback:p.H4.DEFAULT_FULL_PAGE,hasCustomWASMBuild:eo.y4},r.createElement(eP,{...e,dispatch:t,user:a,isOrgAdmin:s,canSeeBillingAddressExp:i,productPriceBySeatType:u,currency:o}))}function eD({step:e}){let t=function(e){switch(e){case I.X1.TeamSelect:return(0,y.t)("checkout.org_self_serve.select_teams_title");case I.X1.SeatSelect:return(0,y.t)("checkout.org_self_serve.select_seats_header");case I.X1.Payment:return(0,y.t)("checkout.enter_your_payment_details");case I.X1.Review:return(0,y.t)("checkout.everything_look_good");default:return null}}(e),a=function(e){let t=r.createElement(v.Ph,{href:"/pricing",trackingProperties:{trackingDescriptor:F.c.LEARN_MORE_ABOUT_SEATS},newTab:!0,trusted:!0},(0,y.tx)("checkout.learn_more_about_seats"));switch(e){case I.X1.TeamSelect:return(0,y.t)("checkout.org_self_serve.select_teams_subtitle");case I.X1.SeatSelect:return(0,y.tx)("checkout.select_seats_table.seat_types_have_been_suggested",{learnMoreAboutSeatsLink:t});case I.X1.Review:return(0,y.t)("checkout.confirm_your_plan_seats_and_payment_details_then_you_re_all_set");default:return null}}(e);return t?r.createElement("div",{className:E.s.mb32.$,"data-testid":"cart-org-header"},r.createElement("h2",{className:E.s.font15.lh24.fontMedium.$},t),a&&r.createElement("p",{className:E.s.colorTextSecondary.font13.mt8.$},a),(0,Y.UR)()&&r.createElement(K.W,{billingPeriod:P.tY.ANNUAL,isCampfireCart:!0})):null}eP.displayName="OrgSelfServePage"},267098:(e,t,a)=>{a.d(t,{wW:()=>F,VE:()=>j,LJ:()=>G});var r=a(848318),l=a(301168),s=a(19180),n=a(682524),i=a(772172),o=a(214014),c=a(133318),m=a(264478),d=a(755534),_=a(720522),u=a(297638),p=a(967688),g=a(744577),h=a(925085),E=a(499915),f=a(87463),v=a(593355),y=a(31898),S=a(446244),x=a(863270),T=a(353231),N=a(594950),b=a(501104),C=a(859172),w=a(834612),A=a(17753),k=a(446951),I=a(125952),P=a(541731),M=a(890257),D=a(414607);let R=(0,a(244052).ex)("org_upgrade_user_info_extended",function({teamIds:e,teamNames:t}){return r.createElement("div",null,e.map((e,a)=>{let l=(0,P.$L)(e,P.us);return r.createElement("div",{key:e,className:"org_self_serve_modal_tooltip_content--tooltipRow--CyDdQ"},r.createElement("div",{style:g.sx.add({backgroundColor:l,minWidth:"10px",height:"10px",margin:"8px",borderRadius:"2px"}).$}),r.createElement("div",null,t[a]))}))},e=>{let t=e.getAttribute("data-tooltip-team-names"),a=e.getAttribute("data-tooltip-team-ids");return{teamNames:t.split(","),teamIds:a.split(",")}}),B="org_self_serve_modals--modalContainer--dX-kq",O="org_self_serve_modals--modalWrapperSmall--A6JUB org_self_serve_modals--modalWrapper--swqMp",L="org_self_serve_modals--modalHeader--nTa0e",$="org_self_serve_modals--modalText--VYdf5";var V=a(433566),U=a(927263);function z(e){return r.createElement("div",{style:{height:e.height||12}})}function j(e){return r.createElement(M.XV,{containerClassName:B,headerSize:"hidden",isCloseHidden:!0,title:"",minWidth:349,maxWidth:349},r.createElement("div",{className:O},r.createElement("div",{className:L},(0,p.tx)("org_self_serve.modals.invalid_email.figma_organization_only_allows_work_emails")),r.createElement("div",{className:$},(0,p.tx)("org_self_serve.modals.invalid_email.change_email_address_to_proceed")),r.createElement(z,{height:12}),r.createElement("a",{onClick:e.onFileBrowserClick},(0,p.tx)("org_self_serve.modals.invalid_email.go_to_the_file_browser"))))}function F(e){return r.createElement(M.XV,{containerClassName:B,headerSize:"hidden",isCloseHidden:!0,title:"",minWidth:349,maxWidth:349},r.createElement("div",{className:O},r.createElement("div",{className:L},(0,p.tx)("org_self_serve.modals.existing_org_admin.figma_organization_already_purchased")),r.createElement("div",{className:$},(0,p.tx)("org_self_serve.modals.existing_org_admin.if_you_need_another_organization",{contactSales:r.createElement("a",{onClick:e.onContactSales},(0,p.tx)("org_self_serve.modals.existing_org_admin.contact_sales"))})),r.createElement(z,{height:4}),r.createElement(z,{height:12}),r.createElement("a",{onClick:e.onFileBrowserClick},(0,p.tx)("org_self_serve.modals.existing_org_admin.go_to_the_file_browser"))))}function G(e){return r.createElement(M.XV,{containerClassName:B,headerSize:"hidden",onClose:e.onClose,title:"",minWidth:580,maxWidth:580,dataTestId:"true-up-edu-modal"},r.createElement("div",{className:"org_self_serve_modals--modalWrapper--swqMp"},r.createElement(_.B,{className:"org_self_serve_modals--modalClose--XbMl2",svg:U.A,onClick:e.onClose}),r.createElement("div",{className:L},(0,p.tx)("org_self_serve.modals.true_up_edu.figma_grows_with_your_team")),r.createElement("div",{className:$},(0,p.tx)("org_self_serve.modals.true_up_edu.members_can_add_new_editors.seat_rename")),r.createElement(z,{height:8}),r.createElement("div",{className:"org_self_serve_modals--modalSubHeader--FtC-9"},(0,p.tx)("org_self_serve.modals.true_up_edu.what_to_expect_at_true_up")),r.createElement("div",{className:$},(0,p.tx)("org_self_serve.modals.true_up_edu.true_up_explanation.seat_rename",{seeFullDetails:r.createElement("a",{href:"https://help.figma.com/hc/articles/360040328293",target:"_blank"},(0,p.tx)("org_self_serve.modals.true_up_edu.see_full_details"))}))))}(0,k.Ju)(function(e){let t=e.isProTeam?b.Oq.exclude([N.ud.DEV_MODE]):b.Oq,[a,l]=(0,r.useState)(t.dict(t=>e.seatDataByLicenseType[t]?.currentSeats||0)),[o,c]=(0,r.useState)(null),m=e=>{let t=a[e];void 0!==t&&t<99&&l({...a,[e]:t+1})},d=t=>{let r=e.seatDataByLicenseType[t],s=a[t];null!=r&&null!=s&&s>r.minSeats&&l({...a,[t]:s-1})},u=(e,t)=>{if(""===e.target.value){t(0);return}let a=parseInt(e.target.value);isNaN(a)||t(a)},g=new w.vr(e.currency),h=a[N.ud.FIGJAM],E={[N.ud.DESIGN]:{headerString:(0,p.t)("all_carts.figma_design_editors.seat_rename"),totalSeatCount:a[N.ud.DESIGN],shouldShowDevModeIncludedText:!0},[N.ud.FIGJAM]:{headerString:(0,p.t)("all_carts.figjam_editors.seat_rename"),totalSeatCount:h,shouldShowDevModeIncludedText:!1},[N.ud.DEV_MODE]:{headerString:(0,p.t)("all_carts.dev_mode_only_seats"),totalSeatCount:a[N.ud.DEV_MODE]??0,shouldShowDevModeIncludedText:!1}};return r.createElement(M.Eo,{onSubmit:()=>{let r=!1;if(t.forEach(t=>{let l=a[t],s=e.seatDataByLicenseType[t]?.minSeats||0;void 0!==l&&!1===r&&(l<s||l>99)&&(c(t),r=!0)}),r)return;let l=t.reduce((e,t)=>e+(a[t]||0),0);e.minTotalSeats&&l<e.minTotalSeats?c("total"):(e.dispatch(y.Ce()),e.updateAdditionalSeats(a))},confirmText:(0,p.t)("all_carts.save"),cancelText:(0,p.t)("all_carts.cancel"),title:(0,p.t)("all_carts.add_additional_editors.seat_rename")},r.createElement("div",{className:"org_self_serve_modals--bannerContainer--ly-u-"},o&&r.createElement("div",{className:"org_self_serve_modals--errorBanner--EeUdZ"},r.createElement(_.B,{className:"org_self_serve_modals--errorSvg--h8gsO",svg:V.A}),r.createElement("div",{className:"org_self_serve_modals--errorBannerText--srvT- org_self_serve_modals--headerModalText--h0Go9"},o===N.ud.DESIGN&&(0,p.tx)("all_carts.you_need_a_minimum_n_design_editors.seat_rename",{minSeatsCount:e.seatDataByLicenseType[N.ud.DESIGN].minSeats}),o===N.ud.FIGJAM&&(0,p.tx)("all_carts.you_need_a_minimum_n_whiteboard_editors.seat_rename",{minSeatsCount:e.seatDataByLicenseType[N.ud.FIGJAM].minSeats}),o===N.ud.DEV_MODE&&(0,p.tx)("all_carts.you_need_a_minimum_n_dev_mode_seats",{minSeatsCount:e.seatDataByLicenseType[N.ud.DEV_MODE]?.minSeats||0}),"total"===o&&!!e.minTotalSeats&&((0,s.k)().org_checkout_min_seat_info_copy?(0,p.tx)("all_carts.minimum_seats",{minTotalSeats:e.minTotalSeats,minDesignSeats:e.seatDataByLicenseType[N.ud.DESIGN].minSeats,seatsText:(0,p.tx)("checkout.seats_text",{numOfSeats:e.minTotalSeats}),designSeatsText:(0,p.tx)("checkout.seats_text",{numOfSeats:e.seatDataByLicenseType[N.ud.DESIGN].minSeats})}):(0,p.tx)("all_carts.you_need_a_minimum_n_editors.seat_rename",{minSeatsCount:e.minTotalSeats}))))),t.sort(C.AG).map(t=>{let s=E[t],o=e.seatDataByLicenseType[t],c=a[t];return void 0===s||void 0===o||void 0===c?r.createElement(r.Fragment,null):r.createElement("div",{key:t},r.createElement(z,{height:16}),r.createElement("div",{className:"org_self_serve_modals--headerModalBoldText--uhAfp org_self_serve_modals--headerModalText--h0Go9"},s.headerString),s.shouldShowDevModeIncludedText&&r.createElement(r.Fragment,null,r.createElement(z,{height:4}),r.createElement(n.G,null)),r.createElement(z,{height:12}),r.createElement(i.s,{"data-testid":t+"-seat_counter",billableProductKey:(0,C.Zx)(t),incrementSeats:()=>m(t),decrementSeats:()=>d(t),numSeats:c,minSeatsCount:o.minSeats,headerText:g.formatMoney(s.totalSeatCount*o.seatUnitCostInCents*(e.showAnnualPrice?12:1)),headerSubText:(0,v.mx)(e.showAnnualPrice,s.totalSeatCount,!0,o.seatUnitCostInCents,e.currency),updateAdditionalSeatsText:e=>u(e,e=>{l({...a,[t]:e})})}))}),r.createElement(z,{height:18}),r.createElement("div",{className:"org_self_serve_modals--divider--cY9-m"}))},"AdditionalEditorsModal");var H=(e=>(e[e.NONE=0]="NONE",e[e.DESIGN=1]="DESIGN",e[e.WHITEBOARD=2]="WHITEBOARD",e[e.TOTAL=3]="TOTAL",e))(H||{});function X({userData:e,checkboxHandler:t}){let[a,s]=(0,r.useState)(0),n=(0,l.wA)(),i=({rect:e,designChecked:r,...l})=>{if(t(l),l.newVal&&a<3){s(e=>e+1);let t=r?(0,p.t)("checkout.switch_seat_from_design_to_devmode"):(0,p.t)("checkout.enabled_devmode");n(S.eB({target:{kind:A.Ui.TEXT,text:t},targetRect:{top:e.top,right:e.right+8,bottom:e.bottom,left:e.left+8,width:e.width,height:e.height},textAlign:"left",position:A.Zj.RIGHT,hideAfterDelay:1e3}))}};return r.createElement(r.Fragment,null,e.map((a,l)=>r.createElement("div",{"data-testid":"user-data-row",key:a.user.id},r.createElement(W,{rowType:"data"},r.createElement(I.az,{entity:a.user,includeUserEmailAddress:!0,size:24}),r.createElement(Y,{userInfo:a}),r.createElement(E.S,{checked:a.designEditor,onChange:e=>{t({userId:a.user.id,type:"designEditor",newVal:e.currentTarget.checked})}}),r.createElement(m.tB,{checked:a.devMode,className:"org_self_serve_modals--devModeCheckbox--M-CsB",onChange:e=>{i({designChecked:a.designEditor,userId:a.user.id,type:"devMode",newVal:e.currentTarget.checked,rect:e.currentTarget.getBoundingClientRect()})}}),r.createElement(m.tB,{checked:a.figjamEditor,className:"org_self_serve_modals--figjamCheckbox---FJmg",onChange:e=>{t({userId:a.user.id,type:"figjamEditor",newVal:e.currentTarget.checked})}})),l!==e.length-1&&r.createElement(J,null))))}function W({rowType:e,children:t}){let a="footer"===e?["55%","15%","15%","15%"]:["35%","20%","15%","15%","15%"];return r.createElement(h.Y,{dataTestId:"seat-table-row",verticalAlignItems:"center",horizontalAlignItems:"start",padding:{top:"data"===e?14:16,right:16,bottom:"data"===e?14:16,left:16},backgroundColor:"header"===e?"hover":"default",spacing:0},t.map((e,t)=>r.createElement(h.Y,{key:t,width:a[t],horizontalAlignItems:"start",verticalAlignItems:"center",padding:{right:16}},e)))}function J(){return r.createElement("div",{className:u.s.wFull.colorBgTertiary.h1.$})}function K({teamId:e}){return r.createElement("div",{className:u.s.w8.h8.bRadius2.minW8.$,style:g.sx.add({backgroundColor:(0,P.$L)(e,P.us)}).$})}function Y({userInfo:e}){return e.teams.length>1?r.createElement("div",{"data-tooltip-show-immediately":!0,"data-tooltip-type":A.Ib.SPECIAL,"data-tooltip":R,"data-tooltip-team-names":e.teams.map(e=>e.name).join(","),"data-tooltip-team-ids":e.teams.map(e=>e.id).join(","),"data-tooltip-show-right":!0,"data-tooltip-light-mode":!0},r.createElement(f.E,{color:"default"},(0,p.tx)("all_carts.editor_table.multiple_teams"))):r.createElement(h.Y,{spacing:8,verticalAlignItems:"center",horizontalAlignItems:"start"},r.createElement(K,{teamId:e.teamIds[0]}),r.createElement("div",{className:u.s.noWrap.ellipsis.overflowHidden.$},r.createElement(f.E,{color:"default"},e.teams[0]?.name)))}(0,k.Ju)(function({users:e,updateSelectedEditors:t,updateAdditionalEmptySeats:a,currency:l,minTotalSeats:s,dispatch:n,seatInfo:_,monthlyPriceByProduct:u}){let[g,E]=(0,r.useState)(e),[v,S]=(0,r.useState)({design:_.design.additionalSeatCount,figjam:_.figjam.additionalSeatCount,dev_mode:_.dev_mode.additionalSeatCount}),b=(0,r.useMemo)(()=>{let e=0,t=0,a=0;for(let r of Object.values(g))r.designEditor&&e++,r.devMode&&a++,r.figjamEditor&&t++;return(e+=v.design,a+=v.dev_mode,t+=v.figjam,s&&e+t+a<s)?3:e<_.design.minCount||e>99?1:t<_.figjam.minCount||t>99?2:0},[v,g,s,_]),C=e=>{v[e]>=99||S(t=>({...t,[e]:t[e]+1}))},A=e=>{v[e]<=0||S(t=>({...t,[e]:t[e]-1}))},k=(e,t)=>{let a=""===e.target.value?0:parseInt(e.target.value);isNaN(a)||S(e=>({...e,[t]:a}))},I=new w.vr(l),P=()=>{n(y.Ce())};return r.createElement(x.fu,{name:"Select Editors Modal"},r.createElement(D.Nb,{size:864,maxHeight:672,hide:()=>n(y.Ce()),className:"org_self_serve_modals--selectEditorsModal--D0yWS"},r.createElement("div",{className:"org_self_serve_modals--selectEditorModalHeader--wPo15 org_self_serve_modals--headerModalText--h0Go9"},(0,p.tx)("checkout.add_or_remove_editors"),r.createElement(c.s_,{customStyle:{position:"initial"},dispatch:n,onClose:P})),r.createElement(J,null),r.createElement(W,{rowType:"header"},r.createElement(f.E,{color:"default",fontWeight:"medium"},(0,p.tx)("all_carts.editor_table.Name")),r.createElement(f.E,{color:"default",fontWeight:"medium"},(0,p.tx)("all_carts.editor_table.Teams")),r.createElement(h.Y,{direction:"vertical",spacing:0,horizontalAlignItems:"start",verticalAlignItems:"center"},r.createElement(f.E,{color:"default",fontWeight:"medium"},(0,p.tx)("general.figma_design")),r.createElement("div",null,r.createElement(f.E,{color:"handoff",fontWeight:"medium"},(0,p.tx)("general.dev_mode")),"\xa0",r.createElement(f.E,{color:"default",fontWeight:"medium"},(0,p.tx)("checkout.dev_mode_included_text_formatted.included")))),r.createElement(f.E,{color:"default",fontWeight:"medium"},(0,p.tx)("general.dev_mode")),r.createElement(f.E,{color:"default",fontWeight:"medium"},(0,p.tx)("general.figjam"))),r.createElement(J,null),r.createElement(d.P,{maxHeight:426},r.createElement(X,{userData:Object.values(g),checkboxHandler:({userId:e,type:t,newVal:a})=>{let r={...g[e],[t]:a};"devMode"===t&&a&&(r.designEditor=!1),"designEditor"===t&&a&&(r.devMode=!1),E(t=>({...t,[e]:r})),(0,T.Cu)({name:"org_checkout_select_editors_checkbox",licenseType:t,checked:a})}})),r.createElement(J,null),r.createElement(W,{rowType:"footer"},r.createElement(h.Y,{spacing:0,direction:"vertical",horizontalAlignItems:"start",verticalAlignItems:"center"},r.createElement(f.E,{color:"default",fontWeight:"medium"},(0,p.tx)("all_carts.add_additional_editors.seat_rename")),r.createElement(f.E,{fontWeight:"regular",color:"secondary"},(0,p.tx)("all_carts.add_additional_editors_description.seat_rename"))),r.createElement(i.s,{billableProductKey:N.ud.DESIGN,incrementSeats:()=>C(N.ud.DESIGN),decrementSeats:()=>A(N.ud.DESIGN),numSeats:v.design,minSeatsCount:0,headerText:"",headerSubText:"",updateAdditionalSeatsText:e=>k(e,N.ud.DESIGN)}),r.createElement(i.s,{billableProductKey:N.ud.DEV_MODE,incrementSeats:()=>C(N.ud.DEV_MODE),decrementSeats:()=>A(N.ud.DEV_MODE),numSeats:v.dev_mode,minSeatsCount:0,headerText:"",headerSubText:"",updateAdditionalSeatsText:e=>k(e,N.ud.DEV_MODE)}),r.createElement(i.s,{billableProductKey:N.ud.FIGJAM,incrementSeats:()=>C(N.ud.FIGJAM),decrementSeats:()=>A(N.ud.FIGJAM),numSeats:v.figjam,minSeatsCount:0,headerText:"",headerSubText:"",updateAdditionalSeatsText:e=>k(e,N.ud.FIGJAM)})),r.createElement("div",{className:"org_self_serve_modals--selectEditorModalActions--ng3b0 org_self_serve_modals--selectEditorModalFooter--8vKi7"},0!==b?(()=>{switch(b){case 0:default:return;case 1:return r.createElement(f.E,{color:"danger"},(0,p.tx)("all_carts.you_need_a_minimum_n_design_editors.seat_rename",{minSeatsCount:_.design.minCount}));case 2:return r.createElement(f.E,{color:"danger"},(0,p.tx)("all_carts.you_need_a_minimum_n_whiteboard_editors.seat_rename",{minSeatsCount:_.figjam.minCount}));case 3:return r.createElement(f.E,{color:"danger"},(0,p.tx)("org_self_serve.purchase_summary.the_organization_plan_requires_at_least_count_editor_seats.seat_rename",{minCount:s}))}})():r.createElement(f.E,{fontWeight:"regular",color:"secondary"},(0,p.tx)("all_carts.new_total",{total:I.formatMoney(function(e,t,a){let r=t.design,l=t.figjam,s=t.dev_mode;for(let t in e)e[t].designEditor?r++:e[t].devMode&&s++,e[t].figjamEditor&&l++;return r*a[N.ud.DESIGN]*12+l*a[N.ud.FIGJAM]*12+s*a[N.ud.DEV_MODE]*12}(g,v,u),{showCents:!0})})),r.createElement("div",{className:"org_self_serve_modals--buttonGroup--U5iQn"},r.createElement(o.nR,{onClick:P},(0,p.t)("general.cancel")),r.createElement(m.$$,{onClick:()=>{0===b&&(a(v),t(g),n(y.Ce()))},disabled:0!==b},(0,p.t)("checkout.update_seats"))))))},"SelectEditorsModal")},631329:(e,t,a)=>{a.d(t,{W:()=>p,_:()=>g});var r=a(848318),l=a(536384),s=a.n(l),n=a(264478),i=a(345964),o=a(720522),c=a(967688),m=a(834612),d=a(763339);if(443==a.j)var _=a(933949);function u(e){return r.createElement("div",{style:{height:e.height||12}})}function p(){return r.createElement("span",null,(0,c.tx)("org_self_serve.review_step.i_agree_to_msa_and_renewal_links",{msaLink:r.createElement(n.CY,{href:"/ssa",target:"_blank",trusted:!0},(0,c.tx)("org_self_serve.review_step.software_services_agreement")),renewalLink:r.createElement(n.CY,{href:(0,c.dS)("/renewal-and-cancellation"),target:"_blank",trusted:!0},(0,c.tx)("org_self_serve.review_step.renewal_and_cancellation_terms"))}))}function g(e){let t=new m.vr(e.currency);return r.createElement("div",{className:d.jg},r.createElement("div",{className:s()(d.M7,d.Et)},r.createElement("div",{className:d.cc},r.createElement(o.B,{svg:_.A,className:d.O2,useOriginalSrcFills_DEPRECATED:!0,autosize:!0,width:"32px",height:"32px"}),r.createElement("div",{className:d.W},(0,c.tx)("org_self_serve.confirmation_step.you_re_all_set"))),r.createElement("div",{className:d.Jo},r.createElement("div",{className:d.Qv},(0,c.tx)("org_self_serve.confirmation_step.order_confirmation_message")),r.createElement(u,{height:24}),r.createElement("div",{className:d.aK}),r.createElement(u,{height:24}),r.createElement("div",{className:d.N5},r.createElement("div",{className:d.I1},(0,c.tx)("org_self_serve.confirmation_step.total_amount_to_be_charged_to_card_ending_in_last4",{last4:e.orgPayment.last4}),r.createElement("span",{className:d.iv},t.formatMoney(e.totalCents,{showCents:!1}))),r.createElement(u,{height:24}),r.createElement("div",{className:d.aK}),r.createElement(u,{height:32}),r.createElement("div",{className:d.Ed},!e.orgMigrated&&r.createElement(r.Fragment,null,r.createElement(i.kt,null),r.createElement("div",{className:d.nm},(0,c.tx)("org_self_serve.confirmation_step.we_re_setting_up_your_organization"))),r.createElement(n.$$,{disabled:!e.orgMigrated,className:d.Xq,onClick:e.onFileBrowserClick,dataTestId:"go-to-file-browser-button"},(0,c.tx)("org_self_serve.confirmation_step.go_to_the_file_browser")))))))}},520722:(e,t,a)=>{a.r(t),a.d(t,{PromoReviewPage:()=>h});var r=a(848318),l=a(301168),s=a(586588),n=a(645719),i=a(50429),o=a(967688),c=a(160690),m=a(453370),d=a(679617),_=a(918254),u=a(863270),p=a(834612),g=a(241343);function h(e){let{selectedView:t,promo:a}=e,h=(0,l.wA)(),E=(0,g.Ud)({teamId:t.teamId}),f=()=>{(0,s._H)(),h(d.Ay({promo:null})),h(m.$T(e.selectedView.previousView||{view:"team",teamId:t.teamId}))},v=()=>{h(_.S_({teamId:t.teamId,teamName:t.teamName,promoCode:a?.code||"",onSuccess:f,onError:f}))};return a?r.createElement(u.fu,{name:"Redeem Promo Code > Confirm",properties:{teamId:t.teamId}},r.createElement("div",{className:"promo_modals--promoReviewInner--O81Uu"},r.createElement("div",{className:"promo_modals--cancelRow--Zrs8S"},r.createElement("button",{type:"button",className:"promo_modals--cancelButton--ho2Ks text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:f},(0,o.tx)("promo.promo_review.cancel"))),r.createElement("div",{className:"promo_modals--promoReviewTitle--fatmf text--fontPos20--Bcz97 text--_fontBase--QdLsd"},(0,o.tx)("promo.promo_review.redeem_your_days_of_free_professional_plan",{days:a.promo_value})),r.createElement("div",{className:"promo_modals--promoReviewDescription--uLn0D text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,o.tx)("promo.promo_review.any_additional_editors_invited_to_selected_view_team_name_will_also_be_free_of_charge_for_the_next_days.seat_rename",{teamName:t.teamName,days:a.promo_value})),r.createElement("div",null,r.createElement(i.x,{isLoading:E},()=>r.createElement(n.o,null,r.createElement(c.d,{selectedView:t,onClickConfirm:v,currency:(0,p.LN)(),canSeeBillingAddressExp:!1})))))):(f(),null)}},653764:(e,t,a)=>{a.d(t,{x:()=>n});var r=a(848318),l=a(297638),s=a(744577);function n({title:e,children:t,dataTestId:a}){return r.createElement("div",{style:s.sx.p24.colorBg.add({borderRadius:"13px",height:"fit-content"}).$,"data-testid":a},e&&r.createElement("h3",{className:l.s.mb16.fontMedium.font15.$},e),t)}},31573:(e,t,a)=>{if(a.d(t,{N9:()=>o,Vh:()=>n,kV:()=>i,up:()=>c}),443==a.j)var r=a(871043);var l=a(501104),s=a(834612);function n(e,t){let a=0;return l.N_.forEach(l=>{(0,r.Vq)(t[l])&&(a+=Math.round((e[l]||0)*t[l]))}),a}function i(e,t,a){let s=0;return l.N_.forEach(l=>{(0,r.Vq)(t[l])&&(s+=Math.round((e[l]||0)*t[l]*(.01*a)))}),s}function o(e,t,a){return n(e,t)+i(e,t,a)}function c(e,t,a){return new s.vr(t).formatMoney(e,a)}},331791:(e,t,a)=>{a.d(t,{j:()=>D});var r=a(848318),l=a(744577),s=a(264478),n=a(297638),i=a(967688),o=a(957872),c=a(912534),m=a(872240),d=a(653764);function _(e){let t=e.shippingAddress&&!(0,m.$V)(e.shippingAddress);return r.createElement(d.x,{title:(0,i.t)("checkout.cart_plan_details.subtitle"),dataTestId:"cart-plan-details"},r.createElement(u,{header:e.tier===c.Ju.ORG?(0,i.t)("checkout.cart_plan_details.organization_name"):(0,i.t)("checkout.cart_plan_details.team_name"),value:e.displayName,dataTestId:"cart-plan-details-plan-name"}),e.legalName&&r.createElement(u,{header:(0,i.t)("checkout.cart_plan_details.legal_name"),value:e.legalName,dataTestId:"cart-plan-details-legal-name"}),r.createElement(u,{header:(0,i.t)("checkout.cart_plan_details.invoice_email"),value:e.userEmail,dataTestId:"cart-plan-details-invoice-email"}),e.billingAddress&&r.createElement(u,{header:(0,i.t)("checkout.cart_plan_details.billing_address"),value:p(e.billingAddress),dataTestId:"cart-plan-details-billing-address"}),t&&r.createElement(u,{header:(0,i.t)("checkout.cart_plan_details.shipping_address"),value:p(e.shippingAddress),dataTestId:"cart-plan-details-shipping-address"}),r.createElement(s.Ph,{onClick:e.navigateToEditDetails,className:n.s.font13.py12.$,trackingProperties:{trackingDescriptor:o.c.EDIT_PLAN_DETAILS},"data-testid":"cart-plan-details-edit-details",trusted:!0},(0,i.tx)("checkout.cart_plan_details.edit_details")))}function u({header:e,value:t,dataTestId:a}){return r.createElement("div",{className:n.s.flex.flexColumn.py16.bb1.bSolid.colorBorder.itemsStart.$,"data-testid":a},r.createElement("p",{className:n.s.font13.lh24.spacingWide.colorTextSecondary.pb4.$},e),r.createElement("p",{className:n.s.font13.lh24.colorText.breakWord.$},t))}function p(e){return[e?.line1,e?.line2,e?.city,e?.region,e?.country,e?.postal_code].filter(function(e){return e}).join(", ")}var g=a(660376),h=a(271020),E=a(544405),f=a(143823),v=a(400233),y=a(178806),S=a(267098),x=a(631329),T=a(593355),N=a(695920),b=a(265341),C=a(574175);let w=r.createElement(s.Us,{target:"_blank",trusted:!0,href:"/pricing"},(0,i.tx)("checkout.monthly_price"));function A({title:e,countByBillableProductKey:t,billingInterval:a,currency:s,taxPercent:_,isRequestPending:u,tier:p,onSubmit:g,onSubmitTrackingProperties:v}){let[S,N]=r.useState(!1),w=u||!S,A=r.createElement(h.S,{label:r.createElement(E.J,null,r.createElement("span",{className:n.s.font13.$},p===c.Ju.ORG?r.createElement(x.W,null):r.createElement(T.Um,null))),checked:S,onChange:N}),I=r.createElement("div",{className:n.s.flex.justifyCenter.itemsCenter.$,"data-testid":"cart-review-submit-loading"},r.createElement(f.k,null));return r.createElement(d.x,{title:e,dataTestId:"cart-review"},r.createElement("div",{className:n.s.mt16.$},r.createElement(C.O,{countByBillableProductKey:t,billingInterval:a,currency:s,taxPercent:_??0,isCartReviewSummary:!0,tier:p})),r.createElement(k,{tier:p,isAnnual:a===m.NW.YEAR}),r.createElement(b._,null),r.createElement("div",{className:n.s.my24.$,style:l.sx.add({marginLeft:"-10px"}).$,"data-testid":"cart-review-terms-checkbox"},A),r.createElement(y.lR,{onClick:g,disabled:w,htmlAttributes:{"data-testid":"cart-review-submit-button"},trackingProperties:{trackingDescriptor:o.c.COMPLETE_PURCHASE,...v}},u?I:(0,i.tx)("checkout.complete_purchase")))}function k({tier:e,isAnnual:t}){return(0,N.IP)()?r.createElement(I,{tier:e,isAnnual:t}):e===c.Ju.ORG?r.createElement(P,null):null}function I({tier:e,isAnnual:t}){let a=e===c.Ju.ORG?"https://help.figma.com/hc/articles/360040328293-Manage-billing-on-the-Organization-and-Enterprise-plans":"https://help.figma.com/hc/articles/360041061034-Manage-billing-on-the-Professional-plan";return r.createElement("div",{className:n.s.mt24.$,"data-testid":"cart-review-upgrade-information-banner"},r.createElement("div",{className:n.s.py8.px16.colorBgSecondary.bRadius5.flex.flexColumn.gap4.$},r.createElement("p",{className:n.s.textBodyMediumStrong.$},(0,i.tx)("checkout.how_do_new_seat_additions_and_upgrades_work")),r.createElement("p",null,function(e,t){switch(e){case c.Ju.ORG:return(0,i.tx)("checkout.cart_review_upgrade_info_org");case c.Ju.PRO:return t?(0,i.tx)("checkout.cart_review_upgrade_info_pro_annual",{monthlyPriceLink:w}):(0,i.tx)("checkout.cart_review_upgrade_info_pro_monthly");default:(0,g.wc)(e)}}(e,t)),r.createElement(s.Ph,{className:n.s.textBodyMediumStrong.$,style:l.sx.add({height:"16px"}).$,target:"_blank",href:a,trusted:!0},(0,i.tx)("checkout.learn_more"))))}function P(){let[e,t]=r.useState(!1),a=new Date().getMonth(),o=new Date().setMonth(a+3);return r.createElement("div",{className:n.s.mt24.$,"data-testid":"cart-review-org-true-up-banner"},e&&r.createElement(S.LJ,{onClose:()=>t(!1)}),r.createElement("div",{className:n.s.flexColumn.pt4.pb8.px8.colorBgSecondary.bRadius5.$},r.createElement(v.G,null),r.createElement("div",{className:n.s.px8.$},r.createElement("p",{className:n.s.pt4.fontMedium.$},(0,i.tx)("org_self_serve.review_step.next_quarterly_true_up_on_date",{trueUpDate:new Date(o)})),r.createElement("p",{className:n.s.pt4.$},(0,i.tx)("org_self_serve.review_step.what_is_a_true_up")),r.createElement("ul",{style:l.sx.ml16.mt4.add({listStyle:"disc"}).$},r.createElement("li",null,(0,i.tx)("org_self_serve.review_step.true_up_description.seat_rename")),r.createElement("li",null,(0,i.tx)("checkout.org_self_serve.true_up_description2_seat_rename")),r.createElement("li",null,(0,i.tx)("checkout.org_self_serve.true_up_description3_seat_rename")),r.createElement("li",null,(0,i.tx)("checkout.org_self_serve.true_up_description4_seat_rename"))),r.createElement(s.Ph,{className:n.s.pt8.fontMedium.inline.$,onClick:()=>t(!0),trusted:!0},(0,i.tx)("org_self_serve.review_step.learn_more_about_true_ups")))))}var M=a(191265);function D(e){return r.createElement("div",{style:l.sx.grid.add({gridTemplateColumns:"400px 1fr",gap:"48px"}).$,"data-testid":"cart-review-step"},r.createElement(_,{...e}),e.hasUpgradeSucceeded?r.createElement(M.f,null):r.createElement(A,{...e}))}},425884:(e,t,a)=>{a.d(t,{z:()=>N});var r=a(848318),l=a(531788);if(443==a.j)var s=a(143823);if(443==a.j)var n=a(41099);if(443==a.j)var i=a(250838);if(443==a.j)var o=a(544405);var c=a(136126),m=a(297638),d=a(967688),_=a(744577),u=a(495432),p=a(957872),g=a(863270),h=a(511067),E=a(834612),f=a(872240),v=a(653764),y=a(902947),S=a(265341),x=a(574175);let T=(0,g.tf)(l.Pw);function N({title:e,countByBillableProductKey:t,tier:a,billingInterval:l,currency:c,buttonText:g,isButtonDisabled:N,isLoading:C,onClickNext:w,onSwitchCurrency:A,onSwitchBillingInterval:k,footer:I,canEnforcePaidSeatMinimum:P,trackingProperties:M}){let D=!!t,R=(0,E._Z)(),B=(0,h.Um)(),[O,L]=function(e,t,a,l){let[s,n]=r.useState(!1),i=r.useCallback((e,t)=>!!(l&&e&&!(0,y.A$)(e,t)),[l]);r.useEffect(()=>{s&&!i(t,a)&&n(!1)},[t,a,l,s,i]);let o=r.useCallback(r=>{if(!s){if(i(t,a)){n(!0);return}e(r)}},[t,a,s,i,e]);return[s,o]}(w,t,a,P),$=r.createElement("div",{className:m.s.flex.justifyCenter.itemsCenter.$,"data-testid":"cart-sidebar-loading"},r.createElement(s.k,null));return r.createElement(v.x,{title:e,dataTestId:"cart-sidebar"},r.createElement("div",{className:m.s.mt16.$},D?r.createElement(r.Fragment,null,R&&r.createElement("div",{className:m.s.flex.justifyBetween.itemsCenter.pb16.bb1.bSolid.colorBorder.$,"data-testid":"cart-sidebar-currency-switcher"},r.createElement("p",null,(0,d.tx)("checkout.sidebar.currency_label")),r.createElement(u.D,{currency:c,dropdownShown:B,supportedCurrencies:(0,E.B9)(),changeCurrency:e=>{A(e)},shortFormDisplay:!0,paddingOverride:0})),k&&D&&r.createElement("div",{className:m.s.my16.$,style:_.sx.add({marginLeft:"-8px"}).$,"data-testid":"cart-sidebar-billing-interval"},r.createElement(n.b,{legend:r.createElement(i.q,null,(0,d.tx)("checkout.sidebar.switch_your_billing_interval")),value:l,onChange:e=>k(e)},r.createElement(n.c,{value:f.NW.YEAR,label:r.createElement(o.J,{className:m.s.flex.itemsCenter.gap16.$},(0,d.tx)("checkout.sidebar.annual")," ",r.createElement("b",{className:m.s.colorTextSuccess.fontSemiBold.colorBgSuccessTertiary.bRadius2.px4.block.$,style:_.sx.add({fontSize:"10px"}).$},(0,d.tx)("checkout.sidebar.save_up_to_20")))}),r.createElement(n.c,{value:f.NW.MONTH,label:r.createElement(o.J,null,(0,d.tx)("checkout.sidebar.monthly"))}))),r.createElement("div",{className:m.s.pt16.$},r.createElement(x.O,{countByBillableProductKey:t,billingInterval:l,currency:c,isCartReviewSummary:!1,tier:a}),r.createElement(S._,null))):r.createElement("p",{className:m.s.colorTextSecondary.$},(0,d.tx)("checkout.sidebar.cannot_calculate_subtotal"))),r.createElement("div",{style:_.sx.add({marginTop:"80px"}).$},O&&r.createElement(b,null),r.createElement(T,{onClick:L,disabled:N||C,htmlAttributes:{"data-testid":"cart-sidebar-button"},trackingProperties:{trackingDescriptor:p.c.CART_SIDEBAR,...M}},C?$:g),I&&r.createElement("div",{className:m.s.mt16.$,"data-testid":"cart-sidebar-footer"},I)))}function b(){return r.createElement("div",{className:m.s.my8.$,"data-testid":"cart-sidebar-paid-seat-minimum-banner"},r.createElement(c._,{color:c.S.WARNING,text:r.createElement("p",{style:_.sx.lh14.add({fontSize:"9px"}).$},(0,d.tx)("checkout.sidebar.paid_seat_minimum_banner"))}))}},160690:(e,t,a)=>{a.d(t,{d:()=>w});var r=a(848318),l=a(301168),s=a(637640),n=a(264478),i=a(345964),o=a(967688),c=a(499915),m=a(593355),d=a(695920),_=a(740495),u=a(297638),p=a(453370),g=a(31898),h=a(559391),E=a(872240);function f(e){return"org"===e.variant?r.createElement(v,{...e}):r.createElement(y,{...e})}function v(e){let t=e.canSeeBillingAddressExp&&e.billingAddress,a=e.canSeeBillingAddressExp&&e.shippingAddress&&!(0,E.$V)(e.shippingAddress);return r.createElement("div",null,r.createElement(S,{subtitle:(0,o.tx)(e.canSeeBillingAddressExp?"org_self_serve.review_step.details":"org_self_serve.review_step.organization_details")}),r.createElement(x,{header:(0,o.tx)(e.canSeeBillingAddressExp?"org_self_serve.review_step.company_legal_name":"org_self_serve.review_step.company_name"),value:e.legalName}),r.createElement(x,{header:(0,o.tx)(e.canSeeBillingAddressExp?"org_self_serve.review_step.display_name":"org_self_serve.review_step.company_display_name"),value:e.displayName}),!e.canSeeBillingAddressExp&&r.createElement(x,{header:(0,o.tx)("org_self_serve.review_step.domain"),value:e.domain}),!e.canSeeBillingAddressExp&&e.totalTeams>0&&r.createElement(x,{header:(0,o.tx)("org_self_serve.review_step.teams"),value:e.totalTeams.toString()}),e.canSeeBillingAddressExp&&r.createElement(x,{header:(0,o.tx)("org_self_serve.review_step.billing_email"),value:e.userEmail}),e.canSeeBillingAddressExp&&r.createElement(n.Ph,{onClick:e.navigateToEditOrganizationDetails,trackingEventName:"Edit organization details - checkout flow",trusted:!0},(0,o.tx)("org_self_serve.review_step.edit_organization")),t&&r.createElement(x,{header:(0,o.tx)("org_self_serve.review_step.billing_address"),value:T(e.billingAddress)}),a&&r.createElement(x,{header:(0,o.tx)("org_self_serve.review_step.shipping_address"),value:T(e.shippingAddress)}),e.canSeeBillingAddressExp&&r.createElement(n.Ph,{onClick:e.navigateToEditPaymentDetails,trackingEventName:"Edit payment details - checkout flow",trusted:!0},(0,o.tx)("org_self_serve.review_step.edit_payment")))}function y(e){let t=(0,l.wA)(),a=(0,l.d4)(e=>e.selectedView),s=e.canSeeBillingAddressExp&&e.billingAddress,i=e.canSeeBillingAddressExp&&e.shippingAddress&&!(0,E.$V)(e.shippingAddress);return r.createElement("div",null,r.createElement(S,{subtitle:(0,o.tx)("pro_cart.review.details")}),r.createElement(x,{header:(0,o.tx)("pro_cart.review.team_name"),value:e.displayName}),r.createElement(x,{header:(0,o.tx)("pro_cart.review.company_name"),value:e.legalName}),s&&r.createElement(x,{header:(0,o.tx)("pro_cart.review.billing_address"),value:T(e.billingAddress)}),i&&r.createElement(x,{header:(0,o.tx)("pro_cart.review.shipping_address"),value:T(e.shippingAddress)}),r.createElement(n.Ph,{onClick:e.canSeeBillingAddressExp?()=>{t(p.$T({...a,paymentStep:E.tn.PAYMENT_AND_ADDRESS}))}:()=>{t((0,g.to)({type:h.L,data:{modalTitle:(0,o.t)("pro_cart.review.edit_details_modal_header"),displayName:e.displayName,legalName:e.legalName,updateNameImmediately:!1,canSeeBillingAddressExp:e.canSeeBillingAddressExp}}))},trackingEventName:"Edit team details - checkout flow",trusted:!0},(0,o.tx)(e.canSeeBillingAddressExp?"pro_cart.review.edit_details":"pro_cart.review.edit_all_details")))}function S({subtitle:e}){return r.createElement("div",{className:u.s.font15.fontMedium.lh24.colorText.$},e)}function x({header:e,value:t}){return r.createElement("div",{className:u.s.flex.flexColumn.mt16.$},r.createElement("p",{className:u.s.font11.lh16.spacingWide.colorText.$},e),r.createElement("p",{className:u.s.font13.lh24.fontMedium.colorText.breakWord.mb16.$},t))}function T(e){return[e?.line1,e?.line2,e?.city,e?.region,e?.country,e?.postal_code].filter(function(e){return e}).join(", ")}var N=a(126527),b=a(834612),C=a(81441);function w(e){let[t,a]=r.useState(!1),u=new b.vr(e.currency),[p,g]=r.useState(!1),h=(0,l.d4)(e=>e.payment),v=(0,l.d4)(e=>e.payment,(e,t)=>p||e===t),y=(0,l.d4)(t=>e.selectedView.teamId?t.teams[e.selectedView.teamId].name:e.teamName)??"",S=(0,_.Ik)(),x=h.displayName||y,T=h.legalName||y,w=h.billingPeriod===E.tY.STUDENT,A=!!(0,N.p)(e.selectedView,h),k=A||w,I=h.submitPending||!A&&!t,P=(0,d.sx)(),{estimatedDesignCost:M,estimatedWhiteboardCost:D}=(0,N.Q)({currency:e.currency}),R=h.numWhiteboardEditors,B=M(h.numDesignEditors,h.billingPeriod),O=D(R,h.billingPeriod),L=k?0:h.taxes?.total||B+O,$=new URLSearchParams(s.Ay.location.search),V=$.get("onCompleteRedirectFileKey"),U=$.get("onCompleteRedirectNodeId"),{trackingDescriptor:z,buttonText:j,finePrint:F}=(0,m.V8)({isPromo:A,isEducationTeam:w,claimsEndAtDate:h.promo?.claims_end_at}),G=async t=>{t.preventDefault(),await g(!0),e.onClickConfirm()};return r.createElement("div",{className:C.HX},r.createElement("div",{className:C.PT},r.createElement(f,{displayName:x??"",legalName:T??"",canSeeBillingAddressExp:e.canSeeBillingAddressExp,billingAddress:e.billingAddress,shippingAddress:e.shippingAddress,variant:"team"})),r.createElement("div",{className:C.Bo},r.createElement("div",{className:C.TV,"data-testid":"review-step-upgrade-title"},(0,o.tx)(w?"edu.checkout_team_name":S?h.billingPeriod===E.tY.ANNUAL?"pro_cart.review.exp_sticker_shock.upgrade_team_name_to_a_professional_team_yearly":"pro_cart.review.exp_sticker_shock.upgrade_team_name_to_a_professional_team_monthly":"pro_cart.review.upgrade_team_name_to_a_professional_team",{teamName:y})),(!P||!k)&&r.createElement(m.$c,{payment:v,currency:e.currency,isPromo:A,isEducationTeam:w,hasCartStickerShock:S}),r.createElement("div",{className:C.pV}),r.createElement(n.Kz,{multiple:2}),v.taxes&&!!e.billingAddress&&r.createElement(r.Fragment,null,r.createElement(m.Wy,{mainText:(0,o.tx)("pro_cart.info.subtotal"),priceText:u.formatMoney(A?0:v.taxes.sub_total||0,{showCents:!0}),"data-testid":"subtotal-summary"}),r.createElement(n.Kz,{multiple:1.5}),r.createElement(m.Wy,{mainText:(0,o.tx)("pro_cart.review.tax"),priceText:u.formatMoney(v.taxes?.tax_total||0,{showCents:!0}),subText:(0,o.tx)("pro_cart.review.tax_percent",{taxPercent:v.taxes.lines[0]?.tax_percent||0}),"data-testid":"tax-summary"}),r.createElement(n.Kz,{multiple:1.5})),r.createElement(m.Wy,{"data-testid":"confirm-total-summary",mainText:w?(0,o.tx)("pro_cart.review.total"):(0,o.tx)("pro_cart.review.total_due_today"),priceText:u.formatMoney(L,{showCents:!0,showFullFormat:(0,b._Z)()}),subText:A?(0,o.tx)("pro_cart.review.you_will_not_be_charged_during_the_free_period",{days:v.promo.promo_value}):void 0}),r.createElement(n.Kz,{multiple:2}),r.createElement("div",null,F,!A&&r.createElement("div",{className:C.Gn},r.createElement(c.S,{checked:t,onChange:e=>{a(e.currentTarget.checked)}}),r.createElement("p",null," ",r.createElement(m.Um,null)))),r.createElement(n.Kz,{multiple:2.5}),r.createElement(n.Kz,{multiple:2.5}),r.createElement(n.vd,{className:C.fK,onClick:G,trackingProperties:{teamId:e.selectedView.teamId,inPublishDraftExp:!!(U&&V),trackingDescriptor:z},disabled:I,dataTestId:"confirm-purchase-button"},h.submitPending?r.createElement(i.kt,{className:C.S}):j)))}},191265:(e,t,a)=>{a.d(t,{f:()=>o});var r=a(848318);if(443==a.j)var l=a(143823);var s=a(297638),n=a(744577),i=a(653764);function o(){return r.createElement(i.x,{title:null,dataTestId:"loading-cart-card"},r.createElement("div",{className:s.s.flex.flexColumn.itemsCenter.justifyCenter.wFull.$,style:n.sx.add({height:"208px"}).$},r.createElement(l.k,null)))}},265341:(e,t,a)=>{a.d(t,{_:()=>c});var r=a(848318),l=a(297638),s=a(850426),n=a(967688),i=a(695920),o=a(957872);function c(){return(0,i.UR)()?r.createElement("p",{className:l.s.mt8.colorTextSecondary.$},(0,n.tx)("checkout.purchase_summary.price_change.text",{link:r.createElement(s.Ph,{href:"https://help.figma.com/hc/articles/27468498501527#localized-currency",trackingProperties:{trackingDescriptor:o.c.UPDATED_PRICING_FOR_FULL_SEATS},newTab:!0},(0,n.tx)("checkout.purchase_summary.price_change.link"))})):null}},574175:(e,t,a)=>{a.d(t,{O:()=>w});var r=a(848318);if(443==a.j)var l=a(660376);if(443==a.j)var s=a(871043);var n=a(938982);if(443==a.j)var i=a(531901);var o=a(329228),c=a(998568),m=a(297638),d=a(967688),_=a(744577),u=a(87463),p=a(179040),g=a(695920),h=a(863270),E=a(188279),f=a(594950),v=a(501104),y=a(859172),S=a(834612),x=a(912534),T=a(872240),N=a(991675),b=a(31573),C=a(902947);function w({countByBillableProductKey:e,billingInterval:t,currency:a,isCartReviewSummary:l,taxPercent:s,tier:n}){let c=(0,g.UR)(),p=(0,E.jv)({billableProductKeys:v.N_,baseQuery:{currency:a,tier:n,renewalTerm:t,unit:t}}),S=(0,E.jv)({billableProductKeys:v.N_,baseQuery:{currency:a,tier:n,renewalTerm:t,unit:T.NW.MONTH}}),[x,w]=(0,o.mI)(p,S);if(!x.data||!w.data)throw Error("Price data is null");let P=(0,C.s$)(x.data),M=(0,C.s$)(w.data),D=s||0,R=e=>(0,b.up)(e,a,{showCents:l}),B=(0,b.Vh)(e,P),O=(0,b.kV)(e,P,D),L=(0,b.N9)(e,P,D),$=R(B),V=R(O),U=R(L),z=r.createElement(u.E,{fontWeight:"medium",color:"tertiary",fontSize:11},(0,d.tx)("checkout.review_in_tax_disclaimer")),j=t===T.NW.YEAR;return r.createElement(h.fu,{name:N.e0.CART_REVIEW_PURCHASE_SUMMARY,properties:{tier:n,billingInterval:t,countBySeatType:(0,C.gS)(e),currency:a,taxPercent:D,subtotal:B,taxTotal:O,total:L},enabled:l},r.createElement("div",null,r.createElement("div",{style:_.sx.add({marginBottom:"24px"}).$},Object.keys(e).sort(y.AG).map(t=>r.createElement(A,{key:t,billableProductKey:t,count:e[t]||0,currency:a,isAnnual:j,isCartReviewSummary:l,paymentPrices:P,lineItemPrices:M,hasPriceAsterisk:c&&t===f.ud.EXPERT}))),r.createElement("div",{className:m.s.flex.justifyBetween.py4.$,"data-testid":"purchase-summary-subtotal"},r.createElement("h3",{className:m.s.fontMedium.if(l,m.s.font13.lh24).$},(0,d.tx)("checkout.subtotal")),r.createElement("p",{className:m.s.if(l,m.s.font13.lh24).$},I({price:$,isCartReviewSummary:l,isAnnual:j}))),!l&&r.createElement(u.E,{fontWeight:"regular",color:"tertiary",fontSize:11},(0,d.tx)("checkout.tax_disclaimer_revised",{checkoutStep:z})),l&&r.createElement("div",null,r.createElement("div",{className:m.s.flex.justifyBetween.py4.itemsCenter.$,"data-testid":"purchase-summary-taxes"},r.createElement("div",{className:m.s.flexColumn.$},r.createElement("h3",{className:m.s.font13.lh24.$},(0,d.tx)("checkout.purchase_summary.tax")),r.createElement("h3",{className:m.s.colorTextSecondary.font13.lh24.$},(0,d.tx)("pro_cart.review.tax_percent",{taxPercent:D}))),r.createElement("p",{className:m.s.font13.lh24.$},I({price:V,isAnnual:j,isCartReviewSummary:l}))),r.createElement("div",{className:m.s.flex.justifyBetween.py4.$,"data-testid":"purchase-summary-total-due"},r.createElement("h3",{className:m.s.fontMedium.font13.lh24.$},(0,d.tx)("checkout.purchase_summary.total_due_today")),r.createElement("p",{className:m.s.font13.lh24.$},I({price:U,isAnnual:j,isCartReviewSummary:l}))),r.createElement("div",{"data-testid":"purchase-summary-plan-renewal"},r.createElement("p",{className:m.s.font13.lh24.flex.$},r.createElement(i.w,{className:m.s.minW24.$}),r.createElement(k,{tier:n,isAnnual:j}))))))}function A({billableProductKey:e,count:t,currency:a,isAnnual:l,isCartReviewSummary:i,paymentPrices:o,lineItemPrices:_,hasPriceAsterisk:u}){if(!(0,f.dA)(e))return(0,c.$D)(n.e.MONETIZATION_UPGRADES,Error(`Received invalid billable product key ${e}`)),null;let g=o[e];if((0,s.uy)(g))return(0,c.$D)(n.e.BILLING_EXPERIENCE,Error(`Received null payment price on purchase summaryfor ${e}`)),null;let h=_[e];if((0,s.uy)(h))return(0,c.$D)(n.e.BILLING_EXPERIENCE,Error(`Received null line item price on purchase summary for ${e}`)),null;let E=new S.vr(a),v=E.formatMoney(g*t,{showCents:i}),y=m.s.font13.lh24,x=(0,d.t)("checkout.price_per_month",{price:E.formatMoney(h)});return r.createElement("div",{"data-testid":`purchase-summary-${e}-row`,className:m.s.flex.justifyBetween.py8.bb1.bSolid.colorBorder.if(i,m.s.itemsCenter,m.s.itemsStart).$},r.createElement("div",null,r.createElement("h3",{className:m.s.if(i,y).$},(0,d.tx)("checkout.purchase_summary.cart_line_item",{quantity:t,productLabel:(0,p.tI)(e)})),r.createElement("p",{className:m.s.colorTextSecondary.if(i,y).$},(0,d.tx)(l?"checkout.product_cost_breakdown_annually":"checkout.product_cost_breakdown_monthly",{price:x,quantity:t}))),r.createElement("p",{className:m.s.if(i,y).$},I({price:v,isCartReviewSummary:i,isAnnual:l,hasPriceAsterisk:u})))}function k({tier:e,isAnnual:t}){switch(e){case x.Ju.ORG:return(0,d.tx)("checkout.purchase_summary.plan_renewal_org");case x.Ju.PRO:return t?(0,d.tx)("checkout.purchase_summary.plan_renewal_pro_annual"):(0,d.tx)("checkout.purchase_summary.plan_renewal_pro_monthly");default:(0,l.wc)(e)}}function I({price:e,isAnnual:t,isCartReviewSummary:a,hasPriceAsterisk:r}){let l=a?e:t?(0,d.t)("checkout.price_per_year",{price:e}):(0,d.t)("checkout.price_per_month",{price:e});return r?(0,d.t)("checkout.purchase_summary.asterisked_price",{price:l}):l}},647045:(e,t,a)=>{a.d(t,{T:()=>W});var r=a(848318),l=a(430385),s=a(658029),n=a(281314),i=a(42791),o=a(989232),c=a(755534),m=a(297638),d=a(967688),_=a(740495),u=a(863270),p=a(912534),g=a(991675),h=a(301168),E=a(871043),f=a(162796),v=a(309488),y=a(93275),S=a(531788),x=a(361765),T=a(772172),N=a(925085),b=a(31898),C=a(859172),w=a(446951),A=a(902947);let k=(0,w.Ju)(function(e){let{seatTypes:t,additionalSeatCounts:a,setAdditionalSeats:l,open:s,onClose:n}=e,i=f.hS({open:s,onClose:n}),[c,_]=(0,r.useState)(a),u=e=>t=>{_((0,A.$$)(c,t,e))},p=u(1),g=u(-1),h=r.useCallback(e=>t=>_((0,A.$$)(c,e,t-(c[e]||0))),[c]);return r.createElement(v.bL,{manager:i,width:264,htmlAttributes:{"data-testid":"additional-seats--modal"}},r.createElement(y.vo,null,r.createElement(y.Y9,null,r.createElement(y.hE,null,(0,d.tx)("checkout.additional_seats.add_or_remove_unassigned_seats"))),r.createElement(y.nB,null,r.createElement("div",{className:m.s.pt8.pb24.colorTextSecondary.$},r.createElement("p",null,(0,d.tx)("checkout.additional_seats.pre_purchase_seats_for_your_team_to_help_you_budget_and_save_time_later_on"))),r.createElement(N.Y,{direction:"vertical",spacing:16,padding:{bottom:16}},Object.keys(c).sort(C.AG).map(e=>(0,E.uy)(t[e])||(0,E.uy)(c[e])?null:r.createElement("div",{key:e,"data-testid":`additional-seats--${e}`},r.createElement(T.s,{billableProductKey:e,numSeats:c[e],minSeatsCount:0,headerText:(0,d.t)("checkout.additional_seats.seat_label",{seatType:t[e].displayName}),headerSubText:(0,d.t)("checkout.price_per_month",{price:t[e].displayPrice}),incrementSeats:()=>p(e),decrementSeats:()=>g(e),updateAdditionalSeatsText:(0,T.K)(h(e))}))))),r.createElement(y.wi,null,r.createElement(y.jk,null,r.createElement(S.$n,{variant:"secondary",onClick:n,htmlAttributes:{"data-testid":"additional-seats--cancel"}},(0,d.tx)("checkout.additional_seats.cancel")),r.createElement(S.$n,{variant:"primary",onClick:()=>{o.definedAnalyticsHandler.trackDefinedEvent("monetization_upgrades.cart_additional_seats_changed_in_checkout",{additionalSeatCountsBefore:JSON.stringify(a),additionalSeatCountsAfter:JSON.stringify(c),tier:e.tier}),l(c),n()},htmlAttributes:{"data-testid":"additional-seats--confirm"}},(0,d.tx)("checkout.additional_seats.confirm"))))))},"AdditionalSeatsModal");function I({seatTypes:e,additionalSeatCounts:t,setAdditionalSeats:a,tier:l}){let s=(0,h.wA)();return r.createElement(S.$n,{variant:"ghost","aria-label":(0,d.t)("checkout.additional_seats.add_seats_to_assign_later"),htmlAttributes:{"data-testid":"additional-seats--button"},onClick:()=>{s((0,b.to)({type:k,data:{seatTypes:e,additionalSeatCounts:t,setAdditionalSeats:a,tier:l}}))},iconPrefix:r.createElement(x.A,null)},(0,d.tx)("checkout.additional_seats.add_seats_to_assign_later"))}var P=a(773511),M=a(347701),D=a(808943);a(82433);var R=a(418534),B=a(125761),O=a(125952),L=a(165617),$=a(720987),V=a(594950);let U=(0,w.Ju)(function(e){let{user:t,seatTypes:a,selectedSeatType:l,setSelectedSeatType:s,open:n,onClose:i,tier:o,teamId:c}=e,_=f.hS({open:n,onClose:i});return r.createElement(u.fu,{name:"Select User Seat Type Modal",properties:{teamId:c}},r.createElement(v.bL,{manager:_,width:480,htmlAttributes:{"data-testid":"select-user-seat-type--modal"}},r.createElement(y.vo,null,r.createElement(y.nB,null,r.createElement(N.Y,{direction:"vertical",spacing:0,padding:{horizontal:8,vertical:16}},r.createElement("div",{className:m.s.mb24.$},r.createElement($.j,{user:t,text:(0,d.t)("modify_plan_user_seat_modal.choose_seat",{name:t.handle})})),r.createElement(L.m,{currentSeatType:l,setNextSeatType:e=>{s(e),i()},availableSeatCounts:null,pricing:Object.fromEntries(Object.entries(a).filter(([e,t])=>e!==V.Gu.VIEW).map(([e,t])=>[e,t.displayPrice])),learnMoreLinkHref:"/pricing",displayPricing:!0,canSetCurrentSeatType:!0,tier:o}))))))},"SelectUserSeatTypeModal"),z="select_seats_table--sidePadding--rdwOD",j="select_seats_table--userColumn--0bg1B",F="select_seats_table--seatColumn--dUkDj",G="select_seats_table--teamColumn--kxWk-",H="select_seats_table--descriptionColumn--nvbAl";function X({user:e,seatTypes:t,selectedSeatType:a,changeSeatType:l,tier:s,teamId:n}){let i=(0,h.wA)(),o=(0,B.TA)(),c=e.id===o,u=(0,_.Dj)(),g=s===p.Ju.PRO&&u(),f=()=>{i((0,b.to)({type:U,data:{user:e,seatTypes:t,selectedSeatType:a,setSelectedSeatType:l,tier:s,teamId:n}}))};if((0,E.uy)(t[a]))return null;let v=r.createElement(P.E,{className:"xh8yej3 x1whlmpv x133fa97 x19y5rnk x1bamp8i xkezfkh","aria-label":(0,d.t)("checkout.edit_user_seat_name",{name:e.handle}),onClick:f},r.createElement("span",{className:"x1db2dqx"},r.createElement(R.B,{type:a,size:"24"})),r.createElement("span",null,t[a].displayName),r.createElement(M.O,{className:"x8x9d4c"}));return r.createElement("tr",{"data-testid":`select_seat_row--${e.id}`},r.createElement("td",{"aria-hidden":!0,className:z}),r.createElement("td",{className:j,"data-testid":"select_seats_table_user_cell"},r.createElement(O.az,{entity:e,includeUserEmailAddress:!0,size:24,showIsMe:c})),r.createElement("td",{className:F},g?v:r.createElement(S.IK,{variant:"ghost","aria-label":(0,d.t)("checkout.edit_user_seat_name",{name:e.handle}),onClick:f,iconPrefix:r.createElement(R.B,{type:a,size:"24"})},r.createElement("span",{className:m.s.flex.justifyBetween.ml2.$},t[a].displayName,r.createElement(D.k,null)))),s===p.Ju.ORG&&r.createElement("td",{className:G},e.teams),r.createElement("td",{className:H},t[a].description),r.createElement("td",{"aria-hidden":!0,className:z}))}function W({users:e,seatTypes:t,selectSeatsState:a,changeUserSeatType:h,setAdditionalSeats:E,tier:f}){let v=(0,r.useRef)(null),y=function({tableContainerRef:e}){let[t,a]=r.useState(window.innerHeight),l=()=>{a(window.innerHeight)};r.useEffect(()=>(window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l)}),[]);let s=e.current?.getBoundingClientRect();return Math.max(t-(s?.top||0)-49-8-56,150)}({tableContainerRef:v}),[S,x]=r.useState(a),[T,N]=r.useState(!1),b=r.useMemo(()=>{let t=[...e];return(0,l.v7)(t,e=>e.handle,{isDescending:T}),t},[e,T]),C=(0,A.UL)((0,A.iB)(a.selectedUserSeatTypes)),w=(0,A.UL)(a.additionalSeatCounts),k=(0,_.Dj)(),P=f===p.Ju.PRO&&k();return r.createElement(u.fu,{name:g.e0.SELECT_SEATS_TABLE,properties:{selectedUserSeatTypes:(0,A.Tj)(S.selectedUserSeatTypes),countBySeatType:(0,A.gS)((0,A.O$)(S.selectedUserSeatTypes,S.additionalSeatCounts)),selectedTeamIds:(0,A.gu)(S.selectedTeamIds),userIds:(0,A.gu)(e.map(e=>e.id))}},r.createElement("div",null,r.createElement("div",{className:"select_seats_table--tableContainer--ft8tm",ref:v,"data-testid":"select-seats-table"},r.createElement(c.P,{maxHeight:y,className:"select_seats_table--scrollContainer--HMiGx",hideScrollbar:!0,horizontalScrollingDisabled:!0},r.createElement("table",{className:"select_seats_table--table--hBe3G"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{"aria-hidden":!0,className:z}),r.createElement("th",{className:j},(0,d.tx)("checkout.select_seats_table.user_column")," ",r.createElement("div",{className:m.s.inlineBlock.$,"data-testid":"select-seats-table-sort-users-button"},r.createElement(s.K,{onClick:()=>N(e=>!e),"aria-label":(0,d.t)("checkout.select_seats_table.sort")},T?r.createElement(n.d,{"data-testid":"select-seats-table-icon-arrow-up"}):r.createElement(i.Q,{"data-testid":"select-seats-table-icon-arrow-down"})))),r.createElement("th",{className:F},P?(0,d.tx)("checkout.select_seats_table.seat_column_exp"):(0,d.tx)("checkout.select_seats_table.seat_column")),f===p.Ju.ORG&&r.createElement("th",{className:G},(0,d.tx)("checkout.select_seats_table.team_column")),r.createElement("th",{className:H},(0,d.tx)("checkout.select_seats_table.description_column")),r.createElement("th",{"aria-hidden":!0,className:z}))),r.createElement("tbody",null,b.map(e=>r.createElement(X,{key:e.id,user:e,seatTypes:t,selectedSeatType:a.selectedUserSeatTypes[e.id],changeSeatType:t=>{o.definedAnalyticsHandler.trackDefinedEvent("monetization_upgrades.user_seat_selection_changed_in_checkout",{targetUserId:e.id,previousSeatType:a.selectedUserSeatTypes[e.id],newSeatType:t,tier:f,teamId:f===p.Ju.PRO?S.selectedTeamIds[0]:void 0}),h(e.id,t)},tier:f,teamId:f===p.Ju.PRO?S.selectedTeamIds[0]:void 0}))))),r.createElement("div",{className:m.s.py12.px24.bt1.bSolid.colorBorder.flex.itemsCenter.justifyBetween.$},r.createElement(I,{tier:f,seatTypes:t,additionalSeatCounts:a.additionalSeatCounts,setAdditionalSeats:E}),r.createElement("p",null,(0,d.tx)("checkout.select_seats_table.team_members_count",{assignedSeatsText:(0,d.tx)("checkout.select_seats_table.assigned_seats",{count:C}),unassignedSeatsText:(0,d.tx)("checkout.select_seats_table.unassigned_seats",{count:w})}))))))}},48368:(e,t,a)=>{a.d(t,{kR:()=>N,vU:()=>b});var r=a(848318),l=a(301168),s=a(660376),n=a(989232),i=a(615233),o=a(159229),c=a(967688),m=a(453370),d=a(422444),_=a(957872),u=a(863270),p=a(218732),g=a(125761),h=a(241343),E=a(912534),f=a(872240),v=a(175957),y=a(81441);function S(e){return r.createElement(u.$z,{type:"button",className:y.Nd,trackingProperties:{trackingDescriptor:_.c.CANCEL},onClick:e.onClick,dataTestId:"upgrade-breadcrumb-menu-cancel"},(0,c.tx)("pro_cart.breadcrumbs.cancel"))}var x=(e=>(e[e.PLAN_COMPARISON=0]="PLAN_COMPARISON",e[e.CREATE_TEAM=1]="CREATE_TEAM",e[e.ADD_COLLABORATORS=2]="ADD_COLLABORATORS",e[e.ADJUST_EDITORS=3]="ADJUST_EDITORS",e[e.SET_EDITORS=4]="SET_EDITORS",e[e.PAYMENT_AND_ADDRESS=5]="PAYMENT_AND_ADDRESS",e[e.CONFIRM_PAY=6]="CONFIRM_PAY",e))(x||{});function T(e,t,a,r){let l=t===f.tY.STUDENT,n=[];switch(e){case v.SC.CREATE_AND_UPGRADE:n.push(0),n.push(1),l?n.push(4):a||(n.push(4),n.push(5)),n.push(6);break;case v.SC.UPGRADE_EXISTING_TEAM:r===v.Sc.TEAM?(n.push(3),l||n.push(5)):l?(n.push(0),n.push(3)):a?n.push(0):(n.push(0),n.push(4),n.push(5)),n.push(6);break;case v.SC.CREATE:n.push(1),n.push(2),n.push(0),r===v.Sc.TEAM&&(l?n.push(4):a||(n.push(4),n.push(5)),n.push(6));break;default:(0,s.xb)(e)}return n.map(e=>(function(e){switch(e){case 0:return{step:f.tn.PLAN_COMPARISON,text:(0,c.t)("pro_cart.breadcrumbs.choose_plan")};case 1:return{step:f.tn.CREATE_TEAM,text:(0,c.t)("pro_cart.breadcrumbs.create_team")};case 2:return{step:f.tn.ADD_COLLABORATORS,text:(0,c.t)("pro_cart.breadcrumbs.add_team_members")};case 3:return{step:f.tn.CHOOSE_PLAN,text:(0,c.t)("pro_cart.breadcrumbs.adjust_editors.seat_rename")};case 4:return{step:f.tn.CHOOSE_PLAN,text:(0,c.t)("pro_cart.breadcrumbs.set_editors.seat_rename")};case 5:return{step:f.tn.PAYMENT_AND_ADDRESS,text:(0,c.t)("pro_cart.breadcrumbs.payment_information")};case 6:return{step:f.tn.CONFIRM_PAY,text:(0,c.t)("pro_cart.breadcrumbs.review")}}})(e))}function N(e,t,a,r,l,s){let n=T(t,a,r,l).map(e=>e.step),i=n.indexOf(e);return s=s||n[0],-1===i?s:n[i+1]}function b(e){let{selectedView:t}=e,{teamId:a,paymentStep:s,teamFlowType:c}=t,_=(0,l.wA)(),u=(0,l.d4)(e=>e.payment.billingPeriod),x=g.iZ()?.id,N=T(c,u,(0,l.d4)(e=>e.payment.promo),e.selectedView.planType||v.Sc.UNDETERMINED),b=N.findIndex(e=>e.step===s);return r.createElement("div",{className:y.N6,"data-testid":"cart-breadcrumb-menu-pro"},r.createElement(S,{onClick:()=>{((0,i.sj)(),e.isCampfireCart?(0,h.OI)(_):(0,h.Mt)(_),(0,v.h5)(c)&&null===a&&(0,p.Al)(x),x)?a&&(!t.previousView||"fullscreen"!==t.previousView.view)?_(d._l({workspace:{userId:x,teamId:a,orgId:null},view:{view:"recentsAndSharing"}})):_(m.$T(t.previousView||{view:"recentsAndSharing"})):_(m.$T(t.previousView||(a?{view:"team",teamId:a}:{view:"recentsAndSharing"}))),t.callbackOnClose?.()}}),N.map((l,i)=>r.createElement(o.On,{key:l.text,selected:s===l.step,number:i+1,text:l.text,canClick:i<b,lightText:!0,onClick:()=>{n.definedAnalyticsHandler.trackDefinedEvent("monetization_upgrades.checkout_breadcrumb_navigation",{fromStep:s,toStep:l.step,tier:E.Ju.PRO,isCampfireCart:!!e.isCampfireCart,teamId:a??void 0}),_(m.$T({...t,paymentStep:l.step,billingPeriod:u===f.tY.UNSPECIFIED?void 0:u,planType:(0,v.ck)(c,l.step)?v.Sc.UNDETERMINED:t.planType,teamFlowType:(0,v.jX)(c)&&l.step===f.tn.PLAN_COMPARISON?v.SC.CREATE_AND_UPGRADE:t.teamFlowType}))}})))}},953233:(e,t,a)=>{a.r(t),a.d(t,{TeamUpgradePageBillingRemodel:()=>ek});var r=a(848318),l=a(301168),s=a(660376),n=a(938982),i=a(989232),o=a(238444),c=a(637640),m=a(63163),d=a(865114),_=a(615233),u=a(329228),p=a(586588),g=a(987591),h=a(146968),E=a(136126),f=a(297638),v=a(314979),y=a(850426),S=a(967688),x=a(744577),T=a(31573),N=a(331791),b=a(902947),C=a(425884),w=a(191265),A=a(48368),k=a(530320),I=a(695920),P=a(453370),M=a(422444),D=a(679617),R=a(918254),B=a(533737),O=a(740495),L=a(957872),$=a(863270),V=a(188279),U=a(708896),z=a(501104),j=a(218732),F=a(353806),G=a(125761),H=a(819624),X=a(318147),W=a(677334),J=a(834612),K=a(253332),Y=a(241343),Z=a(407638),q=a(138528),Q=a(656320),ee=a(912534),et=a(872240),ea=a(175957),er=a(991675),el=a(535306),es=a(235169),en=a(544405),ei=a(271020),eo=a(720522),ec=a(653764),em=a(353231),ed=a(36942),e_=a(840026),eu=a(190597),ep=a(364616);let eg=(0,$.h3)(e=>{let{dataTestId:t,children:a,...l}=e;return r.createElement("select",{...l,"data-testid":t},a)});function eh(e){let t=e.paymentMethods.filter(e=>e.type===ed.lB.CARD||e.type===ed.lB.SEPA);return r.createElement(r.Fragment,null,t.map(e=>{let t=function(e){if(e.type===ed.lB.CARD)return function(e){let t=e.display_brand in ey?ey[e.display_brand]:(0,S.t)("checkout.other");return`${t} \u2022\u2022\u2022\u2022 ${e.last4}`}(e.object);if(e.type===ed.lB.SEPA)return function(e){let t=e.country?e.country.toUpperCase():(0,S.t)("checkout.other");return`SEPA ${t} \u2022\u2022\u2022\u2022 ${e.last4}`}(e.object);throw Error(`Unknown payment method type: ${e.type}`)}(e),a=function(e){if(!e)return"";let t=[];e.line1&&t.push(e.line1);let a=[];return e.city&&a.push(e.city),e.state&&a.push(e.state),e.postal_code&&a.push(e.postal_code),a.length>0&&t.push(a.join(" ")),e.country&&t.push(e.country),t.join(", ")}(e.address);return r.createElement("option",{className:f.s.flex.justifyBetween.gap2.$,value:e.id,key:e.id},r.createElement("span",{className:f.s.font13.$},t),a&&r.createElement("span",{className:f.s.colorTextSecondary.font13.$},` - ${a}`))}))}function eE(e){return r.createElement("div",{className:eu.ri},r.createElement("div",{className:f.s.flex.relative.wFull.itemsCenter.$},r.createElement(eg,{name:"selected_saved_payment_method",trackingFieldName:"SelectExistingPaymentMethod",trackingPopulationLevel:e.selectedPaymentMethod?.id&&e.enableSavedPaymentMethods?em._R.POPULATED_COMPLETE:em._R.NOT_POPULATED,onChange:t=>{let a=t.target.value,r=e.paymentMethods.find(e=>e.id===a);r&&e.setSelectedPaymentMethod(r)},value:e.selectedPaymentMethod?.id},r.createElement(eh,{paymentMethods:e.paymentMethods})),r.createElement(eo.B,{style:x.sx.add({position:"absolute",right:"16px",pointerEvents:"none",color:"var(--color-icon)",fill:"var(--color-icon)"}).$,svg:ep.A})))}function ef(e){let{enableSavedPaymentMethods:t,setEnableSavedPaymentMethods:a}=e,l=r.createElement(en.J,null,r.createElement("span",{className:f.s.font13.$},(0,S.t)("checkout.use_saved_payment_method")));return r.createElement("div",{className:f.s.mb6.if(!t,f.s.mb0).$},r.createElement(ei.S,{label:l,onChange:e=>{a(e)},checked:t}))}function ev(e){let{paymentMethods:t,setSelectedPaymentMethod:a,setEnableSavedPaymentMethods:s,enableSavedPaymentMethods:n,selectedPaymentMethod:i}=e,{error:o,errorCode:c}=(0,l.d4)(e=>e.payment),m=!!o&&null===c;return r.createElement(ec.x,{title:(0,S.t)("checkout.payment_details")},t.length>0&&r.createElement("div",{className:f.s.alignLeft.$},r.createElement(ef,{enableSavedPaymentMethods:n,setEnableSavedPaymentMethods:s}),n&&r.createElement(eE,{selectedPaymentMethod:i,enableSavedPaymentMethods:n,setSelectedPaymentMethod:a,paymentMethods:t})),r.createElement("div",{className:f.s.alignLeft.$},r.createElement(e_.F,{billingAddress:e.billingAddress,canSeeBillingAddressExp:e.canSeeBillingAddressExp,createPaymentElement:e.createPaymentElement,error:e.error,hide:e.enableSavedPaymentMethods,isCampfireCart:e.isCampfireCart,legalCompanyName:e.legalCompanyName,nameOnPaymentMethod:e.nameOnPaymentMethod,onRegionalVatGstIdChange:e.onRegionalVatGstIdChange,onVatGstIdChange:e.onVatGstIdChange,paymentError:m?o:void 0,paymentFlow:e.paymentFlow,paymentMethodType:e.paymentMethodType,regionalVatGstId:e.regionalVatGstId,shippingAddress:e.shippingAddress,unmountPaymentElement:e.unmountPaymentElement,updateBillingAddress:e.updateBillingAddress,updateLegalCompanyName:e.updateLegalCompanyName,updateNameOnPaymentMethod:e.updateNameOnPaymentMethod,updateShippingAddress:e.updateShippingAddress,vatGstId:e.vatGstId})))}let ey={american_express:"American Express",cartes_bancaires:"Cartes Bancaires",diners_club:"Diners Club",discover:"Discover",eftpos_australia:"Eftpos Australia",interac:"Interac",jcb:"JCB",mastercard:"Mastercard",union_pay:"Union Pay",visa:"Visa"};var eS=a(871043),ex=a(647045),eT=a(594950);function eN(e){let t={...e.additionalSeatCounts};return Object.values(e.selectedUserSeatTypes).forEach(e=>{(0,eT.a_)(e)&&e in t&&t[e]++}),{countBySeatType:t,selectedUserSeatTypes:e.selectedUserSeatTypes}}let eb=(e,t,a,l)=>{let[s,n]=(0,r.useState)(()=>{let r=function(e,t,a){let r;let{countBySeatType:l,selectedUserSeatTypes:s}=e||{countBySeatType:{},selectedUserSeatTypes:{}},n=t.map(e=>e.user.id),i=(0,b.md)(s,n);return t.forEach(e=>{let t=e.user.id;i[t]||(i[t]=e.recommended_seat_type?.key??eT.Gu.VIEW)}),r=(0,b.Ed)(l)?{...l}:{developer:0,collaborator:0,expert:0},Object.values(i).forEach(e=>{"view"!==e&&(0,eS.Vq)(r[e])&&r[e]>0&&r[e]--}),(0,b.MZ)(a,i,r)}(a,t,e);return l(eN(r)),r}),i=(0,r.useCallback)(e=>{try{n(t=>{let a=function(e,t){let a=(0,b.n5)(e,t);switch(a.type){case"success":return a.value;case"validation":throw Error("failed validation");case"error":throw Error("sent error")}}(t,e);return l(eN(a)),a})}catch(e){}},[l]);return{changeUserSeatType:(0,r.useCallback)((e,t)=>{i({type:"changeSeatType",userId:e,seatType:t})},[i]),setAdditionalSeats:e=>i({type:"setAdditionalSeats",additionalSeatCounts:e}),selectSeatsState:s}};function eC({teamId:e,currency:t,renewalTerm:a,eligibleTeamUsers:l,initCampfireSeats:s,onUpdateCampfireSeats:n}){let i=(0,b.GC)({currency:t,tier:ee.Ju.PRO,renewalTerm:a,showCents:!1}),[o]=(0,u.mI)(i);if(null===o.data)throw Error("Seat types data is null");let c=o.data,{changeUserSeatType:m,selectSeatsState:d,setAdditionalSeats:_}=eb(e,l,s,n),p=l.map(e=>{let t=e.user;return{id:t.id,img_url:t.img_url,handle:t.handle,email:t.email}});return r.createElement(ex.T,{users:p,seatTypes:c,changeUserSeatType:m,selectSeatsState:d,setAdditionalSeats:_,tier:ee.Ju.PRO})}let ew=W.M4.Query({fetch:async e=>(await el.V.getEligibleUpgradeData(e)).data.meta,stalenessPolicy:"never"});function eA(e){let t=(0,G.iZ)(),a=t?.id,s=(0,_.DC)(),n=(0,l.d4)(e=>e.payment),h=(0,l.d4)(e=>e.teams),y=e.selectedView.paymentStep,k=r.useRef(null),I=(0,q.D6)("TeamUpgradeCart"),L=I.data?.permission===X.Xn.ADMIN,[F,W]=(0,r.useState)(s?.team_name??""),[el,en]=(0,r.useState)(j.kt),[ei,eo]=(0,r.useState)(!1),[ec,em]=(0,r.useState)(s?.currency||n.currency||(0,J.LN)()),ed=n.billingPeriod,{editorStatusChanges:e_}=n,{ignoreCurrentPlan:eu}=e.selectedView,ep=e.selectedView.teamId,eg=(0,l.d4)(t=>(0,Q.Np)(t,{...e.selectedView,paymentStep:et.tn.CONFIRM_PAY})),eh=(0,l.d4)(t=>(0,Q.Np)(t,{...e.selectedView,paymentStep:et.tn.PAYMENT_AND_ADDRESS})),eE=(0,O.Mh)(),ef=void 0===n.cartSelections,ey=(0,d.ZC)(ef),eS=z.N_.dict(e=>n.cartSelections?.countBySeatType?.[e]||0),ex=(0,K.ne)(ed)||et.NW.YEAR,eT=(0,V.jv)({billableProductKeys:z.N_,baseQuery:{currency:ec,tier:ee.Ju.PRO,renewalTerm:ex,unit:ex}}),[eN]=(0,u.mI)(eT),eb=(0,V.vu)(eN);if(null===eb.data)throw Error("Price data is null");let eA=eb.data,ek=(0,b.s$)(eA),eP=(0,T.Vh)(eS,ek),[eM,eD]=(0,r.useState)([]),[eR,eB]=(0,r.useState)(null),{createPaymentElement:eO,unmountPaymentElement:eL,savePayment:e$,saveWithPaymentMethod:eV,billingAddress:eU,updateBillingAddress:ez,shippingAddress:ej,updateShippingAddress:eF,customerLegalName:eG,setCustomerLegalName:eH,nameOnPaymentMethod:eX,setNameOnPaymentMethod:eW,vatGstId:eJ,setVatGstId:eK,regionalVatGstId:eY,setRegionalVatGstId:eZ,paymentMethodType:eq,error:eQ}=(0,U.lo)({setupIntentParams:{redirect_url:eg,error_redirect_url:eh,subtotal_estimate:eP,currency:ec,teamId:ep??void 0},setPaymentMethods:eD,customerInfo:{teamId:ep},paymentFlowSource:U.wn.PRO_UPGRADE,currency:ec,billingPeriod:ed,defaultCountry:(0,J.ub)(),initialBillingAddress:s?.billing_address,initialNameOnPaymentMethod:s?.name_on_payment_method,initialShippingAddress:s?.shipping_address,initialCustomerLegalName:s?.customer_legal_name,initialVatGstId:s?.vat_gst_id,initialRegionalVatGstId:s?.regional_vat_gst_id,teamName:s?.team_name||F,canSeeBillingAddressExp:eE,isCheckout:!0,isCampfireCart:!0}),e0=eQ?.code===U.dl.UNINITIALIZED_STRIPE_ELEMENTS_ERROR,e1=(0,l.wA)(),e5=(0,Y.Ud)({teamId:ep,canSeeBillingAddressExp:eE}),[e2]=(0,u.IT)(ew({teamId:ep}),{enabled:!!ep}),e7="loaded"!==e2.status;(0,r.useEffect)(()=>{"loaded"===e2.status&&(0,b.R9)({eligibleTeamIds:[ep],eligibleTeamUsers:e2.data.eligible_team_users,tier:ee.Ju.PRO,step:y})},[e2]);let e3=e0||n.submitPending,e4=r.useCallback(()=>{e1(P.$T({...e.selectedView,paymentStep:et.tn.CHOOSE_PLAN,previousView:e.selectedView.previousView,ignoreCurrentPlan:eu,billingPeriod:ed}))},[e1,e.selectedView,eu,ed]),e8=ep?h[ep]?.name:F,e6=n.displayName||e8;(0,j.pI)({loadingPaidEditors:e5,teamId:ep,teamName:ep?void 0:F,setTeamName:ep?void 0:W,collaborators:ep||e.selectedView.teamFlowType!==ea.SC.CREATE?void 0:el,setCollaborators:ep||e.selectedView.teamFlowType!==ea.SC.CREATE?void 0:en});let e9=(0,l.d4)(e=>e.currentUserOrgId),te=eu?null:e9,tt=(0,l.d4)(e=>te?e.orgById[te]:null),ta=(0,es.Q)({currentOrgId:te,currentTeamId:null}),tr=ta.data?.currentUser?.baseOrgUser?.workspaceUsers,tl=tr?.find(e=>e?.isMainWorkspace)?.workspaceId,{cannotCreateTeamReason:ts}=(0,H.LM)(tt,tl??null),tn=(0,l.d4)(e=>(0,Z.isOrgUserExternallyRestrictedFromState)(e));(0,m.h)(()=>{e1(B.b({entered_pro_cart_flow:!0}))}),(0,m.h)(()=>{let e=document.createElement("div");return e.style.position="fixed",e.style.inset="0",e.style.background="var(--color-bg-secondary)",e.style.zIndex="-1",document.body.appendChild(e),()=>{document.body.removeChild(e)}});let[ti,to]=(0,r.useState)(!1);(0,r.useEffect)(()=>{y===et.tn.PAYMENT_AND_ADDRESS&&e0&&e4()}),(0,r.useEffect)(()=>{y===et.tn.CONFIRM_PAY&&!e5&&ef&&(0,i.trackEvent)("pro_cart_selections_undefined_on_review_step",{teamId:ep,userId:a})},[ef,e5,y,a,ep]),(0,r.useEffect)(()=>{y===et.tn.CONFIRM_PAY&&ey&&!ef&&(0,i.trackEvent)("monetization_upgrades.hydrated_pro_cart_selections",{teamId:ep,loadingPaidEditors:e5})},[ef,ey,e5,y,ep]);let tc=(0,l.d4)(e=>!!e.user&&(0,g.cn)(e.user));(0,r.useEffect)(()=>{tc&&e.selectedView.isEduTeam?e1(D.Lo({billingPeriod:et.tY.STUDENT})):e.selectedView.isEduTeam&&e1(D.Lo({billingPeriod:et.tY.UNSPECIFIED}))},[e1,e.selectedView.isEduTeam,tc]),(0,r.useEffect)(()=>{e.selectedView.teamFlowType===ea.SC.CREATE_AND_UPGRADE&&(tn||ts===H.z4.TEAM_CREATION_CONTROL)&&(c.Ay.redirect("/"),e1(v.s.error((0,S.t)("team_creation.missing_team_creation_controls"))))},[e.selectedView.teamFlowType,tn,ts,e1]);let tm=n.currencyToSwitch;(0,r.useEffect)(()=>{tm&&em(tm)},[em,tm]),(0,r.useEffect)(()=>{eM[0]&&(eB(eM[0]),eo(!0))},[eM,eB,eo]);let td=ed===et.tY.STUDENT,t_=el.filter(e=>e&&e.trim()).map(e=>e.trim()),tu=t_.filter(e=>!(0,o.xf)(e)),tp=!!t&&t_.filter(e=>e===t.email).length>0,tg=()=>{let e=(0,T.Vh)(eS,ek),t=n.taxes?.tax_percent??0,a=(0,T.kV)(eS,ek,t),r=(0,T.N9)(eS,ek,t);return{subtotal:e,taxPercent:t,taxTotal:a,total:r}},th=async t=>{t.preventDefault();let a=new URL(window.location.href).searchParams,r=a.get("onCompleteRedirectFileKey"),l=a.get("onCompleteRedirectNodeId");t.currentTarget&&t.currentTarget.blur();let s=(0,A.kR)(e.selectedView.paymentStep,e.selectedView.teamFlowType,ed,n.promo,e.selectedView.planType||ea.Sc.UNDETERMINED);y===et.tn.CREATE_TEAM&&(W(F.trim()),e1(P.$T({...e.selectedView,teamId:null,paymentStep:s,ignoreCurrentPlan:eu,billingPeriod:ed}))),y===et.tn.ADD_COLLABORATORS&&(tu.length?e1(v.s.error((0,S.t)("pro_cart.add_collaborators.error.email_is_invalid",{string:tu[0]}))):tp?e1(v.s.error((0,S.t)("team_view.team_permissions_modal.youre_not_able_to_send_an_invite_to_yourself"))):e1(P.$T({...e.selectedView,paymentStep:s,ignoreCurrentPlan:eu,billingPeriod:ed}))),y===et.tn.CHOOSE_PLAN?td?e1(P.$T({...e.selectedView,paymentStep:s,billingPeriod:et.tY.STUDENT,ignoreCurrentPlan:eu})):(e1(D.Je({editorStatusChanges:e_})),e1(P.$T({...e.selectedView,paymentStep:s,billingPeriod:n.billingPeriod,...r?{searchParams:{onCompleteRedirectFileKey:r,onCompleteRedirectNodeId:l}}:{},ignoreCurrentPlan:eu}))):y===et.tn.PAYMENT_AND_ADDRESS&&(e1(D.I2({submitPending:!0})),ei&&eR?await eV(eR):await e$(),e1(D.I2({submitPending:!1})))},tE=t&&j.lX({teamId:ep,userId:t.id})?.is3DS;return e.selectedView.teamFlowType===ea.SC.CREATE_AND_UPGRADE&&(tn||ts===H.z4.TEAM_CREATION_CONTROL)?r.createElement(r.Fragment,null):r.createElement($.fu,{name:er.e0.TEAM_CHECKOUT_FLOW,properties:{teamId:e.selectedView.teamId,planType:e.selectedView.planType,entryPoint:e.selectedView.entryPoint,step:y,currency:ec,renewalTerm:ex,prices:(0,b.Jh)(eA)},enabled:!(e5||e7)},r.createElement("div",{"data-testid":"team-upgrade-billing-remodel",className:f.s.selectNone.$},r.createElement(A.vU,{selectedView:e.selectedView,isCampfireCart:!0}),r.createElement("div",{style:x.sx.mxAuto.add({padding:"98px 48px 48px",maxWidth:"1400px"}).$},r.createElement(eI,{step:y,teamName:e8??"",renewalTerm:ex}),r.createElement("div",{ref:k},y===et.tn.CONFIRM_PAY?r.createElement(r.Fragment,null,tE&&r.createElement("div",{className:f.s.mxAuto.alignLeft.mb16.$},r.createElement(E._,{color:E.S.INFORMATION,text:(0,S.t)("pro_cart.review.extra_validation")})),e5||ef?r.createElement(w.f,null):r.createElement(N.j,{billingAddress:eU,billingInterval:ex,countByBillableProductKey:eS,currency:ec,displayName:e6??"",hasUpgradeSucceeded:ti,isRequestPending:n.submitPending,legalName:n.legalName,navigateToEditDetails:()=>{e1(P.$T({...e.selectedView,paymentStep:et.tn.PAYMENT_AND_ADDRESS,previousView:e.selectedView.previousView,ignoreCurrentPlan:eu,billingPeriod:ed}))},onSubmit:()=>{let t=()=>{to(!0),(0,_.sj)(),(0,Y.OI)(e1),(0,ea.h5)(e.selectedView.teamFlowType)&&null===ep&&(0,j.Al)(a)};if(e.selectedView.teamId&&td)e1(D.Nj({teamId:e.selectedView.teamId}));else if(e.selectedView.teamId&&n.promo){let r=e.selectedView.teamId;e1(R.S_({teamId:r,teamName:h[r].name,promoCode:n.promo?.code||"",onSuccess:()=>{t(),(0,p._H)(),e1(D.Ay({promo:null})),a?e.selectedView.previousView?P.$T(e.selectedView.previousView):M._l({workspace:{userId:a,orgId:null,teamId:r},view:{view:"allProjects"}}):e1(P.$T(e.selectedView.previousView||{view:"team",teamId:r}))},onError:()=>{(0,p._H)(),e1(D.Ay({promo:null})),e1(P.$T({...e.selectedView,paymentStep:et.tn.PLAN_COMPARISON,ignoreCurrentPlan:eu}))}}))}else{e1(B.b({completed_pro_cart_flow:!0}));let{subtotal:a,taxTotal:r,total:l}=tg();e1(D.I2({submitPending:!0})),e1((0,R.gk)({teamId:e.selectedView.teamId,selectedCurrency:ec,teamName:F,teamFlowType:e.selectedView.teamFlowType,invites:t_,hasSelectedStudentTeam:td,onSuccess:t,displayedCostBreakdown:{subtotal:a,tax_total:r,total:l},isCampfireCart:!0,displayedPriceKeys:(0,b.vm)(eA)}))}},onSubmitTrackingProperties:{selectedUserSeatTypes:(0,b.Tj)(n.cartSelections?.selectedUserSeatTypes),countBySeatType:(0,b.gS)(eS),isTeamAdmin:L,...tg()},shippingAddress:ej,taxPercent:n.taxes?.tax_percent,tier:ee.Ju.PRO,title:(0,S.t)("checkout.upgrade_to_a_professional_plan"),userEmail:t?.email||""})):r.createElement("div",{style:x.sx.grid.add({gridTemplateColumns:"1fr 280px",gap:"48px"}).$},y===et.tn.CHOOSE_PLAN&&e.selectedView.teamId&&(e5||e7?r.createElement(w.f,null):r.createElement(eC,{teamId:e.selectedView.teamId,currency:ec,renewalTerm:ex,eligibleTeamUsers:e2.data.eligible_team_users,initCampfireSeats:n.cartSelections,onUpdateCampfireSeats:e=>e1(D.qU({cartSelections:e}))})),y===et.tn.PAYMENT_AND_ADDRESS&&r.createElement(ev,{billingAddress:eU,canSeeBillingAddressExp:eE,createPaymentElement:eO,enableSavedPaymentMethods:ei,error:eQ,isCampfireCart:!0,legalCompanyName:eG,nameOnPaymentMethod:eX,onRegionalVatGstIdChange:eZ,onVatGstIdChange:eK,paymentFlow:U.wn.PRO_UPGRADE,paymentMethodType:eq,paymentMethods:eM,regionalVatGstId:eY,selectedPaymentMethod:eR,setEnableSavedPaymentMethods:eo,setSelectedPaymentMethod:eB,shippingAddress:ej,unmountPaymentElement:eL,updateBillingAddress:ez,updateLegalCompanyName:eH,updateNameOnPaymentMethod:eW,updateShippingAddress:eF,vatGstId:eJ}),r.createElement(C.z,{billingInterval:ex,buttonText:y===et.tn.PAYMENT_AND_ADDRESS?(0,S.t)("pro_cart.sidebar.next_review"):(0,S.t)("pro_cart.sidebar.next_payment_information"),canEnforcePaidSeatMinimum:y===et.tn.CHOOSE_PLAN,countByBillableProductKey:eS,currency:ec,isButtonDisabled:e3,isLoading:n.submitPending,onClickNext:th,onSwitchBillingInterval:e=>{i.definedAnalyticsHandler.trackDefinedEvent("monetization_upgrades.checkout_change_renewal_term",{teamId:ep??void 0,renewalTerm:e}),e1(D.Lo({billingPeriod:(0,K.JV)(e)}))},onSwitchCurrency:e=>{em(e),e1(D.MN({currency:e}))},tier:ee.Ju.PRO,title:(0,S.t)("checkout.your_professional_plan"),trackingProperties:{selectedUserSeatTypes:(0,b.Tj)(n.cartSelections?.selectedUserSeatTypes),countBySeatType:(0,b.gS)(eS),savedPaymentMethodId:ei?eR?.id:void 0}}))))))}function ek(e){return r.createElement(h.tH,{team:n.e.MONETIZATION_UPGRADES,boundaryKey:"TeamUpgradeBillingRemodel",fallback:h.H4.DEFAULT_FULL_PAGE,hasCustomWASMBuild:F.y4},r.createElement(eA,{...e}))}function eI({step:e,teamName:t,renewalTerm:a}){let l=(0,O.Dj)(),n=r.createElement(y.Ph,{href:"/pricing",trackingProperties:{trackingDescriptor:L.c.LEARN_MORE_ABOUT_SEATS},newTab:!0,trusted:!0},(0,S.tx)("checkout.learn_more_about_seats"));return r.createElement("div",{className:f.s.mb32.$,"data-testid":"cart-pro-header"},r.createElement("h2",{className:f.s.font15.lh24.fontMedium.$},function(e,t,a){switch(t=t||(0,S.t)("checkout.select_seats_header.your_team"),e){case et.tn.CHOOSE_PLAN:if(a)return(0,S.tx)("checkout.select_seats_header_exp",{teamName:t});return(0,S.tx)("checkout.select_seats_header",{teamName:t});case et.tn.PAYMENT_AND_ADDRESS:return(0,S.tx)("checkout.enter_your_payment_details");case et.tn.CONFIRM_PAY:return(0,S.tx)("checkout.everything_look_good");default:(0,s.wc)(e)}}(e,t,l())),e===et.tn.CHOOSE_PLAN&&r.createElement("p",{className:f.s.colorTextSecondary.font13.mt8.$},(0,S.tx)("checkout.select_seats_table.seat_types_have_been_suggested",{learnMoreAboutSeatsLink:n})),e===et.tn.CONFIRM_PAY&&r.createElement("p",{className:f.s.colorTextSecondary.font13.mt8.$},(0,S.tx)("checkout.confirm_your_plan_seats_and_payment_details_then_you_re_all_set")),(0,I.UR)()&&r.createElement(k.W,{billingPeriod:(0,K.JV)(a)??void 0,isCampfireCart:!0}))}},530320:(e,t,a)=>{a.d(t,{W:()=>v});var r=a(848318),l=a(759102),s=a(19180),n=a(398612),i=a(918777),o=a(615233),c=a(987591),m=a(297638),d=a(967688),_=a(744577),u=a(863270),p=a(677334),g=a(934397);let h=p.M4.Query({fetch:async()=>(await g.Cn.maintenancePoc1()).data.meta});var E=a(125761),f=a(872240);function v(e){if(!(0,s.k)().campfire_cart_banner)return r.createElement(r.Fragment,null);let{isProCart:t,isCampfireCart:a}=e;return r.createElement("div",{style:_.sx.if(t,_.sx.add({marginTop:"-16px"}).mb32,_.sx.mt16).if(a,_.sx.mt16.add({marginBottom:"40px"}),_.sx.flex.justifyCenter.px16).$},r.createElement(y,{...e}))}function y({billingPeriod:e=f.tY.ANNUAL,isProCart:t,isReviewPage:a,isCampfireCart:g}){let v=(0,E.iZ)(),y=function(e){let{data:t,status:a}=function(e){let[t]=(0,p.IT)(h(null),{enabled:(0,s.k)().campfire_i18n_verbiage&&e});return t}(e);if("loaded"===a&&t?.strings.cart_banner)return{info:t.strings.cart_banner.cart_banner_info,edu_info:t.strings.cart_banner.cart_banner_edu_info}}(!0),T=(0,o.tl)().analyze_data_flow_v2_until,N=(0,c.cn)(v)&&t?y?.edu_info.replace(/\[BILLING_REMODEL_GA_DATE\]/g,i.A(T).format("MMMM D, YYYY")):y?.info.replace(/\[NEXT_RENEWAL_DATE\]/g,S(e)),b=(0,d.t)("checkout.banner.price_change",{date:S(e)});return r.createElement(u.fu,{name:"Campfire Cart Banner"},r.createElement("div",{className:m.s.flex.justifyBetween.itemsCenter.minH40.px8.flexGrow1.colorBgWarningTertiary.$,style:_.sx.add({borderRadius:"13px"}).if(a,_.sx.add({maxWidth:t?"693px":"758px"})).$,"data-testid":"campfire-cart-banner"},r.createElement("div",{className:m.s.flex.itemsCenter.$},r.createElement(l.b,null),r.createElement("p",{className:m.s.fontMedium.px4.$},g?b:N)),r.createElement(x,{onClick:()=>(0,n.FJ)("https://help.figma.com/hc/articles/27468498501527","_blank")},(0,d.tx)("campfire_banner.learn_more"))))}function S(e){let t=new Date;t.setFullYear(t.getFullYear()+1);let a=new Date;return a.setFullYear(2025),a.getDate()>=11?a.setMonth(2):a.setMonth(3),(0,i.A)(e===f.tY.ANNUAL?t:a).format("MMMM D, YYYY")}let x=(0,u.tf)(function({onClick:e,children:t}){return r.createElement("button",{className:"campfire_cart_banner--mockUI3Button--Aw9Vz",onClick:e},t)})},559391:(e,t,a)=>{a.d(t,{L:()=>S});var r=a(848318),l=a(301168),s=a(536384),n=a.n(s),i=a(183603),o=a(264478),c=a(297638),m=a(314979),d=a(153558),_=a(967688),u=a(210853),p=a(31898),g=a(679617),h=a(583940),E=a(446951),f=a(890257),v=a(289198);let y=r.memo(function(e){let t=(0,l.wA)(),{displayName:a,legalName:s}=e,[E,y]=r.useState(a||""),[S,x]=r.useState(s||""),{isLoading:T,withLoading:N}=(0,d.R)(),b=()=>{t(p.Ce())},C=async a=>{a.preventDefault(),await N(async()=>{if(e.updateNameImmediately&&e.team)try{e.canSeeBillingAddressExp?await (0,i.WB)().optimisticallyUpdate({Plan:{[`team::${e.team.id}`]:{name:E}}},h.$.updateDisplayName({teamId:e.team.id,updatedDisplayName:E})):await (0,i.WB)().optimisticallyUpdate({Plan:{[`team::${e.team.id}`]:{name:E}}},h.$.updateTeamName({teamId:e.team.id,updatedDisplayName:E,updatedLegalName:S}))}catch(r){let a=e.canSeeBillingAddressExp?(0,_.t)("update_company_details_modal.update_display_name.error"):(0,_.t)("update_company_details_modal.update_team_name.error");throw t(m.s.error((0,u.J)(r)||a)),r}else t(g.yy({legalName:S,displayName:E}));b()})};return r.createElement(f.XV,{onClose:b,title:e.modalTitle,minWidth:448,maxWidth:448,fixedTop:!0},r.createElement("form",{onSubmit:C,className:c.s.p16.$},r.createElement("div",{className:c.s.mt4.$},r.createElement("label",{htmlFor:"teamName",className:c.s.colorTextSecondary.$},r.createElement("strong",{className:c.s.block.colorText.$},(0,_.tx)("pro_cart.review.edit_details.team_name_label")),(0,_.tx)("pro_cart.review.edit_details.team_name_description")),r.createElement(o.ks,{value:E,id:"teamName",onChange:e=>{y(e.target.value)},dataTestId:"company-team-name",className:c.s.block.mt8.wFull.$})),!e.canSeeBillingAddressExp&&r.createElement("div",{className:c.s.mt20.$},r.createElement("label",{htmlFor:"legalName",className:c.s.colorTextSecondary.$},r.createElement("strong",{className:c.s.block.colorText.$},(0,_.tx)("pro_cart.review.edit_details.company_name_label")),(0,_.tx)("pro_cart.review.edit_details.company_name_description")),r.createElement(o.ks,{value:S,id:"legalName",onChange:e=>{x(e.target.value)},dataTestId:"company-name",className:c.s.block.mt8.wFull.$})),r.createElement("div",{className:n()(v.v0,v.hF)},r.createElement(o.tM,{onClick:b,disabled:T},(0,_.tx)("pro_cart.review.edit_details.cancel")),r.createElement(o.vd,{className:v.pL,disabled:T,type:"submit"},(0,_.tx)("pro_cart.review.edit_details.save")))))}),S=(0,E.Ju)(y,"UpdateCompanyDetailsModal")},241343:(e,t,a)=>{a.d(t,{Mt:()=>A,OI:()=>w,Ud:()=>b});var r=a(848318),l=a(301168),s=a(989232),n=a(238444),i=a(865114),o=a(615233),c=a(304756),m=a(314979),d=a(967688),_=a(695920),u=a(453370),p=a(35597),g=a(679617),h=a(931078),E=a(501104),f=a(318147),v=a(872240),y=a(944239),S=a(218732),x=a(125761),T=a(922484),N=a(253332);let b=(0,y.D)(({teamId:e,canSeeBillingAddressExp:t})=>{let a=(0,l.wA)(),p=(0,l.d4)(e=>e.loadingState),E=(0,l.d4)(t=>e?t.teamUserByTeamId[e]:null),y=(0,l.d4)(e=>e.selectedView),b=(0,x.iZ)(),[w,k]=(0,r.useState)(!0),I=(0,i.ZC)(e),P=(0,_.sx)(),M=h.Xw.loadingKeyForPayload({teamId:e}),D=(0,T.GH)(p,M),R=(0,o.DC)();(0,r.useEffect)(()=>{a(h.Xw({teamId:e}))},[a,e]);let B=function(){let e=(0,l.wA)();return(0,r.useCallback)(t=>{(0,s.trackEvent)("Loaded Saved Cart State",{teamId:t.teamId,lastSavedAt:t.updatedAt}),e(g.eK(t))},[e])}();return(0,r.useEffect)(()=>{async function r(t){try{let r=await c.Ay.post("/api/subscriptions/teams/calculate_estimate",{...t,team_id:e});a(g.i({taxes:r.data.meta.estimate}))}catch(e){a(m.s.error((0,d.t)("payments.errors.estimate_calculation_error"))),a(u.$T({...y,paymentStep:v.tn.PAYMENT_AND_ADDRESS}))}k(!1)}if(void 0===I||I===e||w||(A(a),k(!0)),(!e||D)&&w){let i=(0,N.BR)(E,b),o=Object.entries(i).map(([e,t])=>{if((0,n.nD)(t.email||""))return e}).filter(e=>!!e);a(g.M2({figmaEmailTeamUsers:o}));let c=(0,S.lX)({teamId:e,userId:b?.id});if(c){c.editorStatusChanges=(0,S.nt)(c.editorStatusChanges,i);let n=(0,N.Ky)(i,c.editorStatusChanges,f._Y.DESIGN),m=(0,N.Ky)(i,c.editorStatusChanges,f._Y.WHITEBOARD),d=n+c.numEmptyDesignSeats,_=m+c.numEmptyWhiteboardSeats;if(B({numDesignEditors:d,numWhiteboardEditors:_,editorStatusChanges:c.editorStatusChanges,teamId:e,updatedAt:c.updatedAt,cartSelections:c.cartSelections}),R){var l;let e=(l=R.billing_period,v.tY[v.tY[l]]),s=t?{billing_address:R.billing_address,shipping_address:R.shipping_address||R.billing_address}:null;a(g.Lo({billingPeriod:e})),a(g.$h({vatGstId:R.vat_gst_id})),a(g.yy({legalName:R.customer_legal_name||R.company_name,displayName:R.display_name})),a(g.Ef({regionalVatGstId:R.regional_vat_gst_id})),r({address:R.address,editor_status_changes:c.editorStatusChanges,figma_email_team_users:o,selected_currency:R.currency,annual_quantity:(0,N.fD)(e,d),monthly_quantity:(0,N.Rq)(e,d),annual_whiteboard_quantity:(0,N.fD)(e,_),monthly_whiteboard_quantity:(0,N.Rq)(e,_),vat_gst_id:R.vat_gst_id,regional_vat_gst_id:R.regional_vat_gst_id,...s})}else"teamUpgrade"===y.view&&y.paymentStep===v.tn.CONFIRM_PAY&&y.billingPeriod!==v.tY.STUDENT&&s.definedAnalyticsHandler.trackDefinedEvent("monetization_upgrades.pro_checkout_confirmation_without_payment_flow_data",{isCampfireCart:P,teamId:e??void 0}),k(!1)}else k(!1)}},[a,D,E,I,e,b,w,R,y,B,t,P]),(0,r.useEffect)(()=>()=>{e&&C(a,e)},[a,e]),w}),C=(0,y.D)((e,t)=>{let a=h.Xw.loadingKeyForPayload({teamId:t});e(p.yH({key:a}))});function w(e){e(g.qU({cartSelections:{countBySeatType:E.N_.dict(e=>0),selectedUserSeatTypes:{}}}))}function A(e){e(g.Je({editorStatusChanges:{upgrade:{whiteboard:[],design:[],slides:[],sites:[],cooper:[],figmake:[]},downgrade:{whiteboard:[],design:[],slides:[],sites:[],cooper:[],figmake:[]}}})),e(g.js({numDesignEditors:0})),e(g.Az({numWhiteboardEditors:0}))}},934397:(e,t,a)=>{a.d(t,{Cn:()=>d,JO:()=>c,UI:()=>n,X4:()=>s,by:()=>o,fm:()=>i});var r=a(755595),l=a(795234),s=(e=>(e.DAILY="daily",e.WEEKLY="weekly",e.MONTHLY="monthly",e))(s||{}),n=(e=>(e.ALL_ADMINS="all_admins",e.SPECIFIC_ADMINS="specific_admins",e))(n||{}),i=(e=>(e.TEAM="team",e.ORGANIZATION="organization",e))(i||{}),o=(e=>(e.NEW_EDITOR_NOTIFICATION="new_editor_notification",e))(o||{}),c=(e=>(e.VIEWER="viewer",e.VIEWER_RESTRICTED="viewer_restricted",e.FULL="full",e))(c||{});let m=r.z.object({strings:r.z.object({team_admin_billing_cost_banner:r.z.object({banner_description:r.z.string()}),cart_banner:r.z.object({cart_banner_info:r.z.string(),cart_banner_edu_info:r.z.string()})}).partial()}).optional(),d=new class{constructor(){this.NotificationSettingsSchemaValidator=(0,l.vh)(),this.MaintenancePoc1Validator=(0,l.YV)("MaintenancePoc1",m,null),this.PlanPropertiesSchemaValidator=(0,l.vh)()}getNotificationSettings(e){return this.NotificationSettingsSchemaValidator.validate(async({xr:t})=>await t.get("/api/billing/notification_settings",l.td.toAPIParameters({plan_id:e.planId,plan_type:e.planType,notification_type:e.notificationType}))??null)}getPlanProperties(e){return this.PlanPropertiesSchemaValidator.validate(async({xr:t})=>await t.get(`/api/billing/${e.planType}/${e.planId}/plan_properties`,l.td.toAPIParameters({desired_properties:["default_paid_status_design","default_paid_status_whiteboard"].toString()}))??null)}updatePlanProperties(e){return this.PlanPropertiesSchemaValidator.validate(async({xr:t})=>await t.put(`/api/billing/${e.planType}/${e.planId}/plan_properties`,e.properties)??null)}maintenancePoc1(){return this.MaintenancePoc1Validator.validate(async({xr:e})=>await e.get("/api/billing/maintenance_846b4c12"))}}},772172:(e,t,a)=>{a.d(t,{s:()=>d,K:()=>_});var r=a(848318),l=a(720522),s=a(297638),n=a(744577),i=a(863270),o=a(809027),c=a(97605);let m=e=>e.maxSeatsCount?Math.min(e.maxSeatsCount,99):99;function d(e){return r.createElement(r.Fragment,null,r.createElement("div",{className:s.s.flex.itemsCenter.$},r.createElement("div",{className:"seat_counter--seatCounter--DiuEb"},r.createElement(i.$z,{disabled:e.numSeats<=e.minSeatsCount,innerText:`remove additional ${e.billableProductKey} seat`,className:"seat_counter--minusButton--e0dEs",onClick:e.decrementSeats,dataTestId:`remove-additional-${e.billableProductKey}`},r.createElement(l.B,{svg:o.A})),r.createElement("input",{value:e.numSeats,maxLength:2,onChange:e.updateAdditionalSeatsText,className:"seat_counter--additionalSeatsInput--pOPr1",onFocus:e=>e.target.select()}),r.createElement(i.$z,{disabled:e.numSeats>=m(e),innerText:`add additional ${e.billableProductKey} seat`,className:"seat_counter--plusButton--ZEWEz",onClick:e.incrementSeats,dataTestId:`add-additional-${e.billableProductKey}`},r.createElement(l.B,{svg:c.A}))),r.createElement("div",null,r.createElement("div",{className:"seat_counter--headerText--xIHXf"},e.headerText),e.headerSubText&&r.createElement("div",{className:"seat_counter--headerSubText--c9SXC seat_counter--headerText--xIHXf"},e.headerSubText),e.clarificationText&&r.createElement("span",{style:n.sx.colorText.colorBgSecondary.h16.pl4.pr4.mt8.bRadius1.inlineBlock.add({fontSize:"9px"}).$},e.clarificationText))))}function _(e,t){return a=>{if(""===a.target.value){e(0);return}let r=parseInt(a.target.value);isNaN(r)||(r>99?e(99):t&&r>t?e(t):e(r))}}},298210:(e,t,a)=>{a.d(t,{I:()=>l});var r=a(848318);class l extends r.Component{render(){return r.createElement("div",{className:"persisted_error--container--ls5K4",style:{marginTop:this.props.marginTop??32}},r.createElement("div",{className:"persisted_error--sideBar--C-abH"}),r.createElement("div",{className:"persisted_error--message--EiciR"},this.props.message))}}},645719:(e,t,a)=>{a.d(t,{o:()=>s});var r=a(848318);if(443==a.j)var l=a(143823);function s(e){return r.createElement(r.Suspense,{fallback:r.createElement(l.k,null)},e.children)}},153558:(e,t,a)=>{a.d(t,{R:()=>l});var r=a(848318);function l(){let[e,t]=r.useState(!1);return{isLoading:e,withLoading:async e=>{try{t(!0),await e()}finally{t(!1)}}}}},281314:(e,t,a)=>{a.d(t,{d:()=>l});var r=a(749214);let l=(0,a(848318).memo)(function(e){return(0,r.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:(0,r.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8 12a.5.5 0 0 1-.5-.5V4.707L4.354 7.854a.5.5 0 1 1-.708-.707l4-4a.5.5 0 0 1 .708 0l4 4a.5.5 0 0 1-.708.707L8.5 4.707V11.5a.5.5 0 0 1-.5.5",clipRule:"evenodd"})})})},531901:(e,t,a)=>{a.d(t,{w:()=>l});var r=a(749214);let l=(0,a(848318).memo)(function(e){return(0,r.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,r.jsx)("path",{fill:"var(--color-icon)",d:"M17.523 12.036a.5.5 0 0 1 .449.546A6 6 0 0 1 7 15.317V17.5a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1H8q.066.089.138.175a5 5 0 0 0 8.839-2.69.5.5 0 0 1 .546-.45M17.5 6a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1 0-1H16a5 5 0 0 0-8.977 2.515.5.5 0 1 1-.995-.097A6 6 0 0 1 17 8.683V6.5a.5.5 0 0 1 .5-.5"})})})}}]);

//# debugId=203b8cd3-6303-5641-83a0-035e35086f0a

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/c806c444796268d576cc87e80c35e04d40e9a08e/c5e2cae0-40769bf4d91ad23e.min.js.map